(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=r(c);fetch(c.href,o)}})();function Hs(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var c=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,c.get?c:{enumerable:!0,get:function(){return t[i]}})}),r}var ni={},Dr={},Co;function Kf(){if(Co)return Dr;Co=1,Dr.byteLength=d,Dr.toByteArray=s,Dr.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,o=i.length;c<o;++c)t[c]=i[c],e[i.charCodeAt(c)]=c;e[45]=62,e[95]=63;function p(E){var A=E.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=E.indexOf("=");I===-1&&(I=A);var R=I===A?0:4-I%4;return[I,R]}function d(E){var A=p(E),I=A[0],R=A[1];return(I+R)*3/4-R}function a(E,A,I){return(A+I)*3/4-I}function s(E){var A,I=p(E),R=I[0],U=I[1],k=new r(a(E,R,U)),H=0,q=U>0?R-4:R,F;for(F=0;F<q;F+=4)A=e[E.charCodeAt(F)]<<18|e[E.charCodeAt(F+1)]<<12|e[E.charCodeAt(F+2)]<<6|e[E.charCodeAt(F+3)],k[H++]=A>>16&255,k[H++]=A>>8&255,k[H++]=A&255;return U===2&&(A=e[E.charCodeAt(F)]<<2|e[E.charCodeAt(F+1)]>>4,k[H++]=A&255),U===1&&(A=e[E.charCodeAt(F)]<<10|e[E.charCodeAt(F+1)]<<4|e[E.charCodeAt(F+2)]>>2,k[H++]=A>>8&255,k[H++]=A&255),k}function u(E){return t[E>>18&63]+t[E>>12&63]+t[E>>6&63]+t[E&63]}function v(E,A,I){for(var R,U=[],k=A;k<I;k+=3)R=(E[k]<<16&16711680)+(E[k+1]<<8&65280)+(E[k+2]&255),U.push(u(R));return U.join("")}function g(E){for(var A,I=E.length,R=I%3,U=[],k=16383,H=0,q=I-R;H<q;H+=k)U.push(v(E,H,H+k>q?q:H+k));return R===1?(A=E[I-1],U.push(t[A>>2]+t[A<<4&63]+"==")):R===2&&(A=(E[I-2]<<8)+E[I-1],U.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),U.join("")}return Dr}var Sn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var Oo;function Wf(){return Oo||(Oo=1,Sn.read=function(t,e,r,i,c){var o,p,d=c*8-i-1,a=(1<<d)-1,s=a>>1,u=-7,v=r?c-1:0,g=r?-1:1,E=t[e+v];for(v+=g,o=E&(1<<-u)-1,E>>=-u,u+=d;u>0;o=o*256+t[e+v],v+=g,u-=8);for(p=o&(1<<-u)-1,o>>=-u,u+=i;u>0;p=p*256+t[e+v],v+=g,u-=8);if(o===0)o=1-s;else{if(o===a)return p?NaN:(E?-1:1)*(1/0);p=p+Math.pow(2,i),o=o-s}return(E?-1:1)*p*Math.pow(2,o-i)},Sn.write=function(t,e,r,i,c,o){var p,d,a,s=o*8-c-1,u=(1<<s)-1,v=u>>1,g=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,E=i?0:o-1,A=i?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,p=u):(p=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-p))<1&&(p--,a*=2),p+v>=1?e+=g/a:e+=g*Math.pow(2,1-v),e*a>=2&&(p++,a/=2),p+v>=u?(d=0,p=u):p+v>=1?(d=(e*a-1)*Math.pow(2,c),p=p+v):(d=e*Math.pow(2,v-1)*Math.pow(2,c),p=0));c>=8;t[r+E]=d&255,E+=A,d/=256,c-=8);for(p=p<<c|d,s+=c;s>0;t[r+E]=p&255,E+=A,p/=256,s-=8);t[r+E-A]|=I*128}),Sn}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var No;function Gn(){return No||(No=1,(function(t){const e=Kf(),r=Wf(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=k,t.INSPECT_MAX_BYTES=50;const c=2147483647;t.kMaxLength=c,d.TYPED_ARRAY_SUPPORT=o(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const C=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(C,w),C.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function p(C){if(C>c)throw new RangeError('The value "'+C+'" is invalid for option "size"');const w=new Uint8Array(C);return Object.setPrototypeOf(w,d.prototype),w}function d(C,w,_){if(typeof C=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(C)}return a(C,w,_)}d.poolSize=8192;function a(C,w,_){if(typeof C=="string")return g(C,w);if(ArrayBuffer.isView(C))return A(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(Ue(C,ArrayBuffer)||C&&Ue(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ue(C,SharedArrayBuffer)||C&&Ue(C.buffer,SharedArrayBuffer)))return I(C,w,_);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const $=C.valueOf&&C.valueOf();if($!=null&&$!==C)return d.from($,w,_);const Z=R(C);if(Z)return Z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return d.from(C[Symbol.toPrimitive]("string"),w,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}d.from=function(C,w,_){return a(C,w,_)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function s(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function u(C,w,_){return s(C),C<=0?p(C):w!==void 0?typeof _=="string"?p(C).fill(w,_):p(C).fill(w):p(C)}d.alloc=function(C,w,_){return u(C,w,_)};function v(C){return s(C),p(C<0?0:U(C)|0)}d.allocUnsafe=function(C){return v(C)},d.allocUnsafeSlow=function(C){return v(C)};function g(C,w){if((typeof w!="string"||w==="")&&(w="utf8"),!d.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const _=H(C,w)|0;let $=p(_);const Z=$.write(C,w);return Z!==_&&($=$.slice(0,Z)),$}function E(C){const w=C.length<0?0:U(C.length)|0,_=p(w);for(let $=0;$<w;$+=1)_[$]=C[$]&255;return _}function A(C){if(Ue(C,Uint8Array)){const w=new Uint8Array(C);return I(w.buffer,w.byteOffset,w.byteLength)}return E(C)}function I(C,w,_){if(w<0||C.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<w+(_||0))throw new RangeError('"length" is outside of buffer bounds');let $;return w===void 0&&_===void 0?$=new Uint8Array(C):_===void 0?$=new Uint8Array(C,w):$=new Uint8Array(C,w,_),Object.setPrototypeOf($,d.prototype),$}function R(C){if(d.isBuffer(C)){const w=U(C.length)|0,_=p(w);return _.length===0||C.copy(_,0,0,w),_}if(C.length!==void 0)return typeof C.length!="number"||Ze(C.length)?p(0):E(C);if(C.type==="Buffer"&&Array.isArray(C.data))return E(C.data)}function U(C){if(C>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return C|0}function k(C){return+C!=C&&(C=0),d.alloc(+C)}d.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==d.prototype},d.compare=function(w,_){if(Ue(w,Uint8Array)&&(w=d.from(w,w.offset,w.byteLength)),Ue(_,Uint8Array)&&(_=d.from(_,_.offset,_.byteLength)),!d.isBuffer(w)||!d.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===_)return 0;let $=w.length,Z=_.length;for(let se=0,ce=Math.min($,Z);se<ce;++se)if(w[se]!==_[se]){$=w[se],Z=_[se];break}return $<Z?-1:Z<$?1:0},d.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(w,_){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return d.alloc(0);let $;if(_===void 0)for(_=0,$=0;$<w.length;++$)_+=w[$].length;const Z=d.allocUnsafe(_);let se=0;for($=0;$<w.length;++$){let ce=w[$];if(Ue(ce,Uint8Array))se+ce.length>Z.length?(d.isBuffer(ce)||(ce=d.from(ce)),ce.copy(Z,se)):Uint8Array.prototype.set.call(Z,ce,se);else if(d.isBuffer(ce))ce.copy(Z,se);else throw new TypeError('"list" argument must be an Array of Buffers');se+=ce.length}return Z};function H(C,w){if(d.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||Ue(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const _=C.length,$=arguments.length>2&&arguments[2]===!0;if(!$&&_===0)return 0;let Z=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return Se(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return Ge(C).length;default:if(Z)return $?-1:Se(C).length;w=(""+w).toLowerCase(),Z=!0}}d.byteLength=H;function q(C,w,_){let $=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,w>>>=0,_<=w))return"";for(C||(C="utf8");;)switch(C){case"hex":return T(this,w,_);case"utf8":case"utf-8":return l(this,w,_);case"ascii":return M(this,w,_);case"latin1":case"binary":return P(this,w,_);case"base64":return f(this,w,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,w,_);default:if($)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),$=!0}}d.prototype._isBuffer=!0;function F(C,w,_){const $=C[w];C[w]=C[_],C[_]=$}d.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<w;_+=2)F(this,_,_+1);return this},d.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<w;_+=4)F(this,_,_+3),F(this,_+1,_+2);return this},d.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<w;_+=8)F(this,_,_+7),F(this,_+1,_+6),F(this,_+2,_+5),F(this,_+3,_+4);return this},d.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?l(this,0,w):q.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(w){if(!d.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:d.compare(this,w)===0},d.prototype.inspect=function(){let w="";const _=t.INSPECT_MAX_BYTES;return w=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(w+=" ... "),"<Buffer "+w+">"},i&&(d.prototype[i]=d.prototype.inspect),d.prototype.compare=function(w,_,$,Z,se){if(Ue(w,Uint8Array)&&(w=d.from(w,w.offset,w.byteLength)),!d.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(_===void 0&&(_=0),$===void 0&&($=w?w.length:0),Z===void 0&&(Z=0),se===void 0&&(se=this.length),_<0||$>w.length||Z<0||se>this.length)throw new RangeError("out of range index");if(Z>=se&&_>=$)return 0;if(Z>=se)return-1;if(_>=$)return 1;if(_>>>=0,$>>>=0,Z>>>=0,se>>>=0,this===w)return 0;let ce=se-Z,Ce=$-_;const ot=Math.min(ce,Ce),ke=this.slice(Z,se),$e=w.slice(_,$);for(let rt=0;rt<ot;++rt)if(ke[rt]!==$e[rt]){ce=ke[rt],Ce=$e[rt];break}return ce<Ce?-1:Ce<ce?1:0};function j(C,w,_,$,Z){if(C.length===0)return-1;if(typeof _=="string"?($=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,Ze(_)&&(_=Z?0:C.length-1),_<0&&(_=C.length+_),_>=C.length){if(Z)return-1;_=C.length-1}else if(_<0)if(Z)_=0;else return-1;if(typeof w=="string"&&(w=d.from(w,$)),d.isBuffer(w))return w.length===0?-1:J(C,w,_,$,Z);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(C,w,_):Uint8Array.prototype.lastIndexOf.call(C,w,_):J(C,[w],_,$,Z);throw new TypeError("val must be string, number or Buffer")}function J(C,w,_,$,Z){let se=1,ce=C.length,Ce=w.length;if($!==void 0&&($=String($).toLowerCase(),$==="ucs2"||$==="ucs-2"||$==="utf16le"||$==="utf-16le")){if(C.length<2||w.length<2)return-1;se=2,ce/=2,Ce/=2,_/=2}function ot($e,rt){return se===1?$e[rt]:$e.readUInt16BE(rt*se)}let ke;if(Z){let $e=-1;for(ke=_;ke<ce;ke++)if(ot(C,ke)===ot(w,$e===-1?0:ke-$e)){if($e===-1&&($e=ke),ke-$e+1===Ce)return $e*se}else $e!==-1&&(ke-=ke-$e),$e=-1}else for(_+Ce>ce&&(_=ce-Ce),ke=_;ke>=0;ke--){let $e=!0;for(let rt=0;rt<Ce;rt++)if(ot(C,ke+rt)!==ot(w,rt)){$e=!1;break}if($e)return ke}return-1}d.prototype.includes=function(w,_,$){return this.indexOf(w,_,$)!==-1},d.prototype.indexOf=function(w,_,$){return j(this,w,_,$,!0)},d.prototype.lastIndexOf=function(w,_,$){return j(this,w,_,$,!1)};function te(C,w,_,$){_=Number(_)||0;const Z=C.length-_;$?($=Number($),$>Z&&($=Z)):$=Z;const se=w.length;$>se/2&&($=se/2);let ce;for(ce=0;ce<$;++ce){const Ce=parseInt(w.substr(ce*2,2),16);if(Ze(Ce))return ce;C[_+ce]=Ce}return ce}function D(C,w,_,$){return Oe(Se(w,C.length-_),C,_,$)}function X(C,w,_,$){return Oe(_e(w),C,_,$)}function b(C,w,_,$){return Oe(Ge(w),C,_,$)}function n(C,w,_,$){return Oe(Te(w,C.length-_),C,_,$)}d.prototype.write=function(w,_,$,Z){if(_===void 0)Z="utf8",$=this.length,_=0;else if($===void 0&&typeof _=="string")Z=_,$=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite($)?($=$>>>0,Z===void 0&&(Z="utf8")):(Z=$,$=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const se=this.length-_;if(($===void 0||$>se)&&($=se),w.length>0&&($<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");let ce=!1;for(;;)switch(Z){case"hex":return te(this,w,_,$);case"utf8":case"utf-8":return D(this,w,_,$);case"ascii":case"latin1":case"binary":return X(this,w,_,$);case"base64":return b(this,w,_,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n(this,w,_,$);default:if(ce)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ce=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function f(C,w,_){return w===0&&_===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(w,_))}function l(C,w,_){_=Math.min(C.length,_);const $=[];let Z=w;for(;Z<_;){const se=C[Z];let ce=null,Ce=se>239?4:se>223?3:se>191?2:1;if(Z+Ce<=_){let ot,ke,$e,rt;switch(Ce){case 1:se<128&&(ce=se);break;case 2:ot=C[Z+1],(ot&192)===128&&(rt=(se&31)<<6|ot&63,rt>127&&(ce=rt));break;case 3:ot=C[Z+1],ke=C[Z+2],(ot&192)===128&&(ke&192)===128&&(rt=(se&15)<<12|(ot&63)<<6|ke&63,rt>2047&&(rt<55296||rt>57343)&&(ce=rt));break;case 4:ot=C[Z+1],ke=C[Z+2],$e=C[Z+3],(ot&192)===128&&(ke&192)===128&&($e&192)===128&&(rt=(se&15)<<18|(ot&63)<<12|(ke&63)<<6|$e&63,rt>65535&&rt<1114112&&(ce=rt))}}ce===null?(ce=65533,Ce=1):ce>65535&&(ce-=65536,$.push(ce>>>10&1023|55296),ce=56320|ce&1023),$.push(ce),Z+=Ce}return x($)}const m=4096;function x(C){const w=C.length;if(w<=m)return String.fromCharCode.apply(String,C);let _="",$=0;for(;$<w;)_+=String.fromCharCode.apply(String,C.slice($,$+=m));return _}function M(C,w,_){let $="";_=Math.min(C.length,_);for(let Z=w;Z<_;++Z)$+=String.fromCharCode(C[Z]&127);return $}function P(C,w,_){let $="";_=Math.min(C.length,_);for(let Z=w;Z<_;++Z)$+=String.fromCharCode(C[Z]);return $}function T(C,w,_){const $=C.length;(!w||w<0)&&(w=0),(!_||_<0||_>$)&&(_=$);let Z="";for(let se=w;se<_;++se)Z+=He[C[se]];return Z}function h(C,w,_){const $=C.slice(w,_);let Z="";for(let se=0;se<$.length-1;se+=2)Z+=String.fromCharCode($[se]+$[se+1]*256);return Z}d.prototype.slice=function(w,_){const $=this.length;w=~~w,_=_===void 0?$:~~_,w<0?(w+=$,w<0&&(w=0)):w>$&&(w=$),_<0?(_+=$,_<0&&(_=0)):_>$&&(_=$),_<w&&(_=w);const Z=this.subarray(w,_);return Object.setPrototypeOf(Z,d.prototype),Z};function B(C,w,_){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+w>_)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(w,_,$){w=w>>>0,_=_>>>0,$||B(w,_,this.length);let Z=this[w],se=1,ce=0;for(;++ce<_&&(se*=256);)Z+=this[w+ce]*se;return Z},d.prototype.readUintBE=d.prototype.readUIntBE=function(w,_,$){w=w>>>0,_=_>>>0,$||B(w,_,this.length);let Z=this[w+--_],se=1;for(;_>0&&(se*=256);)Z+=this[w+--_]*se;return Z},d.prototype.readUint8=d.prototype.readUInt8=function(w,_){return w=w>>>0,_||B(w,1,this.length),this[w]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(w,_){return w=w>>>0,_||B(w,2,this.length),this[w]|this[w+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(w,_){return w=w>>>0,_||B(w,2,this.length),this[w]<<8|this[w+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(w,_){return w=w>>>0,_||B(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(w,_){return w=w>>>0,_||B(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},d.prototype.readBigUInt64LE=We(function(w){w=w>>>0,ae(w,"offset");const _=this[w],$=this[w+7];(_===void 0||$===void 0)&&be(w,this.length-8);const Z=_+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,se=this[++w]+this[++w]*2**8+this[++w]*2**16+$*2**24;return BigInt(Z)+(BigInt(se)<<BigInt(32))}),d.prototype.readBigUInt64BE=We(function(w){w=w>>>0,ae(w,"offset");const _=this[w],$=this[w+7];(_===void 0||$===void 0)&&be(w,this.length-8);const Z=_*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],se=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+$;return(BigInt(Z)<<BigInt(32))+BigInt(se)}),d.prototype.readIntLE=function(w,_,$){w=w>>>0,_=_>>>0,$||B(w,_,this.length);let Z=this[w],se=1,ce=0;for(;++ce<_&&(se*=256);)Z+=this[w+ce]*se;return se*=128,Z>=se&&(Z-=Math.pow(2,8*_)),Z},d.prototype.readIntBE=function(w,_,$){w=w>>>0,_=_>>>0,$||B(w,_,this.length);let Z=_,se=1,ce=this[w+--Z];for(;Z>0&&(se*=256);)ce+=this[w+--Z]*se;return se*=128,ce>=se&&(ce-=Math.pow(2,8*_)),ce},d.prototype.readInt8=function(w,_){return w=w>>>0,_||B(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},d.prototype.readInt16LE=function(w,_){w=w>>>0,_||B(w,2,this.length);const $=this[w]|this[w+1]<<8;return $&32768?$|4294901760:$},d.prototype.readInt16BE=function(w,_){w=w>>>0,_||B(w,2,this.length);const $=this[w+1]|this[w]<<8;return $&32768?$|4294901760:$},d.prototype.readInt32LE=function(w,_){return w=w>>>0,_||B(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},d.prototype.readInt32BE=function(w,_){return w=w>>>0,_||B(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},d.prototype.readBigInt64LE=We(function(w){w=w>>>0,ae(w,"offset");const _=this[w],$=this[w+7];(_===void 0||$===void 0)&&be(w,this.length-8);const Z=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+($<<24);return(BigInt(Z)<<BigInt(32))+BigInt(_+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),d.prototype.readBigInt64BE=We(function(w){w=w>>>0,ae(w,"offset");const _=this[w],$=this[w+7];(_===void 0||$===void 0)&&be(w,this.length-8);const Z=(_<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(Z)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+$)}),d.prototype.readFloatLE=function(w,_){return w=w>>>0,_||B(w,4,this.length),r.read(this,w,!0,23,4)},d.prototype.readFloatBE=function(w,_){return w=w>>>0,_||B(w,4,this.length),r.read(this,w,!1,23,4)},d.prototype.readDoubleLE=function(w,_){return w=w>>>0,_||B(w,8,this.length),r.read(this,w,!0,52,8)},d.prototype.readDoubleBE=function(w,_){return w=w>>>0,_||B(w,8,this.length),r.read(this,w,!1,52,8)};function G(C,w,_,$,Z,se){if(!d.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>Z||w<se)throw new RangeError('"value" argument is out of bounds');if(_+$>C.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(w,_,$,Z){if(w=+w,_=_>>>0,$=$>>>0,!Z){const Ce=Math.pow(2,8*$)-1;G(this,w,_,$,Ce,0)}let se=1,ce=0;for(this[_]=w&255;++ce<$&&(se*=256);)this[_+ce]=w/se&255;return _+$},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(w,_,$,Z){if(w=+w,_=_>>>0,$=$>>>0,!Z){const Ce=Math.pow(2,8*$)-1;G(this,w,_,$,Ce,0)}let se=$-1,ce=1;for(this[_+se]=w&255;--se>=0&&(ce*=256);)this[_+se]=w/ce&255;return _+$},d.prototype.writeUint8=d.prototype.writeUInt8=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,1,255,0),this[_]=w&255,_+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,2,65535,0),this[_]=w&255,this[_+1]=w>>>8,_+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,2,65535,0),this[_]=w>>>8,this[_+1]=w&255,_+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,4,4294967295,0),this[_+3]=w>>>24,this[_+2]=w>>>16,this[_+1]=w>>>8,this[_]=w&255,_+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,4,4294967295,0),this[_]=w>>>24,this[_+1]=w>>>16,this[_+2]=w>>>8,this[_+3]=w&255,_+4};function ee(C,w,_,$,Z){pe(w,$,Z,C,_,7);let se=Number(w&BigInt(4294967295));C[_++]=se,se=se>>8,C[_++]=se,se=se>>8,C[_++]=se,se=se>>8,C[_++]=se;let ce=Number(w>>BigInt(32)&BigInt(4294967295));return C[_++]=ce,ce=ce>>8,C[_++]=ce,ce=ce>>8,C[_++]=ce,ce=ce>>8,C[_++]=ce,_}function z(C,w,_,$,Z){pe(w,$,Z,C,_,7);let se=Number(w&BigInt(4294967295));C[_+7]=se,se=se>>8,C[_+6]=se,se=se>>8,C[_+5]=se,se=se>>8,C[_+4]=se;let ce=Number(w>>BigInt(32)&BigInt(4294967295));return C[_+3]=ce,ce=ce>>8,C[_+2]=ce,ce=ce>>8,C[_+1]=ce,ce=ce>>8,C[_]=ce,_+8}d.prototype.writeBigUInt64LE=We(function(w,_=0){return ee(this,w,_,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=We(function(w,_=0){return z(this,w,_,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(w,_,$,Z){if(w=+w,_=_>>>0,!Z){const ot=Math.pow(2,8*$-1);G(this,w,_,$,ot-1,-ot)}let se=0,ce=1,Ce=0;for(this[_]=w&255;++se<$&&(ce*=256);)w<0&&Ce===0&&this[_+se-1]!==0&&(Ce=1),this[_+se]=(w/ce>>0)-Ce&255;return _+$},d.prototype.writeIntBE=function(w,_,$,Z){if(w=+w,_=_>>>0,!Z){const ot=Math.pow(2,8*$-1);G(this,w,_,$,ot-1,-ot)}let se=$-1,ce=1,Ce=0;for(this[_+se]=w&255;--se>=0&&(ce*=256);)w<0&&Ce===0&&this[_+se+1]!==0&&(Ce=1),this[_+se]=(w/ce>>0)-Ce&255;return _+$},d.prototype.writeInt8=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,1,127,-128),w<0&&(w=255+w+1),this[_]=w&255,_+1},d.prototype.writeInt16LE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,2,32767,-32768),this[_]=w&255,this[_+1]=w>>>8,_+2},d.prototype.writeInt16BE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,2,32767,-32768),this[_]=w>>>8,this[_+1]=w&255,_+2},d.prototype.writeInt32LE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,4,2147483647,-2147483648),this[_]=w&255,this[_+1]=w>>>8,this[_+2]=w>>>16,this[_+3]=w>>>24,_+4},d.prototype.writeInt32BE=function(w,_,$){return w=+w,_=_>>>0,$||G(this,w,_,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[_]=w>>>24,this[_+1]=w>>>16,this[_+2]=w>>>8,this[_+3]=w&255,_+4},d.prototype.writeBigInt64LE=We(function(w,_=0){return ee(this,w,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=We(function(w,_=0){return z(this,w,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(C,w,_,$,Z,se){if(_+$>C.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function re(C,w,_,$,Z){return w=+w,_=_>>>0,Z||K(C,w,_,4),r.write(C,w,_,$,23,4),_+4}d.prototype.writeFloatLE=function(w,_,$){return re(this,w,_,!0,$)},d.prototype.writeFloatBE=function(w,_,$){return re(this,w,_,!1,$)};function ie(C,w,_,$,Z){return w=+w,_=_>>>0,Z||K(C,w,_,8),r.write(C,w,_,$,52,8),_+8}d.prototype.writeDoubleLE=function(w,_,$){return ie(this,w,_,!0,$)},d.prototype.writeDoubleBE=function(w,_,$){return ie(this,w,_,!1,$)},d.prototype.copy=function(w,_,$,Z){if(!d.isBuffer(w))throw new TypeError("argument should be a Buffer");if($||($=0),!Z&&Z!==0&&(Z=this.length),_>=w.length&&(_=w.length),_||(_=0),Z>0&&Z<$&&(Z=$),Z===$||w.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if($<0||$>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),w.length-_<Z-$&&(Z=w.length-_+$);const se=Z-$;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,$,Z):Uint8Array.prototype.set.call(w,this.subarray($,Z),_),se},d.prototype.fill=function(w,_,$,Z){if(typeof w=="string"){if(typeof _=="string"?(Z=_,_=0,$=this.length):typeof $=="string"&&(Z=$,$=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!d.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);if(w.length===1){const ce=w.charCodeAt(0);(Z==="utf8"&&ce<128||Z==="latin1")&&(w=ce)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(_<0||this.length<_||this.length<$)throw new RangeError("Out of range index");if($<=_)return this;_=_>>>0,$=$===void 0?this.length:$>>>0,w||(w=0);let se;if(typeof w=="number")for(se=_;se<$;++se)this[se]=w;else{const ce=d.isBuffer(w)?w:d.from(w,Z),Ce=ce.length;if(Ce===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(se=0;se<$-_;++se)this[se+_]=ce[se%Ce]}return this};const Y={};function W(C,w,_){Y[C]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(Z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Z,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}W("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),W("ERR_INVALID_ARG_TYPE",function(C,w){return`The "${C}" argument must be of type number. Received type ${typeof w}`},TypeError),W("ERR_OUT_OF_RANGE",function(C,w,_){let $=`The value of "${C}" is out of range.`,Z=_;return Number.isInteger(_)&&Math.abs(_)>2**32?Z=ne(String(_)):typeof _=="bigint"&&(Z=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(Z=ne(Z)),Z+="n"),$+=` It must be ${w}. Received ${Z}`,$},RangeError);function ne(C){let w="",_=C.length;const $=C[0]==="-"?1:0;for(;_>=$+4;_-=3)w=`_${C.slice(_-3,_)}${w}`;return`${C.slice(0,_)}${w}`}function ue(C,w,_){ae(w,"offset"),(C[w]===void 0||C[w+_]===void 0)&&be(w,C.length-(_+1))}function pe(C,w,_,$,Z,se){if(C>_||C<w){const ce=typeof w=="bigint"?"n":"";let Ce;throw w===0||w===BigInt(0)?Ce=`>= 0${ce} and < 2${ce} ** ${(se+1)*8}${ce}`:Ce=`>= -(2${ce} ** ${(se+1)*8-1}${ce}) and < 2 ** ${(se+1)*8-1}${ce}`,new Y.ERR_OUT_OF_RANGE("value",Ce,C)}ue($,Z,se)}function ae(C,w){if(typeof C!="number")throw new Y.ERR_INVALID_ARG_TYPE(w,"number",C)}function be(C,w,_){throw Math.floor(C)!==C?(ae(C,_),new Y.ERR_OUT_OF_RANGE("offset","an integer",C)):w<0?new Y.ERR_BUFFER_OUT_OF_BOUNDS:new Y.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,C)}const ye=/[^+/0-9A-Za-z-_]/g;function he(C){if(C=C.split("=")[0],C=C.trim().replace(ye,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function Se(C,w){w=w||1/0;let _;const $=C.length;let Z=null;const se=[];for(let ce=0;ce<$;++ce){if(_=C.charCodeAt(ce),_>55295&&_<57344){if(!Z){if(_>56319){(w-=3)>-1&&se.push(239,191,189);continue}else if(ce+1===$){(w-=3)>-1&&se.push(239,191,189);continue}Z=_;continue}if(_<56320){(w-=3)>-1&&se.push(239,191,189),Z=_;continue}_=(Z-55296<<10|_-56320)+65536}else Z&&(w-=3)>-1&&se.push(239,191,189);if(Z=null,_<128){if((w-=1)<0)break;se.push(_)}else if(_<2048){if((w-=2)<0)break;se.push(_>>6|192,_&63|128)}else if(_<65536){if((w-=3)<0)break;se.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((w-=4)<0)break;se.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return se}function _e(C){const w=[];for(let _=0;_<C.length;++_)w.push(C.charCodeAt(_)&255);return w}function Te(C,w){let _,$,Z;const se=[];for(let ce=0;ce<C.length&&!((w-=2)<0);++ce)_=C.charCodeAt(ce),$=_>>8,Z=_%256,se.push(Z),se.push($);return se}function Ge(C){return e.toByteArray(he(C))}function Oe(C,w,_,$){let Z;for(Z=0;Z<$&&!(Z+_>=w.length||Z>=C.length);++Z)w[Z+_]=C[Z];return Z}function Ue(C,w){return C instanceof w||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===w.name}function Ze(C){return C!==C}const He=(function(){const C="0123456789abcdef",w=new Array(256);for(let _=0;_<16;++_){const $=_*16;for(let Z=0;Z<16;++Z)w[$+Z]=C[_]+C[Z]}return w})();function We(C){return typeof BigInt>"u"?xt:C}function xt(){throw new Error("BigInt not supported")}})(ni)),ni}var Ji=Gn(),Qi=function(t,e){return Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(r[c]=i[c])},Qi(t,e)};function kr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Qi(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Vf(t,e,r,i){function c(o){return o instanceof r?o:new r(function(p){p(o)})}return new(r||(r=Promise))(function(o,p){function d(u){try{s(i.next(u))}catch(v){p(v)}}function a(u){try{s(i.throw(u))}catch(v){p(v)}}function s(u){u.done?o(u.value):c(u.value).then(d,a)}s((i=i.apply(t,e||[])).next())})}function Ks(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,c,o,p=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return p.next=d(0),p.throw=d(1),p.return=d(2),typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function d(s){return function(u){return a([s,u])}}function a(s){if(i)throw new TypeError("Generator is already executing.");for(;p&&(p=0,s[0]&&(r=0)),r;)try{if(i=1,c&&(o=s[0]&2?c.return:s[0]?c.throw||((o=c.return)&&o.call(c),0):c.next)&&!(o=o.call(c,s[1])).done)return o;switch(c=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,c=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1],o=s;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(s);break}o[2]&&r.ops.pop(),r.trys.pop();continue}s=e.call(t,r)}catch(u){s=[6,u],c=0}finally{i=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function Pr(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var i=r.call(t),c,o=[],p;try{for(;(e===void 0||e-- >0)&&!(c=i.next()).done;)o.push(c.value)}catch(d){p={error:d}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(p)throw p.error}}return o}function to(t,e,r){if(r||arguments.length===2)for(var i=0,c=e.length,o;i<c;i++)(o||!(i in e))&&(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))}function Nr(t){return this instanceof Nr?(this.v=t,this):new Nr(t)}function Gf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(t,e||[]),c,o=[];return c=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",p),c[Symbol.asyncIterator]=function(){return this},c;function p(E){return function(A){return Promise.resolve(A).then(E,v)}}function d(E,A){i[E]&&(c[E]=function(I){return new Promise(function(R,U){o.push([E,I,R,U])>1||a(E,I)})},A&&(c[E]=A(c[E])))}function a(E,A){try{s(i[E](A))}catch(I){g(o[0][3],I)}}function s(E){E.value instanceof Nr?Promise.resolve(E.value.v).then(u,v):g(o[0][2],E)}function u(E){a("next",E)}function v(E){a("throw",E)}function g(E,A){E(A),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Yf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Pr=="function"?Pr(t):t[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(o){r[o]=t[o]&&function(p){return new Promise(function(d,a){p=t[o](p),c(d,a,p.done,p.value)})}}function c(o,p,d,a){Promise.resolve(a).then(function(s){o({value:s,done:d})},p)}}function qt(t){return typeof t=="function"}function fo(t){var e=function(i){Error.call(i),i.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ii=fo(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(i,c){return c+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function ro(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Yn=(function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,i,c,o;if(!this.closed){this.closed=!0;var p=this._parentage;if(p)if(this._parentage=null,Array.isArray(p))try{for(var d=Pr(p),a=d.next();!a.done;a=d.next()){var s=a.value;s.remove(this)}}catch(I){e={error:I}}finally{try{a&&!a.done&&(r=d.return)&&r.call(d)}finally{if(e)throw e.error}}else p.remove(this);var u=this.initialTeardown;if(qt(u))try{u()}catch(I){o=I instanceof ii?I.errors:[I]}var v=this._finalizers;if(v){this._finalizers=null;try{for(var g=Pr(v),E=g.next();!E.done;E=g.next()){var A=E.value;try{Po(A)}catch(I){o=o??[],I instanceof ii?o=to(to([],eo(o)),eo(I.errors)):o.push(I)}}}catch(I){i={error:I}}finally{try{E&&!E.done&&(c=g.return)&&c.call(g)}finally{if(i)throw i.error}}}if(o)throw new ii(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Po(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&ro(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&ro(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=(function(){var e=new t;return e.closed=!0,e})(),t})(),Ws=Yn.EMPTY;function Vs(t){return t instanceof Yn||t&&"closed"in t&&qt(t.remove)&&qt(t.add)&&qt(t.unsubscribe)}function Po(t){qt(t)?t():t.unsubscribe()}var Xf={Promise:void 0},Zf={setTimeout:function(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return setTimeout.apply(void 0,to([t,e],eo(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function Gs(t){Zf.setTimeout(function(){throw t})}function Uo(){}function Un(t){t()}var co=(function(t){kr(e,t);function e(r){var i=t.call(this)||this;return i.isStopped=!1,r?(i.destination=r,Vs(r)&&r.add(i)):i.destination=ec,i}return e.create=function(r,i,c){return new zn(r,i,c)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Yn),Jf=(function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(i){Mn(i)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(i){Mn(i)}else Mn(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){Mn(r)}},t})(),zn=(function(t){kr(e,t);function e(r,i,c){var o=t.call(this)||this,p;return qt(r)||!r?p={next:r??void 0,error:i??void 0,complete:c??void 0}:p=r,o.destination=new Jf(p),o}return e})(co);function Mn(t){Gs(t)}function Qf(t){throw t}var ec={closed:!0,next:Uo,error:Qf,complete:Uo},uo=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function Ys(t){return t}function tc(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Xs(t)}function Xs(t){return t.length===0?Ys:t.length===1?t[0]:function(r){return t.reduce(function(i,c){return c(i)},r)}}var Gt=(function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,i){var c=this,o=nc(e)?e:new zn(e,r,i);return Un(function(){var p=c,d=p.operator,a=p.source;o.add(d?d.call(o,a):a?c._subscribe(o):c._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var i=this;return r=Lo(r),new r(function(c,o){var p=new zn({next:function(d){try{e(d)}catch(a){o(a),p.unsubscribe()}},error:o,complete:c});i.subscribe(p)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[uo]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Xs(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Lo(e),new e(function(i,c){var o;r.subscribe(function(p){return o=p},function(p){return c(p)},function(){return i(o)})})},t.create=function(e){return new t(e)},t})();function Lo(t){var e;return(e=t??Xf.Promise)!==null&&e!==void 0?e:Promise}function rc(t){return t&&qt(t.next)&&qt(t.error)&&qt(t.complete)}function nc(t){return t&&t instanceof co||rc(t)&&Vs(t)}function ic(t){return qt(t?.lift)}function yn(t){return function(e){if(ic(e))return e.lift(function(r){try{return t(r,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ur(t,e,r,i,c){return new oc(t,e,r,i,c)}var oc=(function(t){kr(e,t);function e(r,i,c,o,p,d){var a=t.call(this,r)||this;return a.onFinalize=p,a.shouldUnsubscribe=d,a._next=i?function(s){try{i(s)}catch(u){r.error(u)}}:t.prototype._next,a._error=o?function(s){try{o(s)}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._error,a._complete=c?function(){try{c()}catch(s){r.error(s)}finally{this.unsubscribe()}}:t.prototype._complete,a}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;t.prototype.unsubscribe.call(this),!i&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e})(co),ac=fo(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Xn=(function(t){kr(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var i=new ko(this,this);return i.operator=r,i},e.prototype._throwIfClosed=function(){if(this.closed)throw new ac},e.prototype.next=function(r){var i=this;Un(function(){var c,o;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var p=Pr(i.currentObservers),d=p.next();!d.done;d=p.next()){var a=d.value;a.next(r)}}catch(s){c={error:s}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(c)throw c.error}}}})},e.prototype.error=function(r){var i=this;Un(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=r;for(var c=i.observers;c.length;)c.shift().error(r)}})},e.prototype.complete=function(){var r=this;Un(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var i=r.observers;i.length;)i.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var i=this,c=this,o=c.hasError,p=c.isStopped,d=c.observers;return o||p?Ws:(this.currentObservers=null,d.push(r),new Yn(function(){i.currentObservers=null,ro(d,r)}))},e.prototype._checkFinalizedStatuses=function(r){var i=this,c=i.hasError,o=i.thrownError,p=i.isStopped;c?r.error(o):p&&r.complete()},e.prototype.asObservable=function(){var r=new Gt;return r.source=this,r},e.create=function(r,i){return new ko(r,i)},e})(Gt),ko=(function(t){kr(e,t);function e(r,i){var c=t.call(this)||this;return c.destination=r,c.source=i,c}return e.prototype.next=function(r){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.next)===null||c===void 0||c.call(i,r)},e.prototype.error=function(r){var i,c;(c=(i=this.destination)===null||i===void 0?void 0:i.error)===null||c===void 0||c.call(i,r)},e.prototype.complete=function(){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||i===void 0||i.call(r)},e.prototype._subscribe=function(r){var i,c;return(c=(i=this.source)===null||i===void 0?void 0:i.subscribe(r))!==null&&c!==void 0?c:Ws},e})(Xn),lo=(function(t){kr(e,t);function e(r){var i=t.call(this)||this;return i._value=r,i}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var i=t.prototype._subscribe.call(this,r);return!i.closed&&r.next(this._value),i},e.prototype.getValue=function(){var r=this,i=r.hasError,c=r.thrownError,o=r._value;if(i)throw c;return this._throwIfClosed(),o},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e})(Xn),sc=new Gt(function(t){return t.complete()}),fc=(function(t){return t&&typeof t.length=="number"&&typeof t!="function"});function cc(t){return qt(t?.then)}function dc(t){return qt(t[uo])}function uc(t){return Symbol.asyncIterator&&qt(t?.[Symbol.asyncIterator])}function lc(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function hc(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var pc=hc();function bc(t){return qt(t?.[pc])}function yc(t){return Gf(this,arguments,function(){var r,i,c,o;return Ks(this,function(p){switch(p.label){case 0:r=t.getReader(),p.label=1;case 1:p.trys.push([1,,9,10]),p.label=2;case 2:return[4,Nr(r.read())];case 3:return i=p.sent(),c=i.value,o=i.done,o?[4,Nr(void 0)]:[3,5];case 4:return[2,p.sent()];case 5:return[4,Nr(c)];case 6:return[4,p.sent()];case 7:return p.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function vc(t){return qt(t?.getReader)}function gc(t){if(t instanceof Gt)return t;if(t!=null){if(dc(t))return mc(t);if(fc(t))return wc(t);if(cc(t))return xc(t);if(uc(t))return Zs(t);if(bc(t))return _c(t);if(vc(t))return Ec(t)}throw lc(t)}function mc(t){return new Gt(function(e){var r=t[uo]();if(qt(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wc(t){return new Gt(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function xc(t){return new Gt(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Gs)})}function _c(t){return new Gt(function(e){var r,i;try{for(var c=Pr(t),o=c.next();!o.done;o=c.next()){var p=o.value;if(e.next(p),e.closed)return}}catch(d){r={error:d}}finally{try{o&&!o.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}e.complete()})}function Zs(t){return new Gt(function(e){Ac(t,e).catch(function(r){return e.error(r)})})}function Ec(t){return Zs(yc(t))}function Ac(t,e){var r,i,c,o;return Vf(this,void 0,void 0,function(){var p,d;return Ks(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),r=Yf(t),a.label=1;case 1:return[4,r.next()];case 2:if(i=a.sent(),!!i.done)return[3,4];if(p=i.value,e.next(p),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return d=a.sent(),c={error:d},[3,11];case 6:return a.trys.push([6,,9,10]),i&&!i.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}var Sc=fo(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function Js(t,e){return new Promise(function(r,i){var c=new zn({next:function(o){r(o),c.unsubscribe()},error:i,complete:function(){i(new Sc)}});t.subscribe(c)})}function Mc(t,e){return yn(function(r,i){var c=0;r.subscribe(Ur(i,function(o){i.next(t.call(e,o,c++))}))})}function Ic(t,e){return yn(function(r,i){var c=0;r.subscribe(Ur(i,function(o){return t.call(e,o,c++)&&i.next(o)}))})}function Tc(t){return t<=0?function(){return sc}:yn(function(e,r){var i=0;e.subscribe(Ur(r,function(c){++i<=t&&(r.next(c),t<=i&&r.complete())}))})}function Bc(t,e){return e===void 0&&(e=Ys),t=t??Rc,yn(function(r,i){var c,o=!0;r.subscribe(Ur(i,function(p){var d=e(p);(o||!t(c,d))&&(o=!1,c=d,i.next(p))}))})}function Rc(t,e){return t===e}function Cc(t,e){return yn(function(r,i){var c=null,o=0,p=!1,d=function(){return p&&!c&&i.complete()};r.subscribe(Ur(i,function(a){c?.unsubscribe();var s=0,u=o++;gc(t(a,u)).subscribe(c=Ur(i,function(v){return i.next(e?e(a,v,u,s++):v)},function(){c=null,d()}))},function(){p=!0,d()}))})}function Oc(...t){const e={config:{},state:{}};for(const{config:r,props:i}of t)Object.assign(e.config,r),Object.assign(e.state,i);return e}const Qs=new lo(!1),Nc=Qs.asObservable().pipe(Ic(t=>!t),Tc(1)),In={},ef=new Map,ho=new Xn;ho.asObservable();function Pc(t){ef.set(t.name,t),ho.next({type:"add",store:t})}function Uc(t){ef.delete(t.name),ho.next({type:"remove",store:t})}let Ln=[];function Lc(t){Ln.push(t)}function qo(t){Ln.length&&Ln.forEach(e=>t.next(e)),Ln=[]}class kc extends lo{constructor(e){super(e.state),this.storeDef=e,this.initialState=void 0,this.state=void 0,this.batchInProgress=!1,this.events=new Xn,this.context={config:this.getConfig(),setEvent:r=>{Lc(r)}},this.events$=this.events.asObservable(),this.state=this.getInitialState(e.state),this.initialState=this.getValue(),Pc(this)}get name(){return this.storeDef.name}getInitialState(e){return In.preStateInit?In.preStateInit(e,this.name):e}getConfig(){return this.storeDef.config}query(e){return e(this.getValue())}update(...e){const r=this.getValue();let i=e.reduce((c,o)=>(c=o(c,this.context),c),r);In.preStoreUpdate&&(i=In.preStoreUpdate(r,i,this.name)),i!==r&&(this.state=i,Qs.getValue()?this.batchInProgress||(this.batchInProgress=!0,Nc.subscribe(()=>{super.next(this.state),qo(this.events),this.batchInProgress=!1})):(super.next(this.state),qo(this.events)))}getValue(){return this.state}reset(){this.update(()=>this.initialState)}combine(e){let r=!0;const i={};return new Gt(c=>{for(const[o,p]of Object.entries(e))c.add(p.subscribe(d=>{i[o]=d,r=!0}));return this.subscribe({next(){r&&(c.next({...i}),r=!1)},error(o){c.error(o)},complete(){c.complete()}})})}destroy(){Uc(this),this.reset()}next(e){this.update(()=>e)}error(){}complete(){}}function qc(t,...e){const{state:r,config:i}=Oc(...e),{name:c}=t;return new kc({name:c,state:r,config:i})}function $c(t){return typeof t=="function"}function sr(t,e){return function(r){return{...r,[t]:$c(e)?e(r[t]):e}}}function fr(t){return tc(Mc(t),Bc())}function Dc(t){return{props:t,config:void 0}}var an=(t=>(t.PUBLIC="Public Global Stellar Network ; September 2015",t.TESTNET="Test SDF Network ; September 2015",t.FUTURENET="Test SDF Future Network ; October 2022",t.SANDBOX="Local Sandbox Stellar Network ; September 2022",t.STANDALONE="Standalone Network ; February 2017",t))(an||{}),tf=(t=>(t.HW_WALLET="HW_WALLET",t.HOT_WALLET="HOT_WALLET",t.BRIDGE_WALLET="BRIDGE_WALLET",t.AIR_GAPED_WALLET="AIR_GAPED_WALLET",t))(tf||{});const Bt=qc({name:"state"},Dc({allowedWallets:[],hardwareWalletPaths:[]})),Fc=Bt.pipe(fr(t=>t.allowedWallets));Bt.pipe(fr(t=>t.selectedNetwork));const jc=Bt.pipe(fr(t=>t.modalTheme)),zc=Bt.pipe(fr(t=>t.buttonTheme)),Hc=Bt.pipe(fr(t=>t.activeAddress)),rf=Bt.pipe(fr(t=>t.horizonUrl));Bt.pipe(fr(t=>t.mnemonicPath));Bt.pipe(fr(t=>t.hardwareWalletPaths));function oi(t){Bt.update(sr("selectedModuleId",t))}function Kc(t){if(!Object.values(an).includes(t))throw new Error(`Wallet network "${t}" is not supported`);Bt.update(sr("selectedNetwork",t))}function Wc(t){Bt.update(sr("modalTheme",t))}function Vc(t){Bt.update(sr("buttonTheme",t))}function $o(t){Bt.update(sr("allowedWallets",t))}function Gc(t){Bt.update(sr("activeAddress",t))}function no(){Bt.update(sr("activeAddress",void 0))}function Yc(t){Bt.update(sr("horizonUrl",t))}class Xc{get selectedModule(){const{selectedModuleId:e}=Bt.getValue();if(!e)throw{code:-3,message:"Please set the wallet first"};const r=this.modules.find(i=>i.productId===e);if(!r)throw{code:-3,message:"Please set the wallet first"};return r}constructor(e){this.modules=e.modules,e.selectedWalletId&&this.setWallet(e.selectedWalletId),Kc(e.network);const r=e.theme||e.modalTheme;r&&Wc(r),e.buttonTheme&&Vc(e.buttonTheme),this.getSupportedWallets().then(i=>{$o(i)})}async getSupportedWallets(){return Promise.all(this.modules.map(async e=>{const r=new Promise(i=>setTimeout(()=>i(!1),500));return{id:e.productId,name:e.productName,type:e.moduleType,icon:e.productIcon,isAvailable:await Promise.race([r,e.isAvailable()]),isPlatformWrapper:await Promise.race([r,e.isPlatformWrapper?e.isPlatformWrapper():Promise.resolve(!1)]),url:e.productUrl}}))}setWallet(e){const r=this.modules.find(i=>i.productId===e);if(!r)throw new Error(`Wallet id "${e}" is not supported`);oi(r.productId)}async getAddress(e){const{address:r}=await this.selectedModule.getAddress(e);return Gc(r),{address:r}}async signTransaction(e,r){return this.selectedModule.signTransaction(e,{...r,networkPassphrase:r?.networkPassphrase||Bt.getValue().selectedNetwork})}async signAuthEntry(e,r){return this.selectedModule.signAuthEntry(e,{...r,networkPassphrase:r?.networkPassphrase||Bt.getValue().selectedNetwork})}async signMessage(e,r){return this.selectedModule.signMessage(e,{...r,networkPassphrase:r?.networkPassphrase||Bt.getValue().selectedNetwork})}async getNetwork(){return this.selectedModule.getNetwork()}async disconnect(){no()}isButtonCreated(){return!!this.buttonElement}assignButtons(e){const r=typeof e.connectEl=="string"?document.querySelector(e.connectEl):e.connectEl;if(!r)throw new Error("connectEl is not available");if(r.addEventListener("click",()=>{this.openModal({onWalletSelected:c=>{oi(c.id),this.getAddress().then(o=>e.onConnect(o))}}).then()},!1),!e.disconnectEl)return;const i=typeof e.disconnectEl=="string"?document.querySelector(e.disconnectEl):e.disconnectEl;if(!i)throw new Error("disconnectEl is not available");i.addEventListener("click",()=>{e.onDisconnect(),no(),this.selectedModule.disconnect&&this.selectedModule.disconnect().then()},!1)}async createButton(e){if(this.buttonElement)throw new Error("Stellar Wallets Kit button is already created");this.buttonElement=document.createElement("stellar-wallets-button"),e.buttonText&&this.buttonElement.setAttribute("buttonText",e.buttonText),e.horizonUrl&&Yc(e.horizonUrl),e.container.appendChild(this.buttonElement),this.buttonElement.addEventListener("button-clicked",()=>{this.openModal({onWalletSelected:r=>{oi(r.id),this.getAddress().then(i=>e.onConnect(i)).catch(i=>{e.onError&&e.onError(i)})},onClosed:r=>{e.onClosed&&e.onClosed(r)}})},!1),this.buttonElement.addEventListener("disconnect-wallet",()=>{e.onDisconnect(),this.selectedModule.disconnect&&this.selectedModule.disconnect()},!1)}async removeButton(e){if(!this.buttonElement)throw new Error("Stellar Wallets Kit button hasn't been created yet");e?.skipDisconnect!==!0&&this.buttonElement.disconnect(),this.buttonElement.remove(),delete this.buttonElement}async openModal(e){if(this.modalElement&&!this.buttonElement)throw new Error("Stellar Wallets Kit modal is already open");this.modalElement=document.createElement("stellar-wallets-modal");const r=await this.getSupportedWallets();$o(r),this.modalElement.setAttribute("showModal",""),e.modalTitle&&this.modalElement.setAttribute("modalTitle",e.modalTitle),e.notAvailableText&&this.modalElement.setAttribute("notAvailableText",e.notAvailableText),document.body.appendChild(this.modalElement);const i=o=>{e.onWalletSelected(o.detail),this.modalElement.removeEventListener("wallet-selected",i,!1),document.body.removeChild(this.modalElement),this.modalElement=void 0};this.modalElement.addEventListener("wallet-selected",i,!1);const c=o=>{e.onClosed&&e.onClosed(o.detail),this.modalElement.removeEventListener("wallet-selected",i,!1),this.modalElement.removeEventListener("modal-closed",c,!1),document.body.removeChild(this.modalElement),this.modalElement=void 0};this.modalElement.addEventListener("modal-closed",c,!1)}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kn=globalThis,po=kn.ShadowRoot&&(kn.ShadyCSS===void 0||kn.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,bo=Symbol(),Do=new WeakMap;let nf=class{constructor(e,r,i){if(this._$cssResult$=!0,i!==bo)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(po&&e===void 0){const i=r!==void 0&&r.length===1;i&&(e=Do.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&Do.set(r,e))}return e}toString(){return this.cssText}};const Zc=t=>new nf(typeof t=="string"?t:t+"",void 0,bo),Pt=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((i,c,o)=>i+(p=>{if(p._$cssResult$===!0)return p.cssText;if(typeof p=="number")return p;throw Error("Value passed to 'css' function must be a 'css' function result: "+p+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(c)+t[o+1]),t[0]);return new nf(r,t,bo)},Jc=(t,e)=>{if(po)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const i=document.createElement("style"),c=kn.litNonce;c!==void 0&&i.setAttribute("nonce",c),i.textContent=r.cssText,t.appendChild(i)}},Fo=po?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const i of e.cssRules)r+=i.cssText;return Zc(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:Qc,defineProperty:ed,getOwnPropertyDescriptor:td,getOwnPropertyNames:rd,getOwnPropertySymbols:nd,getPrototypeOf:id}=Object,Zn=globalThis,jo=Zn.trustedTypes,od=jo?jo.emptyScript:"",ad=Zn.reactiveElementPolyfillSupport,sn=(t,e)=>t,Hn={toAttribute(t,e){switch(e){case Boolean:t=t?od:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},yo=(t,e)=>!Qc(t,e),zo={attribute:!0,type:String,converter:Hn,reflect:!1,useDefault:!1,hasChanged:yo};Symbol.metadata??=Symbol("metadata"),Zn.litPropertyMetadata??=new WeakMap;let Or=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=zo){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const i=Symbol(),c=this.getPropertyDescriptor(e,i,r);c!==void 0&&ed(this.prototype,e,c)}}static getPropertyDescriptor(e,r,i){const{get:c,set:o}=td(this.prototype,e)??{get(){return this[r]},set(p){this[r]=p}};return{get:c,set(p){const d=c?.call(this);o?.call(this,p),this.requestUpdate(e,d,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??zo}static _$Ei(){if(this.hasOwnProperty(sn("elementProperties")))return;const e=id(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(sn("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(sn("properties"))){const r=this.properties,i=[...rd(r),...nd(r)];for(const c of i)this.createProperty(c,r[c])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[i,c]of r)this.elementProperties.set(i,c)}this._$Eh=new Map;for(const[r,i]of this.elementProperties){const c=this._$Eu(r,i);c!==void 0&&this._$Eh.set(c,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const c of i)r.unshift(Fo(c))}else e!==void 0&&r.push(Fo(e));return r}static _$Eu(e,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const i of r.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Jc(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,i){this._$AK(e,i)}_$ET(e,r){const i=this.constructor.elementProperties.get(e),c=this.constructor._$Eu(e,i);if(c!==void 0&&i.reflect===!0){const o=(i.converter?.toAttribute!==void 0?i.converter:Hn).toAttribute(r,i.type);this._$Em=e,o==null?this.removeAttribute(c):this.setAttribute(c,o),this._$Em=null}}_$AK(e,r){const i=this.constructor,c=i._$Eh.get(e);if(c!==void 0&&this._$Em!==c){const o=i.getPropertyOptions(c),p=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:Hn;this._$Em=c;const d=p.fromAttribute(r,o.type);this[c]=d??this._$Ej?.get(c)??d,this._$Em=null}}requestUpdate(e,r,i){if(e!==void 0){const c=this.constructor,o=this[e];if(i??=c.getPropertyOptions(e),!((i.hasChanged??yo)(o,r)||i.useDefault&&i.reflect&&o===this._$Ej?.get(e)&&!this.hasAttribute(c._$Eu(e,i))))return;this.C(e,r,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:i,reflect:c,wrapped:o},p){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,p??r??this[e]),o!==!0||p!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(r=void 0),this._$AL.set(e,r)),c===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[c,o]of this._$Ep)this[c]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[c,o]of i){const{wrapped:p}=o,d=this[c];p!==!0||this._$AL.has(c)||d===void 0||this.C(c,void 0,o,d)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((i=>i.hostUpdate?.())),this.update(r)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};Or.elementStyles=[],Or.shadowRootOptions={mode:"open"},Or[sn("elementProperties")]=new Map,Or[sn("finalized")]=new Map,ad?.({ReactiveElement:Or}),(Zn.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const vo=globalThis,Kn=vo.trustedTypes,Ho=Kn?Kn.createPolicy("lit-html",{createHTML:t=>t}):void 0,of="$lit$",rr=`lit$${Math.random().toFixed(9).slice(2)}$`,af="?"+rr,sd=`<${af}>`,Mr=document,dn=()=>Mr.createComment(""),un=t=>t===null||typeof t!="object"&&typeof t!="function",go=Array.isArray,fd=t=>go(t)||typeof t?.[Symbol.iterator]=="function",ai=`[ 	
\f\r]`,Fr=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ko=/-->/g,Wo=/>/g,dr=RegExp(`>|${ai}(?:([^\\s"'>=/]+)(${ai}*=${ai}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Vo=/'/g,Go=/"/g,sf=/^(?:script|style|textarea|title)$/i,cd=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Dt=cd(1),Ir=Symbol.for("lit-noChange"),Nt=Symbol.for("lit-nothing"),Yo=new WeakMap,Ar=Mr.createTreeWalker(Mr,129);function ff(t,e){if(!go(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ho!==void 0?Ho.createHTML(e):e}const dd=(t,e)=>{const r=t.length-1,i=[];let c,o=e===2?"<svg>":e===3?"<math>":"",p=Fr;for(let d=0;d<r;d++){const a=t[d];let s,u,v=-1,g=0;for(;g<a.length&&(p.lastIndex=g,u=p.exec(a),u!==null);)g=p.lastIndex,p===Fr?u[1]==="!--"?p=Ko:u[1]!==void 0?p=Wo:u[2]!==void 0?(sf.test(u[2])&&(c=RegExp("</"+u[2],"g")),p=dr):u[3]!==void 0&&(p=dr):p===dr?u[0]===">"?(p=c??Fr,v=-1):u[1]===void 0?v=-2:(v=p.lastIndex-u[2].length,s=u[1],p=u[3]===void 0?dr:u[3]==='"'?Go:Vo):p===Go||p===Vo?p=dr:p===Ko||p===Wo?p=Fr:(p=dr,c=void 0);const E=p===dr&&t[d+1].startsWith("/>")?" ":"";o+=p===Fr?a+sd:v>=0?(i.push(s),a.slice(0,v)+of+a.slice(v)+rr+E):a+rr+(v===-2?d:E)}return[ff(t,o+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};class ln{constructor({strings:e,_$litType$:r},i){let c;this.parts=[];let o=0,p=0;const d=e.length-1,a=this.parts,[s,u]=dd(e,r);if(this.el=ln.createElement(s,i),Ar.currentNode=this.el.content,r===2||r===3){const v=this.el.content.firstChild;v.replaceWith(...v.childNodes)}for(;(c=Ar.nextNode())!==null&&a.length<d;){if(c.nodeType===1){if(c.hasAttributes())for(const v of c.getAttributeNames())if(v.endsWith(of)){const g=u[p++],E=c.getAttribute(v).split(rr),A=/([.?@])?(.*)/.exec(g);a.push({type:1,index:o,name:A[2],strings:E,ctor:A[1]==="."?ld:A[1]==="?"?hd:A[1]==="@"?pd:Jn}),c.removeAttribute(v)}else v.startsWith(rr)&&(a.push({type:6,index:o}),c.removeAttribute(v));if(sf.test(c.tagName)){const v=c.textContent.split(rr),g=v.length-1;if(g>0){c.textContent=Kn?Kn.emptyScript:"";for(let E=0;E<g;E++)c.append(v[E],dn()),Ar.nextNode(),a.push({type:2,index:++o});c.append(v[g],dn())}}}else if(c.nodeType===8)if(c.data===af)a.push({type:2,index:o});else{let v=-1;for(;(v=c.data.indexOf(rr,v+1))!==-1;)a.push({type:7,index:o}),v+=rr.length-1}o++}}static createElement(e,r){const i=Mr.createElement("template");return i.innerHTML=e,i}}function Lr(t,e,r=t,i){if(e===Ir)return e;let c=i!==void 0?r._$Co?.[i]:r._$Cl;const o=un(e)?void 0:e._$litDirective$;return c?.constructor!==o&&(c?._$AO?.(!1),o===void 0?c=void 0:(c=new o(t),c._$AT(t,r,i)),i!==void 0?(r._$Co??=[])[i]=c:r._$Cl=c),c!==void 0&&(e=Lr(t,c._$AS(t,e.values),c,i)),e}class ud{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:i}=this._$AD,c=(e?.creationScope??Mr).importNode(r,!0);Ar.currentNode=c;let o=Ar.nextNode(),p=0,d=0,a=i[0];for(;a!==void 0;){if(p===a.index){let s;a.type===2?s=new vn(o,o.nextSibling,this,e):a.type===1?s=new a.ctor(o,a.name,a.strings,this,e):a.type===6&&(s=new bd(o,this,e)),this._$AV.push(s),a=i[++d]}p!==a?.index&&(o=Ar.nextNode(),p++)}return Ar.currentNode=Mr,c}p(e){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,r),r+=i.strings.length-2):i._$AI(e[r])),r++}}class vn{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,i,c){this.type=2,this._$AH=Nt,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=i,this.options=c,this._$Cv=c?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=Lr(this,e,r),un(e)?e===Nt||e==null||e===""?(this._$AH!==Nt&&this._$AR(),this._$AH=Nt):e!==this._$AH&&e!==Ir&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):fd(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Nt&&un(this._$AH)?this._$AA.nextSibling.data=e:this.T(Mr.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:i}=e,c=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=ln.createElement(ff(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===c)this._$AH.p(r);else{const o=new ud(c,this),p=o.u(this.options);o.p(r),this.T(p),this._$AH=o}}_$AC(e){let r=Yo.get(e.strings);return r===void 0&&Yo.set(e.strings,r=new ln(e)),r}k(e){go(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,c=0;for(const o of e)c===r.length?r.push(i=new vn(this.O(dn()),this.O(dn()),this,this.options)):i=r[c],i._$AI(o),c++;c<r.length&&(this._$AR(i&&i._$AB.nextSibling,c),r.length=c)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class Jn{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,i,c,o){this.type=1,this._$AH=Nt,this._$AN=void 0,this.element=e,this.name=r,this._$AM=c,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Nt}_$AI(e,r=this,i,c){const o=this.strings;let p=!1;if(o===void 0)e=Lr(this,e,r,0),p=!un(e)||e!==this._$AH&&e!==Ir,p&&(this._$AH=e);else{const d=e;let a,s;for(e=o[0],a=0;a<o.length-1;a++)s=Lr(this,d[i+a],r,a),s===Ir&&(s=this._$AH[a]),p||=!un(s)||s!==this._$AH[a],s===Nt?e=Nt:e!==Nt&&(e+=(s??"")+o[a+1]),this._$AH[a]=s}p&&!c&&this.j(e)}j(e){e===Nt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class ld extends Jn{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Nt?void 0:e}}class hd extends Jn{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Nt)}}let pd=class extends Jn{constructor(e,r,i,c,o){super(e,r,i,c,o),this.type=5}_$AI(e,r=this){if((e=Lr(this,e,r,0)??Nt)===Ir)return;const i=this._$AH,c=e===Nt&&i!==Nt||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==Nt&&(i===Nt||c);c&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}};class bd{constructor(e,r,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){Lr(this,e)}}const yd=vo.litHtmlPolyfillSupport;yd?.(ln,vn),(vo.litHtmlVersions??=[]).push("3.3.1");const vd=(t,e,r)=>{const i=r?.renderBefore??e;let c=i._$litPart$;if(c===void 0){const o=r?.renderBefore??null;i._$litPart$=c=new vn(e.insertBefore(dn(),o),o,void 0,r??{})}return c._$AI(t),c};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mo=globalThis;let Sr=class extends Or{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=vd(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return Ir}};Sr._$litElement$=!0,Sr.finalized=!0,mo.litElementHydrateSupport?.({LitElement:Sr});const gd=mo.litElementPolyfillSupport;gd?.({LitElement:Sr});(mo.litElementVersions??=[]).push("4.2.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const md={ATTRIBUTE:1},wd=t=>(...e)=>({_$litDirective$:t,values:e});let xd=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,r,i){this._$Ct=e,this._$AM=r,this._$Ci=i}_$AS(e,r){return this.update(e,r)}update(e,r){return this.render(...r)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cf="important",_d=" !"+cf,df=wd(class extends xd{constructor(t){if(super(t),t.type!==md.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,r)=>{const i=t[r];return i==null?e:e+`${r=r.includes("-")?r:r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`}),"")}update(t,[e]){const{style:r}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?r.removeProperty(i):r[i]=null);for(const i in e){const c=e[i];if(c!=null){this.ft.add(i);const o=typeof c=="string"&&c.endsWith(_d);i.includes("-")||o?r.setProperty(i,o?c.slice(0,-11):c,o?cf:""):r[i]=c}}return Ir}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const wo=t=>(e,r)=>{r!==void 0?r.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ed={attribute:!0,type:String,converter:Hn,reflect:!1,hasChanged:yo},Ad=(t=Ed,e,r)=>{const{kind:i,metadata:c}=r;let o=globalThis.litPropertyMetadata.get(c);if(o===void 0&&globalThis.litPropertyMetadata.set(c,o=new Map),i==="setter"&&((t=Object.create(t)).wrapped=!0),o.set(r.name,t),i==="accessor"){const{name:p}=r;return{set(d){const a=e.get.call(this);e.set.call(this,d),this.requestUpdate(p,a,t)},init(d){return d!==void 0&&this.C(p,void 0,t,d),d}}}if(i==="setter"){const{name:p}=r;return function(d){const a=this[p];e.call(this,d),this.requestUpdate(p,a,t)}}throw Error("Unsupported decorator location: "+i)};function Yt(t){return(e,r)=>typeof r=="object"?Ad(t,e,r):((i,c,o)=>{const p=c.hasOwnProperty(o);return c.constructor.createProperty(o,i),p?Object.getOwnPropertyDescriptor(c,o):void 0})(t,e,r)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function gn(t){return Yt({...t,state:!0,attribute:!1})}class Wn{constructor(e,r,i){this.host=e,this.source=r,this.value=i,this.sub=null,this.value$=new lo(void 0),this.host.addController(this)}hostConnected(){this.sub=this.source.subscribe(e=>{this.value=e,this.value$.next(e),this.host.requestUpdate()})}hostDisconnected(){this.sub?.unsubscribe()}}const Sd=Pt`
  .dialog-modal {
    max-height: 90vh;
    position: fixed;
    z-index: 990;
    font-family: 'Open Sans', arial, sans-serif;
    margin: 0 auto;
    padding: 0;
    width: 100%;
    border-radius: 1rem 1rem 0 0;
    border-width: 0;
    box-shadow: 0 0.125rem 0.75rem rgba(0, 0, 0, 0.25);
    bottom: 0;
    overflow-x: hidden;
    overflow-y: scroll;
  }

  @media screen and (min-width: 768px) {
    .dialog-modal {
      z-index: 990;
      bottom: auto;
      top: 5rem;
      max-width: 45rem;
      border-radius: 1rem;
    }
  }
`,Md=Pt`
  .dialog-modal-body {
    display: flex;
    flex-direction: column-reverse;
  }

  .dialog-modal-body__help,
  .dialog-modal-body__wallets {
    width: 100%;
    flex-basis: 100%;
  }

  .dialog-modal-body__help {
    padding: 1.5rem;
  }

  .dialog-modal-body__wallets {
    padding: 1.5rem;
  }

  .dialog-text-solid {
    font-size: 1rem;
    line-height: 1.25rem;
  }

  .dialog-text {
    font-size: 0.875rem;
    line-height: 1.125rem;
  }

  @media (prefers-color-scheme: light) {
    .dialog-modal-body__help {
      background-color: var(--modal-help-bg-color, #f8f8f8);
      border-top: 1px solid var(--modal-divider-color, rgba(0, 0, 0, 0.15));
    }

    @media screen and (min-width: 768px) {
      .dialog-modal-body__help {
        border-top: none;
        border-right: 1px solid var(--modal-divider-color, rgba(0, 0, 0, 0.15));
      }
    }

    .dialog-modal-body__wallets,
    .dialog-modal-body {
      background-color: var(--modal-bg-color, #fcfcfc);
    }

    .dialog-text-solid {
      color: var(--modal-solid-text-color, #000000);
    }

    .dialog-text {
      color: var(--modal-text-color, #181818);
    }
  }

  @media (prefers-color-scheme: dark) {
    .dialog-modal-body__help {
      background-color: var(--modal-help-bg-color, #1c1c1c);
      border-top: 1px solid var(--modal-divider-color, rgba(255, 255, 255, 0.15));
    }

    @media screen and (min-width: 768px) {
      .dialog-modal-body__help {
        border-top: none;
        border-right: 1px solid var(--modal-divider-color, rgba(255, 255, 255, 0.15));
      }
    }

    .dialog-modal-body__wallets,
    .dialog-modal-body {
      background-color: var(--modal-bg-color, #161616);
    }

    .dialog-text-solid {
      color: var(--modal-solid-text-color, #ededed);
    }

    .dialog-text {
      color: var(--modal-text-color, #a0a0a0);
    }
  }

  @media screen and (min-width: 768px) {
    .dialog-modal-body {
      flex-direction: row;
    }

    .dialog-modal-body__help,
    .dialog-modal-body__wallets {
      padding: 2rem;
    }
  }
`,Id=Pt`
  .help-container {
    width: 100%;
  }

  .help-header {
    display: none;
    margin: 0 0 2rem 0;
  }

  .help-header__modal-title {
    font-size: 1.25rem;
    padding: 0;
    margin: 0;
  }

  .help__title,
  .help__text {
    text-align: center;
  }

  .help__title {
    font-weight: 400;
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  .help__text {
    max-width: 21rem;
    margin-left: auto;
    margin-right: auto;
    font-weight: 300;
    margin-top: 0;
  }

  .help__whats_stellar {
    display: none;
  }

  @media screen and (min-width: 768px) {
    .help-header {
      display: block;
    }

    .help__title,
    .help__text {
      text-align: left;
      margin-left: 0;
    }

    .help__whats_a_wallet {
      margin-bottom: 2rem;
    }

    .help__whats_stellar {
      display: block;
    }
  }
`,Td=Pt`
  .wallets-container {
    width: 100%;
    height: 100%;
    min-height: fit-content;
    display: flex;
    flex-direction: column;
  }

  .wallets-header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .wallets-header__modal-title {
    font-size: 1.25rem;
    padding: 0;
    margin: 0;
  }

  .wallets-header__button {
    background: none;
    border: none;
    cursor: pointer;
  }

  @media (prefers-color-scheme: light) {
    .wallets-header__button svg {
      fill: var(--modal-header-button-color, #8f8f8f);
    }
  }

  @media (prefers-color-scheme: dark) {
    .wallets-header__button svg {
      fill: var(--modal-header-button-color, #707070);
    }
  }

  .wallets-body {
    margin: 0;
    width: 100%;
    list-style: none;
    padding: 0 !important;
  }

  .wallets-body__item {
    display: flex;
    align-items: center;
    font-weight: 600;
    margin-bottom: 2rem;
    cursor: pointer;
  }

  .wallets-body__item img {
    margin-right: 1rem;
    width: 2rem;
    border-radius: 100%;
    overflow: hidden;
  }

  .wallets-body__item.not-available {
    cursor: alias;
  }

  .wallets-body__item .not-available {
    margin-left: auto;
    font-size: 10px;
    padding: 0.25rem 0.5rem;
    border-radius: 1rem;
  }

  @media (prefers-color-scheme: light) {
    .wallets-body__item .not-available {
      border: solid var(--modal-not-available-border-color, #e2e2e2) 1px;
      background-color: var(--modal-not-available-bg-color, #f3f3f3);
      color: var(--modal-not-available-text-color, #6f6f6f);
    }
  }

  @media (prefers-color-scheme: dark) {
    .wallets-body__item .not-available {
      border: solid var(--modal-not-available-border-color, #343434) 1px;
      background-color: var(--modal-not-available-bg-color, #232323);
      color: var(--modal-not-available-text-color, #a0a0a0);
    }
  }

  @media screen and (min-width: 768px) {
  }
`,Bd=Pt`
  .dialog-modal[open] + .backdrop {
    background: rgba(0, 0, 0, 0.5);
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`,Rd=Pt`
  .dialog-modal[open] {
    -webkit-animation: showModal 0.3s ease normal;
  }
  @-webkit-keyframes showModal {
    from {
      transform: translateY(25%);
      opacity: 0;
    }
    to {
      transform: translateY(0%);
      opacity: 1;
    }
  }

  .dialog-modal.closing {
    -webkit-animation: hideModal 0.3s ease normal !important;
  }
  @-webkit-keyframes hideModal {
    from {
      transform: translateY(0%);
      opacity: 1;
    }
    to {
      transform: translateY(25%);
      opacity: 0;
    }
  }

  .backdrop.closing {
    -webkit-animation: hideBackdrop 0.3s ease normal !important;
  }
  @-webkit-keyframes hideBackdrop {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`;var Cd=Object.defineProperty,Od=Object.getOwnPropertyDescriptor,qr=(t,e,r,i)=>{for(var c=i>1?void 0:i?Od(e,r):e,o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=(i?p(e,r,c):p(c))||c);return i&&c&&Cd(e,r,c),c};let or=class extends Sr{constructor(){super(...arguments),this.ignoreShowStatus=!1,this.showModal=!1,this.closingModal=!1,this.modalTitle="Connect a Wallet",this.notAvailableText="Not available",this.allowedWallets=new Wn(this,Fc),this.theme=new Wn(this,jc)}connectedCallback(){super.connectedCallback();const t=this.getPlatformWrapper();t&&setTimeout(()=>{this.pickWalletOption(t)},10)}async closeModal(){this.closingModal=!0,await new Promise(t=>setTimeout(t,280)),this.ignoreShowStatus||(this.showModal=!1),this.dispatchEvent(new CustomEvent("modal-closed",{detail:new Error("Modal closed"),bubbles:!0,composed:!0})),this.closingModal=!1}async pickWalletOption(t){if(!t.isAvailable){window.open(t.url,"_blank");return}this.closingModal=!0,await new Promise(e=>setTimeout(e,280));try{const e=window.localStorage.getItem("@StellarWalletsKit/usedWalletsIds");let r=e?JSON.parse(e):[];r=[t.id,...r.filter(i=>i!==t.id)],window.localStorage.setItem("@StellarWalletsKit/usedWalletsIds",JSON.stringify(r))}catch(e){console.error(e)}this.dispatchEvent(new CustomEvent("wallet-selected",{detail:t,bubbles:!0,composed:!0})),this.closingModal=!1}getSortedList(){const t=this.allowedWallets.value.reduce((c,o)=>({available:o.isAvailable?[...c.available,o]:c.available,unavailable:o.isAvailable?c.unavailable:[...c.unavailable,o]}),{available:[],unavailable:[]});let e;try{const c=window.localStorage.getItem("@StellarWalletsKit/usedWalletsIds");e=c?JSON.parse(c):[]}catch(c){console.error(c),e=[]}if(e.length===0)return[...t.available,...t.unavailable];const r=[],i=[];for(const c of t.available)e.find(o=>o===c.id)?r.push(c):i.push(c);return[...r.sort((c,o)=>e.indexOf(c.id)-e.indexOf(o.id)),...i,...t.unavailable]}getPlatformWrapper(){return this.getSortedList().find(t=>t.isPlatformWrapper)}getThemeStyles(){return this.theme.value?{"--modal-bg-color":this.theme.value.bgColor,"--modal-text-color":this.theme.value.textColor,"--modal-solid-text-color":this.theme.value.solidTextColor,"--modal-header-button-color":this.theme.value.headerButtonColor,"--modal-divider-color":this.theme.value.dividerColor,"--modal-help-bg-color":this.theme.value.helpBgColor,"--modal-not-available-text-color":this.theme.value.notAvailableTextColor,"--modal-not-available-bg-color":this.theme.value.notAvailableBgColor,"--modal-not-available-border-color":this.theme.value.notAvailableBorderColor}:{}}render(){if(this.getPlatformWrapper())return Dt``;const t=Dt`
      <section class="help-container">
        <header class="help-header">
          <h2 class="help-header__modal-title dialog-text-solid">Learn more</h2>
        </header>

        <div class="help__whats_a_wallet">
          <h2 class="dialog-text-solid help__title">What is a Wallet?</h2>
          <p class="dialog-text help__text">
            Wallets are used to send, receive, and store the keys you use to sign blockchain transactions.
          </p>
        </div>

        <div class="help__whats_stellar">
          <h2 class="dialog-text-solid help__title">What is Stellar?</h2>
          <p class="dialog-text help__text">
            Stellar is a decentralized, public blockchain that gives developers the tools to create experiences that are
            more like cash than crypto.
          </p>
        </div>
      </section>
    `,e=Dt`
      <section class="wallets-container">
        <header class="wallets-header">
          <h2 class="wallets-header__modal-title dialog-text-solid">${this.modalTitle}</h2>

          <button @click=${()=>this.closeModal()} class="wallets-header__button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="20px" width="20px" viewBox="0 0 490 490">
              <polygon
                points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490   489.292,457.678 277.331,245.004 489.292,32.337 " />
            </svg>
          </button>
        </header>

        <ul class="wallets-body">
          ${this.getSortedList().map((r,i)=>Dt`
                <li
                  @click=${()=>this.pickWalletOption(r)}
                  class=" wallets-body__item ${r.isAvailable?"":"not-available"} ${i===this.allowedWallets.value.length-1?"mb-0":""}">
                  <img src=${r.icon} alt=${r.name} />
                  <span class="dialog-text-solid">${r.name}</span>
                  ${r.isAvailable?"":Dt`<small class="not-available">${this.notAvailableText}</small>`}
                </li>
              `)}
        </ul>
      </section>
    `;return Dt`
      <dialog
        style=${df(this.getThemeStyles())}
        class="dialog-modal ${this.closingModal?"closing":""}"
        .open=${this.showModal}>
        <section class="dialog-modal-body">
          <div class="dialog-modal-body__help">${t}</div>
          <div class="dialog-modal-body__wallets">${e}</div>
        </section>
      </dialog>

      <div
        style="position: fixed; z-index: 950"
        class="backdrop ${this.closingModal?"closing":""}"
        @click=${()=>this.closeModal()}></div>
    `}};or.styles=[Pt`
      :host * {
        box-sizing: border-box;
      }

      .mb-0 {
        margin-bottom: 0 !important;
      }
    `,Sd,Md,Id,Bd,Rd,Td];qr([Yt({type:Boolean,reflect:!0})],or.prototype,"ignoreShowStatus",2);qr([Yt({type:Boolean,reflect:!0})],or.prototype,"showModal",2);qr([gn()],or.prototype,"closingModal",2);qr([Yt({type:String,reflect:!0})],or.prototype,"modalTitle",2);qr([Yt({type:String,reflect:!0})],or.prototype,"notAvailableText",2);or=qr([wo("stellar-wallets-modal")],or);async function Nd(t){const e=await Js(rf);if(!e)throw new Error("There is no Horizon URL set");const r=new URL(e);return r.pathname=`/accounts/${t}`,(await(await fetch(r)).json()).balances.find(p=>p.asset_type==="native").balance}async function Pd(t){if(!t)throw new Error("Text to copy to the clipboard can't be undefined");await navigator.clipboard.writeText(t)}const Ud=Pt`
  .btn-container {
    position: relative;
  }
`,Ld=Pt`
  .btn {
    background: none;
    border: none;
    border-radius: var(--button-border-radius, 0.5rem);
    cursor: pointer;
    padding: var(--button-padding, 0.5rem 1.25rem);
    display: flex;
    justify-content: center;
    justify-items: center;
    align-content: center;
    align-items: center;
    line-height: 100%;
    margin: 0;
    font-family: 'Open Sans', arial, sans-serif;
  }

  .btn svg {
    width: 1rem;
    height: auto;
    margin-left: 0.5rem;
  }

  @media (prefers-color-scheme: light) {
    .btn {
      background-color: var(--button-bg-color, #fcfcfc);
      color: var(--button-text-color, #181818);
      border: solid var(--button-text-color, #181818) 1px;
    }

    .btn svg circle,
    .btn svg path {
      stroke: var(--button-text-color, #181818);
    }
  }

  @media (prefers-color-scheme: dark) {
    .btn {
      background-color: var(--button-bg-color, #161616);
      color: var(--button-text-color, #fcfcfc);
      border: solid var(--button-text-color, #fcfcfc) 1px;
    }

    .btn svg circle,
    .btn svg path {
      stroke: var(--button-text-color, #fcfcfc);
    }
  }
`,kd=Pt`
  .dropdown-wrapper {
    position: absolute;
    top: 110%;
    right: 0;
    box-shadow: 0 0.125rem 0.75rem rgba(0, 0, 0, 0.25);
    z-index: 900;
    border-radius: 0.75rem;
    padding: 2rem;
    width: 18rem;
    display: flex;
    flex-direction: column;
    font-family: 'Open Sans', arial, sans-serif;
  }

  .dropdown-profile {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    margin-bottom: 2rem;
  }

  .dropdown-text-solid {
    font-size: 1rem;
    line-height: 1.25rem;
  }

  .dropdown-text {
    font-size: 0.875rem;
    line-height: 1.125rem;
  }

  .dropdown-action-wrapper {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .dropdown-action-button {
    padding: 0.4rem;
    border-radius: 0.25rem;
    border: none;
    background: none;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
  }

  .dropdown-close {
    position: absolute;
    right: 1rem;
    top: 1rem;
    border-radius: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    background: none;
    border: none;
    font-size: 1.25rem;
    cursor: pointer;
  }

  @media (prefers-color-scheme: light) {
    .dropdown-wrapper {
      background-color: var(--button-bg-color, #fcfcfc);
      border: solid 1px var(--button-solid-text-color, #000000);
    }

    .dropdown-text-solid,
    .dropdown-action-button,
    .dropdown-close {
      color: var(--button-solid-text-color, #000000);
    }

    .dropdown-text {
      color: var(--button-text-color, #181818);
    }

    svg circle,
    svg path {
      stroke: var(--button-text-color, #181818);
    }

    .dropdown-action-button {
      border: 1px solid var(--button-text-color, #181818);
    }
  }

  @media (prefers-color-scheme: dark) {
    .dropdown-wrapper {
      background-color: var(--button-bg-color, #161616);
      border: solid 1px var(--button-solid-text-color, #ededed);
    }

    .dropdown-text-solid,
    .dropdown-action-button,
    .dropdown-close {
      color: var(--button-solid-text-color, #ededed);
    }

    .dropdown-text {
      color: var(--button-text-color, #a0a0a0);
    }

    svg circle,
    svg path {
      stroke: var(--button-text-color, #fcfcfc);
    }

    .dropdown-action-button {
      border: 1px solid var(--button-text-color, #a0a0a0);
    }
  }
`;var qd=Object.defineProperty,$d=Object.getOwnPropertyDescriptor,mn=(t,e,r,i)=>{for(var c=i>1?void 0:i?$d(e,r):e,o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=(i?p(e,r,c):p(c))||c);return i&&c&&qd(e,r,c),c};let Tr=class extends Sr{constructor(){super(...arguments),this.buttonText="Connect",this.showDropdown=!1,this.showCopiedMessage=!1,this.activeAddress=new Wn(this,Hc),this.theme=new Wn(this,zc)}get getThemeStyles(){return this.theme.value?{"--button-bg-color":this.theme.value.bgColor,"--button-text-color":this.theme.value.textColor,"--button-solid-text-color":this.theme.value.solidTextColor,"--button-divider-color":this.theme.value.dividerColor,"--button-padding":this.theme.value.buttonPadding,"--button-border-radius":this.theme.value.buttonBorderRadius}:{}}onButtonClicked(){this.activeAddress.value?this.showDropdown=!this.showDropdown:this.dispatchEvent(new CustomEvent("button-clicked",{bubbles:!0,composed:!0}))}closeDropdown(){this.showDropdown=!1}disconnect(){no(),this.closeDropdown(),this.dispatchEvent(new CustomEvent("disconnect-wallet",{bubbles:!0,composed:!0}))}async copyPublicKey(){await Pd(this.activeAddress.value),this.showCopiedMessage=!0,await new Promise(t=>setTimeout(t,3e3)),this.showCopiedMessage=!1}async startBalanceFetcher(){await Js(rf)&&(this.fetchAddressSubscription=this.activeAddress.value$.pipe(Cc(async e=>e?Nd(e).catch(()=>"0"):"0")).subscribe(e=>{this.accountBalance=e}))}connectedCallback(){super.connectedCallback(),this.startBalanceFetcher().then()}disconnectedCallback(){super.disconnectedCallback(),this.fetchAddressSubscription?.unsubscribe()}render(){const t=Dt`
      <button @click=${this.onButtonClicked} class="btn">
        ${this.activeAddress.value?this.activeAddress.value.slice(0,4)+"...."+this.activeAddress.value.slice(-6):this.buttonText}

        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6 8H10" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
          <path
            d="M20.8333 9H18.2308C16.4465 9 15 10.3431 15 12C15 13.6569 16.4465 15 18.2308 15H20.8333C20.9167 15 20.9583 15 20.9935 14.9979C21.5328 14.965 21.9623 14.5662 21.9977 14.0654C22 14.0327 22 13.994 22 13.9167V10.0833C22 10.006 22 9.96726 21.9977 9.9346C21.9623 9.43384 21.5328 9.03496 20.9935 9.00214C20.9583 9 20.9167 9 20.8333 9Z"
            stroke-width="1.5" />
          <path
            d="M20.965 9C20.8873 7.1277 20.6366 5.97975 19.8284 5.17157C18.6569 4 16.7712 4 13 4L10 4C6.22876 4 4.34315 4 3.17157 5.17157C2 6.34315 2 8.22876 2 12C2 15.7712 2 17.6569 3.17157 18.8284C4.34315 20 6.22876 20 10 20H13C16.7712 20 18.6569 20 19.8284 18.8284C20.6366 18.0203 20.8873 16.8723 20.965 15"
            stroke-width="1.5" />
          <path d="M17.9912 12H18.0002" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    `,e=this.showDropdown?Dt`
          <section class="dropdown-wrapper">
            <button @click=${this.closeDropdown} class="dropdown-close">x</button>

            <div class="dropdown-profile">
              <svg
                style="margin-bottom: 1rem"
                width="36px"
                height="36px"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="6" r="4" stroke="#1C274C" stroke-width="1.5" />
                <path
                  d="M19.9975 18C20 17.8358 20 17.669 20 17.5C20 15.0147 16.4183 13 12 13C7.58172 13 4 15.0147 4 17.5C4 19.9853 4 22 12 22C14.231 22 15.8398 21.8433 17 21.5634"
                  stroke="#1C274C"
                  stroke-width="1.5"
                  stroke-linecap="round" />
              </svg>

              <h2 style="margin: 0 0 0.25rem" class="dropdown-text-solid">
                ${this.activeAddress.value?.slice(0,4)}....${this.activeAddress.value?.slice(-6)}
              </h2>

              ${this.accountBalance?Dt`<h3 style="margin: 0" class="dropdown-text">${this.accountBalance} XLM</h3>`:""}
            </div>

            <div class="dropdown-action-wrapper">
              <button @click=${this.copyPublicKey} class="dropdown-action-button">
                ${this.showCopiedMessage?"Copied!!":Dt`Copy address

                      <svg
                        width="0.75rem"
                        height="0.75rem"
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                          fill-rule="evenodd"
                          clip-rule="evenodd"
                          d="M15 1.25H10.9436C9.10583 1.24998 7.65019 1.24997 6.51098 1.40314C5.33856 1.56076 4.38961 1.89288 3.64124 2.64124C2.89288 3.38961 2.56076 4.33856 2.40314 5.51098C2.24997 6.65019 2.24998 8.10582 2.25 9.94357V16C2.25 17.8722 3.62205 19.424 5.41551 19.7047C5.55348 20.4687 5.81753 21.1208 6.34835 21.6517C6.95027 22.2536 7.70814 22.5125 8.60825 22.6335C9.47522 22.75 10.5775 22.75 11.9451 22.75H15.0549C16.4225 22.75 17.5248 22.75 18.3918 22.6335C19.2919 22.5125 20.0497 22.2536 20.6517 21.6517C21.2536 21.0497 21.5125 20.2919 21.6335 19.3918C21.75 18.5248 21.75 17.4225 21.75 16.0549V10.9451C21.75 9.57754 21.75 8.47522 21.6335 7.60825C21.5125 6.70814 21.2536 5.95027 20.6517 5.34835C20.1208 4.81753 19.4687 4.55348 18.7047 4.41551C18.424 2.62205 16.8722 1.25 15 1.25ZM17.1293 4.27117C16.8265 3.38623 15.9876 2.75 15 2.75H11C9.09318 2.75 7.73851 2.75159 6.71085 2.88976C5.70476 3.02502 5.12511 3.27869 4.7019 3.7019C4.27869 4.12511 4.02502 4.70476 3.88976 5.71085C3.75159 6.73851 3.75 8.09318 3.75 10V16C3.75 16.9876 4.38624 17.8265 5.27117 18.1293C5.24998 17.5194 5.24999 16.8297 5.25 16.0549V10.9451C5.24998 9.57754 5.24996 8.47522 5.36652 7.60825C5.48754 6.70814 5.74643 5.95027 6.34835 5.34835C6.95027 4.74643 7.70814 4.48754 8.60825 4.36652C9.47522 4.24996 10.5775 4.24998 11.9451 4.25H15.0549C15.8297 4.24999 16.5194 4.24998 17.1293 4.27117ZM7.40901 6.40901C7.68577 6.13225 8.07435 5.9518 8.80812 5.85315C9.56347 5.75159 10.5646 5.75 12 5.75H15C16.4354 5.75 17.4365 5.75159 18.1919 5.85315C18.9257 5.9518 19.3142 6.13225 19.591 6.40901C19.8678 6.68577 20.0482 7.07435 20.1469 7.80812C20.2484 8.56347 20.25 9.56458 20.25 11V16C20.25 17.4354 20.2484 18.4365 20.1469 19.1919C20.0482 19.9257 19.8678 20.3142 19.591 20.591C19.3142 20.8678 18.9257 21.0482 18.1919 21.1469C17.4365 21.2484 16.4354 21.25 15 21.25H12C10.5646 21.25 9.56347 21.2484 8.80812 21.1469C8.07435 21.0482 7.68577 20.8678 7.40901 20.591C7.13225 20.3142 6.9518 19.9257 6.85315 19.1919C6.75159 18.4365 6.75 17.4354 6.75 16V11C6.75 9.56458 6.75159 8.56347 6.85315 7.80812C6.9518 7.07435 7.13225 6.68577 7.40901 6.40901Z" />
                      </svg>`}
              </button>

              <button @click=${this.disconnect} class="dropdown-action-button">
                Disconnect

                <svg
                  width="0.75rem"
                  height="0.75rem"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M18 8L22 12M22 12L18 16M22 12H9M15 4.20404C13.7252 3.43827 12.2452 3 10.6667 3C5.8802 3 2 7.02944 2 12C2 16.9706 5.8802 21 10.6667 21C12.2452 21 13.7252 20.5617 15 19.796"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>
            </div>
          </section>
        `:"";return Dt`
      <section style=${df(this.getThemeStyles)} class="btn-container">${t} ${e}</section>
    `}};Tr.styles=[Pt`
      :host * {
        box-sizing: border-box;
      }
    `,Ld,Ud,kd];mn([Yt({type:String,reflect:!0})],Tr.prototype,"buttonText",2);mn([gn()],Tr.prototype,"showDropdown",2);mn([gn()],Tr.prototype,"accountBalance",2);mn([gn()],Tr.prototype,"showCopiedMessage",2);Tr=mn([wo("stellar-wallets-button")],Tr);const Dd=Pt`
  .dialog-modal {
    max-height: 90vh;
    position: fixed;
    z-index: 990;
    font-family: 'Open Sans', arial, sans-serif;
    margin: 0 auto;
    padding: 0;
    width: 100%;
    border-radius: 1rem 1rem 0 0;
    border-width: 0;
    box-shadow: 0 0.125rem 0.75rem rgba(0, 0, 0, 0.25);
    bottom: 0;
    overflow-x: hidden;
    overflow-y: scroll;
  }

  @media screen and (min-width: 768px) {
    .dialog-modal {
      z-index: 990;
      bottom: auto;
      top: 5rem;
      max-width: 25rem;
      border-radius: 1rem;
    }
  }
`,Fd=Pt`
  .dialog-modal-body {
    display: flex;
    flex-direction: column-reverse;
  }

  .dialog-modal-body__help,
  .dialog-modal-body__wallets {
    width: 100%;
    flex-basis: 100%;
  }

  .dialog-modal-body__help {
    padding: 1.5rem;
  }

  .dialog-modal-body__wallets {
    padding: 1.5rem;
  }

  .dialog-text-solid {
    font-size: 1rem;
    line-height: 1.25rem;
  }

  .dialog-text {
    font-size: 0.875rem;
    line-height: 1.125rem;
  }

  @media (prefers-color-scheme: light) {
    .dialog-modal-body__help {
      background-color: var(--modal-help-bg-color, #f8f8f8);
      border-top: 1px solid var(--modal-divider-color, rgba(0, 0, 0, 0.15));
    }

    @media screen and (min-width: 768px) {
      .dialog-modal-body__help {
        border-top: none;
        border-right: 1px solid var(--modal-divider-color, rgba(0, 0, 0, 0.15));
      }
    }

    .dialog-modal-body__wallets,
    .dialog-modal-body {
      background-color: var(--modal-bg-color, #fcfcfc);
    }

    .dialog-text-solid {
      color: var(--modal-solid-text-color, #000000);
    }

    .dialog-text {
      color: var(--modal-text-color, #181818);
    }
  }

  @media (prefers-color-scheme: dark) {
    .dialog-modal-body__help {
      background-color: var(--modal-help-bg-color, #1c1c1c);
      border-top: 1px solid var(--modal-divider-color, rgba(255, 255, 255, 0.15));
    }

    @media screen and (min-width: 768px) {
      .dialog-modal-body__help {
        border-top: none;
        border-right: 1px solid var(--modal-divider-color, rgba(255, 255, 255, 0.15));
      }
    }

    .dialog-modal-body__wallets,
    .dialog-modal-body {
      background-color: var(--modal-bg-color, #161616);
    }

    .dialog-text-solid {
      color: var(--modal-solid-text-color, #ededed);
    }

    .dialog-text {
      color: var(--modal-text-color, #a0a0a0);
    }
  }

  @media screen and (min-width: 768px) {
    .dialog-modal-body {
      flex-direction: row;
    }

    .dialog-modal-body__help,
    .dialog-modal-body__wallets {
      padding: 2rem;
    }
  }
`,jd=Pt`
  .help-container {
    width: 100%;
  }

  .help-header {
    display: none;
    margin: 0 0 2rem 0;
  }

  .help-header__modal-title {
    font-size: 1.25rem;
    padding: 0;
    margin: 0;
  }

  .help__title,
  .help__text {
    text-align: center;
  }

  .help__title {
    font-weight: 400;
    margin-top: 0;
    margin-bottom: 0.5rem;
  }

  .help__text {
    max-width: 21rem;
    margin-left: auto;
    margin-right: auto;
    font-weight: 300;
    margin-top: 0;
  }

  .help__whats_stellar {
    display: none;
  }

  @media screen and (min-width: 768px) {
    .help-header {
      display: block;
    }

    .help__title,
    .help__text {
      text-align: left;
      margin-left: 0;
    }

    .help__whats_a_wallet {
      margin-bottom: 2rem;
    }

    .help__whats_stellar {
      display: block;
    }
  }
`,zd=Pt`
  .wallets-container {
    width: 100%;
    height: 100%;
    min-height: fit-content;
    display: flex;
    flex-direction: column;
  }

  .wallets-header {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
  }

  .wallets-header__modal-title {
    font-size: 1.25rem;
    padding: 0;
    margin: 0;
  }

  .wallets-header__button {
    background: none;
    border: none;
    cursor: pointer;
  }

  @media (prefers-color-scheme: light) {
    .wallets-header__button svg {
      fill: var(--modal-header-button-color, #8f8f8f);
    }
  }

  @media (prefers-color-scheme: dark) {
    .wallets-header__button svg {
      fill: var(--modal-header-button-color, #707070);
    }
  }

  .wallets-body {
    margin: 0;
    width: 100%;
    list-style: none;
    padding: 1rem 0 0 !important;
  }

  .wallets-body__item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-weight: 600;
    margin-bottom: 2rem;
    cursor: pointer;
    padding: 0 0 1rem 0;
  }

  .wallets-body__item:last-child {
    margin-bottom: 0;
  }

  @media (prefers-color-scheme: light) {
    .wallets-body__item {
      border-bottom: 1px var(--modal-divider-color, rgba(0, 0, 0, 0.15)) solid;
    }
  }

  @media (prefers-color-scheme: dark) {
    .wallets-body__item {
      border-bottom: 1px var(--modal-divider-color, rgba(255, 255, 255, 0.15)) solid;
    }
  }

  .wallets-body__item img {
    margin-right: 1rem;
    width: 2rem;
    border-radius: 100%;
    overflow: hidden;
  }

  .wallets-body__item.not-available {
    cursor: alias;
  }

  .wallets-body__item .not-available {
    margin-left: auto;
    font-size: 10px;
    padding: 0.25rem 0.5rem;
    border-radius: 1rem;
  }

  @media (prefers-color-scheme: light) {
    .wallets-body__item .not-available {
      border: solid var(--modal-not-available-border-color, #e2e2e2) 1px;
      background-color: var(--modal-not-available-bg-color, #f3f3f3);
      color: var(--modal-not-available-text-color, #6f6f6f);
    }
  }

  @media (prefers-color-scheme: dark) {
    .wallets-body__item .not-available {
      border: solid var(--modal-not-available-border-color, #343434) 1px;
      background-color: var(--modal-not-available-bg-color, #232323);
      color: var(--modal-not-available-text-color, #a0a0a0);
    }
  }

  @media screen and (min-width: 768px) {
  }
`,Hd=Pt`
  .dialog-modal[open] + .backdrop {
    background: rgba(0, 0, 0, 0.5);
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`,Kd=Pt`
  .dialog-modal[open] {
    -webkit-animation: showModal 0.3s ease normal;
  }
  @-webkit-keyframes showModal {
    from {
      transform: translateY(25%);
      opacity: 0;
    }
    to {
      transform: translateY(0%);
      opacity: 1;
    }
  }

  .dialog-modal.closing {
    -webkit-animation: hideModal 0.3s ease normal !important;
  }
  @-webkit-keyframes hideModal {
    from {
      transform: translateY(0%);
      opacity: 1;
    }
    to {
      transform: translateY(25%);
      opacity: 0;
    }
  }

  .backdrop.closing {
    -webkit-animation: hideBackdrop 0.3s ease normal !important;
  }
  @-webkit-keyframes hideBackdrop {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }
`;var Wd=Object.defineProperty,Vd=Object.getOwnPropertyDescriptor,$r=(t,e,r,i)=>{for(var c=i>1?void 0:i?Vd(e,r):e,o=t.length-1,p;o>=0;o--)(p=t[o])&&(c=(i?p(e,r,c):p(c))||c);return i&&c&&Wd(e,r,c),c};let ar=class extends Sr{constructor(){super(...arguments),this.showModal=!1,this.loadingAccounts=!1,this.closingModal=!1,this.modalTitle="Pick your account",this.accounts=[]}connectedCallback(){super.connectedCallback()}async pickAccount(t){this.closingModal=!0,await new Promise(e=>setTimeout(e,280)),this.dispatchEvent(new CustomEvent("account-selected",{detail:t,bubbles:!0,composed:!0})),this.closingModal=!1}async closeModal(){this.closingModal=!0,await new Promise(t=>setTimeout(t,280)),this.showModal=!1,this.dispatchEvent(new CustomEvent("account-selector-closed",{detail:new Error("Account selector closed"),bubbles:!0,composed:!0})),this.closingModal=!1}render(){const t=Dt`
      <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <style>
          .spinner_qM83 {
            animation: spinner_8HQG 1.05s infinite;
            fill: white;
          }
          .spinner_oXPr {
            animation-delay: 0.1s;
          }
          .spinner_ZTLf {
            animation-delay: 0.2s;
          }
          @keyframes spinner_8HQG {
            0%,
            57.14% {
              animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
              transform: translate(0);
            }
            28.57% {
              animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
              transform: translateY(-6px);
            }
            100% {
              transform: translate(0);
            }
          }
        </style>
        <circle class="spinner_qM83" cx="4" cy="12" r="3" />
        <circle class="spinner_qM83 spinner_oXPr" cx="12" cy="12" r="3" />
        <circle class="spinner_qM83 spinner_ZTLf" cx="20" cy="12" r="3" />
      </svg>
    `,e=Dt`
      <ul class="wallets-body">
        ${this.accounts.map(({publicKey:r,index:i})=>Dt`
            <li @click="${()=>this.pickAccount({publicKey:r,index:i})}" class="wallets-body__item">
              <span style="margin-right: 1rem;" class="dialog-text-solid">
                ${r.slice(0,4)}....${r.slice(-6)}
              </span>
              <span class="dialog-text">(44'/148'/${i}')</span>
            </li>
          `)}
      </ul>
    `;return Dt`
      <dialog style="" class="dialog-modal ${this.closingModal?"closing":""}" .open=${this.showModal}>
        <section class="dialog-modal-body">
          <div class="dialog-modal-body__wallets">
            <section class="wallets-container">
              <header class="wallets-header">
                <h2 class="wallets-header__modal-title dialog-text-solid">${this.modalTitle}</h2>

                <button @click=${()=>this.closeModal()} class="wallets-header__button">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="#000000"
                    height="20px"
                    width="20px"
                    viewBox="0 0 490 490">
                    <polygon
                      points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490   489.292,457.678 277.331,245.004 489.292,32.337 " />
                  </svg>
                </button>
              </header>

              ${this.loadingAccounts?t:e}
            </section>
          </div>
        </section>
      </dialog>

      <div
        style="position: fixed; z-index: 950"
        class="backdrop ${this.closingModal?"closing":""}"
        @click=${()=>this.closeModal()}></div>
    `}};ar.styles=[Pt`
      :host * {
        box-sizing: border-box;
      }

      .mb-0 {
        margin-bottom: 0 !important;
      }
    `,Dd,Fd,jd,Hd,Kd,zd];$r([Yt({type:Boolean,reflect:!0})],ar.prototype,"showModal",2);$r([Yt({type:Boolean,reflect:!0})],ar.prototype,"loadingAccounts",2);$r([gn()],ar.prototype,"closingModal",2);$r([Yt({type:String,reflect:!0})],ar.prototype,"modalTitle",2);$r([Yt({type:String,reflect:!0,converter:t=>t?JSON.parse(t):[]})],ar.prototype,"accounts",2);ar=$r([wo("stellar-accounts-selector")],ar);function io(){const t=new Uint32Array(4);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*4294967295);return Array.from(t).map(e=>e.toString(36)).join("")}const uf={public_key:{title:"View public key",description:"Requests account public key. It's a simple way of authentication for Stellar-based applications. The response ensures that a user owns the corresponding secret key.",implicitFlow:!1,params:{token:{description:"Verification token generated by the application (should be unique or random).",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST a signed token and public key.",type:"string",required:!1},require_existing:{description:"Allow existing Albedo accounts only.",type:"boolean",required:!1}},returns:{pubkey:{description:"User-selected public key.",type:"string"},signed_message:{description:"HEX-encoded authentication message derived from the public key and verification token.",type:"string"},signature:{description:"HEX-encoded ED25519 signature of the authentication message that can be further used to verify user's keypair ownership.",type:"string"}}},sign_message:{title:"Sign text message",description:"Requests arbitrary message signing. Can be used to implement identity/ownership verification.",implicitFlow:!0,params:{message:{description:"Text message to sign.",type:"string",required:!0},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST a signed message.",type:"string",required:!1}},returns:{pubkey:{description:"User-selected public key.",type:"string"},original_message:{description:"Text message to sign from request.",type:"string"},signed_message:{description:"HEX-encoded message derived from the public key and original message.",type:"string"},message_signature:{description:"HEX-encoded ED25519 signature of the signed message.",type:"string"}}},tx:{title:"Sign transaction",description:"Requests a signature for the transaction. Returns the signed transaction envelope that can be submitted to the network or used for multi-sig coordination.",implicitFlow:!0,params:{xdr:{description:"XDR-encoded transaction envelope to sign.",type:"string",required:!0},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},network:{description:"Stellar network identifier.",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST the signed transaction XDR instead of submitting it to Horizon.",type:"string",required:!1},description:{description:"Optional human-friendly short transaction description provided by developers.",type:"string",required:!1},submit:{description:"If set, the signed transaction will be submitted to the Horizon server instead of returning it to the application.",type:"boolean",required:!1}},returns:{xdr:{description:"XDR-encoded transaction envelope from request.",type:"string"},tx_hash:{description:"HEX-encoded transaction hash.",type:"string"},signed_envelope_xdr:{description:"XDR-encoded transaction envelope with new signatures.",type:"string"},network:{description:"Stellar network identifier.",type:"string"},result:{description:"Optional response from Horizon if the transaction has been submitted automatically.",type:"object"}}},pay:{title:"Make payment",description:"Requests a payment from a user. Works with any Stellar asset, supports transaction memo.",implicitFlow:!0,params:{amount:{description:"Requested payment amount.",type:"string",required:!0},destination:{description:"Payment destination address.",type:"string",required:!0},asset_code:{description:"Asset code (skip for XLM).",type:"string",required:!1},asset_issuer:{description:"Asset issuer (skip for XLM).",type:"string",required:!1},memo:{description:"Transaction memo (required for exchanges and some anchors).",type:"string",required:!1},memo_type:{description:"Transaction memo type.",type:"string",required:!1},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST the signed transaction XDR instead of submitting it to Horizon. ",type:"string",required:!1},submit:{description:"If set, the signed transaction will be submitted to the Horizon server instead of returning it to the application.",type:"boolean",required:!1}},returns:{amount:{description:"Payment amount from request.",type:"string"},destination:{description:"Payment destination address from request.",type:"string"},asset_code:{description:"Asset code from request.",type:"string"},asset_issuer:{description:"Asset issuer from request.",type:"string"},memo:{description:"Transaction memo from request.",type:"string"},memo_type:{description:"Transaction memo type from request.",type:"string"},tx_hash:{description:"HEX-encoded transaction hash.",type:"string"},signed_envelope_xdr:{description:"XDR-encoded transaction envelope with new signatures.",type:"string"},pubkey:{description:"User-selected public key.",type:"string"},network:{description:"Stellar network identifier.",type:"string"},result:{description:"Optional response from Horizon if the transaction has been submitted automatically.",type:"object"}}},trust:{title:"Establish trustline",description:"Requests permission to create a trustline to a given Stellar asset. Gradually simplifies the process of creating trustlines for anchors, ICOs, and airdrops.",implicitFlow:!0,params:{asset_code:{description:"Trustline asset code.",type:"string",required:!0},asset_issuer:{description:"Trustline asset issuer address.",type:"string",required:!0},limit:{description:"Trust limit.",type:"string",required:!1},memo:{description:"Transaction memo (required for exchanges and some anchors).",type:"string",required:!1},memo_type:{description:"Transaction memo type.",type:"string",required:!1},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST the signed transaction XDR instead of submitting it to Horizon. ",type:"string",required:!1},submit:{description:"If set, the signed transaction will be submitted to the Horizon server instead of returning it to the application.",type:"boolean",required:!1}},returns:{asset_code:{description:"Trustline asset code from request.",type:"string"},asset_issuer:{description:"Trustline asset issuer address from request.",type:"string"},limit:{description:"Trust limit from request.",type:"string"},tx_hash:{description:"HEX-encoded transaction hash.",type:"string"},signed_envelope_xdr:{description:"XDR-encoded transaction envelope with new signatures.",type:"string"},pubkey:{description:"User-selected public key.",type:"string"},network:{description:"Stellar network identifier.",type:"string"},result:{description:"Optional response from Horizon if the transaction has been submitted automatically.",type:"object"}}},exchange:{title:"Swap tokens",description:"Requests permission to buy tokens on Stellar DEX at market price.",implicitFlow:!1,params:{amount:{description:"The amount of asset to buy.",type:"string",required:!0},max_price:{description:"Maximum price the user willing to pay.",type:"string",required:!0},sell_asset_code:{description:"Asset code of the asset to sell.",type:"string",required:!1},sell_asset_issuer:{description:"Issuer account of the asset to sell.",type:"string",required:!1},buy_asset_code:{description:"Asset code of the asset to buy.",type:"string",required:!1},buy_asset_issuer:{description:"Issuer account of the asset to buy.",type:"string",required:!1},memo:{description:"Transaction memo (required for exchanges and some anchors).",type:"string",required:!1},memo_type:{description:"Transaction memo type.",type:"string",required:!1},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1},callback:{description:"Optional URL callback where Albedo will POST the signed transaction XDR instead of submitting it to Horizon.",type:"string",required:!1},submit:{description:"If set, the signed transaction will be submitted to the Horizon server instead of returning it to the application.",type:"boolean",required:!1}},returns:{amount:{description:"The amount of asset to buy from request.",type:"string"},max_price:{description:"Maximum price the user willing to pay from request.",type:"string"},sell_asset_code:{description:"Asset code of the asset to sell from request.",type:"string"},sell_asset_issuer:{description:"Issuer account of the asset to sell from request.",type:"string"},buy_asset_code:{description:"Asset code of the asset to buy from request.",type:"string"},buy_asset_issuer:{description:"Issuer account of the asset to buy from request.",type:"string"},tx_hash:{description:"HEX-encoded transaction hash.",type:"string"},signed_envelope_xdr:{description:"XDR-encoded transaction envelope with new signatures.",type:"string"},pubkey:{description:"User-selected public key.",type:"string"},network:{description:"Stellar network identifier.",type:"string"},result:{description:"Optional response from Horizon if the transaction has been submitted automatically.",type:"object"}}},implicit_flow:{title:"Implicit permissions",description:'Requests temporary access token for one or more intents that can be used to execute actions without explicit confirmation from the user. In order to be executed implicitly, an implicit flow permissions for a given intent should be granted and "pubkey" parameter set.',implicitFlow:!1,params:{intents:{description:"Requested implicit flow intents.",type:"string|string[]",required:!0},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1}},returns:{granted:{description:"Whether a user granted permissions or not.",type:"boolean"},intents:{description:"Requested implicit flow intents.",type:"string[]"},grants:{description:"Implicit flow intents that have been granted.",type:"string[]"},session:{description:"Unique implicit session id.",type:"string"},valid_until:{description:"Session expiration timestamp.",type:"number"},pubkey:{description:"User-selected public key.",type:"string"},network:{description:"Stellar network identifier.",type:"string"}}},manage_account:{title:"Open account settings",description:"Opens account settings window for a given account.",implicitFlow:!1,params:{pubkey:{description:"Specific public key requested by the application.",type:"string",required:!0},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1}},returns:{pubkey:{description:"Public key from intent request.",type:"string"}}},batch:{title:"Intents batch",description:"Requests execution of several tx intents bundled together. This intent is atomic – a user confirms or rejects all bundled requests at once, with the same account and the same Stellar network.",implicitFlow:!0,params:{intents:{description:"Requested tx intents that should be executed together.",type:"object[]",required:!0},pubkey:{description:"Specific public key requested by the application.",type:"string",required:!1},network:{description:"Stellar network identifier or private network passphrase.",type:"string",required:!1}},returns:{intents:{description:"Requested tx intents.",type:"object[]"},results:{description:"Array of results for each requested intent.",type:"object[]"},pubkey:{description:"User-selected public key.",type:"string"},network:{description:"Stellar network identifier.",type:"string"}}}},xo={unhandledError:{message:"Unhandled error occurred. If this error persists, please contact Albedo support.",code:-1},externalError:{message:"External error occurred.",code:-2},invalidIntentRequest:{message:"Intent request is invalid.",code:-3},actionRejectedByUser:{message:"Action request was rejected by the user.",code:-4},horizonError:{message:"Transaction failed when submitted to Stellar network.",code:-5},callbackError:{message:"Callback redirect failed.",code:-6}};function _o(t,e=!1){this.windowHandler=t,this.ephemeral=!!e,this.isLoaded=!1,this.pendingRequests={},this.preprocessRequestParams=null,this.onLoaded=new Promise((r,i)=>this.onLoadedCallback=r).then(()=>this),this.messageHandler=this.messageHandler.bind(this),window.addEventListener("message",this.messageHandler,!1)}_o.prototype={isLoaded:!1,protocolVersion:3,markLoaded(){const{onLoadedCallback:t}=this;t&&(this.onLoadedCallback=null,this.isLoaded=!0,t())},messageHandler({data:t}){if(t.albedo)return this.matchProtocolVersion(t.albedo.protocol),this.markLoaded();if(t.albedoIntentResult){const{__reqid:e,...r}=t.albedoIntentResult,i=this.pendingRequests[e];i&&(delete this.pendingRequests[e],i(r),this.ephemeral&&(window.removeEventListener("message",this.messageHandler,!1),this.windowHandler.close()))}},transportCloseHandler(){for(let t in this.pendingRequests)if(this.pendingRequests.hasOwnProperty(t)){const e=this.pendingRequests[t];delete this.pendingRequests[t],e(xo.actionRejectedByUser)}},postMessage(t){const e=io();return new Promise((r,i)=>{this.onLoaded.then(()=>{this.pendingRequests[e]=Gd.bind(this,r,i),t=Object.assign({__reqid:e,__albedo_intent_version:this.protocolVersion},t),this.preprocessRequestParams&&(t=this.preprocessRequestParams(t)),this.windowHandler.postMessage(t,"*")})})},matchProtocolVersion(t){const e=t-this.protocolVersion;if(e===0)return;const r=`@albedo-link/intent module protocol version (${this.protocolVersion}) is incompatible with current Albedo protocol version ${t}.`;if(e>0)console.warn(r+" Please update @albedo-link/intent module to avoid possible connection problems.");else if(e<0)throw this.windowHandler.close(),new Error(r)}};function Gd(t,e,r){r.error?e(r):t(r)}function Yd(t){const e=`${t}/confirm`,r=480,i=600,c=window.screenLeft!==void 0?window.screenLeft:window.screenX,o=window.screenTop!==void 0?window.screenTop:window.screenY,p=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,d=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=p/2-r/2+c,s=d/2-i/2+o,u=window.open(e,"auth.albedo.link",`height=${i},width=${r},top=${s},left=${a},menubar=0,toolbar=0,location=0,status=0,personalbar=0,scrollbars=0,dependent=1`);return new _o(u,!0).onLoaded}let si=null;function Xo(t){if(!si){const e=document.createElement("iframe");e.style.border="none",Object.assign(e,{width:"0",height:"0",frameBorder:"0",referrerPolicy:"origin",src:`${t}`}),document.body.appendChild(e),si=new _o(e.contentWindow)}return si.onLoaded}function Eo({session:t,pubkey:e,grants:r,valid_until:i}){this.key=t,this.pubkey=e,this.grants=r.slice(),this.validUntil=i,Object.freeze(this),Object.freeze(this.grants)}Eo.prototype={key:"",pubkey:"",grants:[],validUntil:0,get isExpired(){return this.validUntil-2e3<new Date().getTime()},toJSON(){return{session:this.key,pubkey:this.pubkey,grants:this.grants.slice(),valid_until:this.validUntil}}};const hn="albedo_session_";function Qn(){return window.sessionStorage}function Xd(t){const e=new Eo(t);Qn().setItem(hn+e.pubkey,JSON.stringify(e))}function lf(t){let e;{const r=Qn().getItem(hn+t);r&&(e=new Eo(JSON.parse(r)))}return e?e.isExpired?(pf(t),null):e:null}function hf(t,e){const r=lf(e);return!r||!r.grants.includes(t)?null:r}function Zd(){const t=Qn();return Object.keys(t).filter(e=>e.indexOf(hn)===0).map(e=>lf(e.substr(hn.length))).filter(e=>!!e)}function pf(t){Qn().removeItem(hn+t)}function fn(t){return Object.assign(new Error,xo.invalidIntentRequest,{ext:t})}function Jd(t,e){try{const{intent:r}=t;if(!r)throw fn('Parameter "intent" is required.');const i=uf[r];if(!i)throw fn(`Unknown intent: "${r}".`);const c=tu(i,t);return Qd(c,e).then(o=>eu(c,o))}catch(r){const{code:i=-1,message:c,ext:o}=r,p={message:c,code:i};return o&&(p.ext=o),Promise.reject(p)}}function Qd(t,e){if(t.pubkey){const r=hf(t.intent,t.pubkey);if(r)return t.session=r.key,Xo(e)}return setTimeout(()=>{t.intent==="implicit_flow"&&Xo(e)},200),Yd(e)}function eu(t,e){return e.postMessage(t).then(r=>(r.intent==="implicit_flow"&&r.granted&&Xd(r),r))}function tu(t,e){if(typeof e!="object")throw fn("Intent parameters expected.");const{intent:r,pubkey:i}=e,c={intent:r};if(i&&!/^G[0-9A-Z]{55}$/.test(i))throw fn('Invalid "pubkey" parameter. Stellar account public key expected.');for(const o in t.params){const p=t.params[o],d=e[o];if(d)c[o]=d;else if(p.required)throw fn(`Parameter "${o}" is required for intent "${r}".`)}return c}function ru(t=null){t===null&&(t=window.location.search),t[0]==="?"&&(t=t.substr(1));const e={};for(let r of t.split("&")){const[i,c]=r.split("=").map(o=>decodeURIComponent(o));e[i]=c}return e}function nu(t){typeof document>"u"||!document.addEventListener||document.addEventListener("click",function(r){if(r.target.tagName!=="A"||(r.target.href||"").indexOf("web+stellar:")!==0)return;r.preventDefault(),r.stopImmediatePropagation();const{pathname:i,search:c}=new URL(r.target.href);if(!["tx","pay"].includes(i)){alert(`Invalid operation requested: ${i}. It's likely an external application error. Please contact support team of ${window.location.origin}.`);return}const o=ru(c);t.request(i,o)},!1)}if(typeof window=="object"&&typeof window.fetch!="function")throw new Error("Browser FetchAPI is not available. For legacy browsers support use polyfills such as whatwg-fetch.");function bf(){}bf.prototype={frontendUrl:"https://albedo.link",intentInterface:uf,intentErrors:xo,request(t,e){return Jd(Object.assign(e||{},{intent:t}),this.frontendUrl)},implicitFlow(t){return this.request("implicit_flow",t)},publicKey(t){return t=Object.assign({},t),t.token||(t.token=io()),this.request("public_key",t)},tx(t){return this.request("tx",t)},batch(t){return this.request("batch",t)},pay(t){return this.request("pay",t)},trust(t){return this.request("trust",t)},exchange(t){return this.request("exchange",t)},signMessage(t){return t=Object.assign({},t,{message:iu(t.message)}),this.request("sign_message",t)},manageAccount(t){return this.request("manage_account",t)},generateRandomToken(){return io()},isImplicitSessionAllowed(t,e){return!!hf(t,e)},listImplicitSessions(){return Zd()},forgetImplicitSession(t){pf(t)}};function iu(t){switch(typeof t){case"string":return t;case"undefined":return""}return JSON.stringify(t)}const oo=new bf;oo.default=oo;nu(oo);var qn={exports:{}},ou=qn.exports,Zo;function au(){return Zo||(Zo=1,(function(t,e){(function(r,i){t.exports=i()})(ou,(()=>(()=>{var r,i,c={d:(b,n)=>{for(var f in n)c.o(n,f)&&!c.o(b,f)&&Object.defineProperty(b,f,{enumerable:!0,get:n[f]})},o:(b,n)=>Object.prototype.hasOwnProperty.call(b,n),r:b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})}},o={};c.r(o),c.d(o,{WatchWalletChanges:()=>te,addToken:()=>A,default:()=>X,getAddress:()=>E,getNetwork:()=>H,getNetworkDetails:()=>q,isAllowed:()=>F,isBrowser:()=>D,isConnected:()=>k,requestAccess:()=>J,setAllowed:()=>j,signAuthEntry:()=>U,signMessage:()=>R,signTransaction:()=>I}),(function(b){b.CREATE_ACCOUNT="CREATE_ACCOUNT",b.FUND_ACCOUNT="FUND_ACCOUNT",b.ADD_ACCOUNT="ADD_ACCOUNT",b.IMPORT_ACCOUNT="IMPORT_ACCOUNT",b.IMPORT_HARDWARE_WALLET="IMPORT_HARDWARE_WALLET",b.LOAD_ACCOUNT="LOAD_ACCOUNT",b.MAKE_ACCOUNT_ACTIVE="MAKE_ACCOUNT_ACTIVE",b.UPDATE_ACCOUNT_NAME="UPDATE_ACCOUNT_NAME",b.GET_MNEMONIC_PHRASE="GET_MNEMONIC_PHRASE",b.CONFIRM_MNEMONIC_PHRASE="CONFIRM_MNEMONIC_PHRASE",b.CONFIRM_MIGRATED_MNEMONIC_PHRASE="CONFIRM_MIGRATED_MNEMONIC_PHRASE",b.RECOVER_ACCOUNT="RECOVER_ACCOUNT",b.CONFIRM_PASSWORD="CONFIRM_PASSWORD",b.REJECT_ACCESS="REJECT_ACCESS",b.GRANT_ACCESS="GRANT_ACCESS",b.ADD_TOKEN="ADD_TOKEN",b.SIGN_TRANSACTION="SIGN_TRANSACTION",b.SIGN_BLOB="SIGN_BLOB",b.SIGN_AUTH_ENTRY="SIGN_AUTH_ENTRY",b.HANDLE_SIGNED_HW_PAYLOAD="HANDLE_SIGNED_HW_PAYLOAD",b.REJECT_TRANSACTION="REJECT_TRANSACTION",b.SIGN_FREIGHTER_TRANSACTION="SIGN_FREIGHTER_TRANSACTION",b.SIGN_FREIGHTER_SOROBAN_TRANSACTION="SIGN_FREIGHTER_SOROBAN_TRANSACTION",b.ADD_RECENT_ADDRESS="ADD_RECENT_ADDRESS",b.LOAD_RECENT_ADDRESSES="LOAD_RECENT_ADDRESSES",b.LOAD_LAST_USED_ACCOUNT="LOAD_LAST_USED_ACCOUNT",b.SIGN_OUT="SIGN_OUT",b.SHOW_BACKUP_PHRASE="SHOW_BACKUP_PHRASE",b.SAVE_ALLOWLIST="SAVE_ALLOWLIST",b.SAVE_SETTINGS="SAVE_SETTINGS",b.SAVE_EXPERIMENTAL_FEATURES="SAVE_EXPERIMENTAL_FEATURES",b.LOAD_SETTINGS="LOAD_SETTINGS",b.GET_CACHED_ASSET_ICON="GET_CACHED_ASSET_ICON",b.CACHE_ASSET_ICON="CACHE_ASSET_ICON",b.GET_CACHED_ASSET_DOMAIN="GET_CACHED_ASSET_DOMAIN",b.CACHE_ASSET_DOMAIN="CACHE_ASSET_DOMAIN",b.GET_MEMO_REQUIRED_ACCOUNTS="GET_MEMO_REQUIRED_ACCOUNTS",b.ADD_CUSTOM_NETWORK="ADD_CUSTOM_NETWORK",b.CHANGE_NETWORK="CHANGE_NETWORK",b.REMOVE_CUSTOM_NETWORK="REMOVE_CUSTOM_NETWORK",b.EDIT_CUSTOM_NETWORK="EDIT_CUSTOM_NETWORK",b.RESET_EXP_DATA="RESET_EXP_DATA",b.ADD_TOKEN_ID="ADD_TOKEN_ID",b.GET_TOKEN_IDS="GET_TOKEN_IDS",b.REMOVE_TOKEN_ID="REMOVE_TOKEN_ID",b.GET_MIGRATABLE_ACCOUNTS="GET_MIGRATABLE_ACCOUNTS",b.GET_MIGRATED_MNEMONIC_PHRASE="GET_MIGRATED_MNEMONIC_PHRASE",b.MIGRATE_ACCOUNTS="MIGRATE_ACCOUNTS",b.ADD_ASSETS_LIST="ADD_ASSETS_LIST",b.MODIFY_ASSETS_LIST="MODIFY_ASSETS_LIST",b.CHANGE_ASSET_VISIBILITY="CHANGE_ASSET_VISIBILITY",b.GET_HIDDEN_ASSETS="GET_HIDDEN_ASSETS",b.GET_IS_ACCOUNT_MISMATCH="GET_IS_ACCOUNT_MISMATCH"})(r||(r={})),(function(b){b.REQUEST_ACCESS="REQUEST_ACCESS",b.REQUEST_PUBLIC_KEY="REQUEST_PUBLIC_KEY",b.SUBMIT_TOKEN="SUBMIT_TOKEN",b.SUBMIT_TRANSACTION="SUBMIT_TRANSACTION",b.SUBMIT_BLOB="SUBMIT_BLOB",b.SUBMIT_AUTH_ENTRY="SUBMIT_AUTH_ENTRY",b.REQUEST_NETWORK="REQUEST_NETWORK",b.REQUEST_NETWORK_DETAILS="REQUEST_NETWORK_DETAILS",b.REQUEST_CONNECTION_STATUS="REQUEST_CONNECTION_STATUS",b.REQUEST_ALLOWED_STATUS="REQUEST_ALLOWED_STATUS",b.SET_ALLOWED_STATUS="SET_ALLOWED_STATUS",b.REQUEST_USER_INFO="REQUEST_USER_INFO"})(i||(i={}));const p=b=>{const n=Date.now()+Math.random();return window.postMessage({source:"FREIGHTER_EXTERNAL_MSG_REQUEST",messageId:n,...b},window.location.origin),new Promise((f=>{let l=0;b.type!==i.REQUEST_CONNECTION_STATUS&&b.type!==i.REQUEST_PUBLIC_KEY||(l=setTimeout((()=>{f({isConnected:!1,publicKey:""}),window.removeEventListener("message",m)}),2e3));const m=x=>{var M,P;x.source===window&&((M=x?.data)===null||M===void 0?void 0:M.source)==="FREIGHTER_EXTERNAL_MSG_RESPONSE"&&((P=x?.data)===null||P===void 0?void 0:P.messagedId)===n&&(f(x.data),window.removeEventListener("message",m),clearTimeout(l))};window.addEventListener("message",m,!1)}))},d={code:-1,message:"Node environment is not supported"},a={code:-1,message:"The wallet encountered an internal error. Please try again or contact the wallet if the problem persists."},s=async()=>{let b;try{b=await p({type:i.REQUEST_ACCESS})}catch(f){console.error(f)}const{publicKey:n}=b||{publicKey:""};return{publicKey:n,error:b?.apiError}},u=async()=>{let b;try{b=await p({type:i.REQUEST_PUBLIC_KEY})}catch(n){console.error(n)}return{publicKey:b?.publicKey||"",error:b?.apiError}},v=async()=>{let b;try{b=await p({type:i.REQUEST_NETWORK_DETAILS})}catch(P){console.error(P)}const{networkDetails:n,apiError:f}=b||{networkDetails:{network:"",networkUrl:"",networkPassphrase:"",sorobanRpcUrl:void 0}},{network:l,networkUrl:m,networkPassphrase:x,sorobanRpcUrl:M}=n;return{network:l,networkUrl:m,networkPassphrase:x,sorobanRpcUrl:M,error:f}},g=async()=>{let b;try{b=await p({type:i.REQUEST_ALLOWED_STATUS})}catch(f){console.error(f)}const{isAllowed:n}=b||{isAllowed:!1};return{isAllowed:n,error:b?.apiError}},E=async()=>{let b="";if(D){const n=await u();return b=n.publicKey,n.error?{address:b,error:n.error}:{address:b}}return{address:b,error:d}},A=async b=>{if(D){const n=await(async f=>{let l;try{l=await p({contractId:f.contractId,networkPassphrase:f.networkPassphrase,type:i.SUBMIT_TOKEN})}catch{return{error:a}}return{contractId:l.contractId,error:l?.apiError}})(b);return n.error?{contractId:"",error:n.error}:{contractId:n.contractId||""}}return{contractId:"",error:d}},I=async(b,n)=>{if(D){const f=await(async(l,m)=>{let x,M,P,T;typeof m=="object"?(M=m.accountToSign,P=m.networkPassphrase):(x=m,M=void 0);try{T=await p({transactionXdr:l,network:x,networkPassphrase:P,accountToSign:M,type:i.SUBMIT_TRANSACTION})}catch{return{signedTransaction:"",signerAddress:"",error:a}}const{signedTransaction:h,signerAddress:B}=T;return{signedTransaction:h,signerAddress:B,error:T?.apiError}})(b,n);return f.error?{signedTxXdr:"",signerAddress:"",error:f.error}:{signedTxXdr:f.signedTransaction,signerAddress:f.signerAddress}}return{signedTxXdr:"",signerAddress:"",error:d}},R=async(b,n)=>{if(D){const{isAllowed:f}=await g();if(!f){const m=await s();if(m.error)return{signedMessage:null,signerAddress:"",error:m.error}}const l=await(async(m,x,M)=>{let P;const T=(M||{}).address;try{P=await p({blob:m,accountToSign:T,apiVersion:"5.0.0",networkPassphrase:M?.networkPassphrase,type:i.SUBMIT_BLOB})}catch{return{signedMessage:null,signerAddress:"",error:a}}const{signedBlob:h,signerAddress:B}=P;return{signedMessage:h||null,signerAddress:B,error:P?.apiError}})(b,0,n);return l.error?{signedMessage:null,signerAddress:"",error:l.error}:{signedMessage:l.signedMessage,signerAddress:l.signerAddress}}return{signedMessage:null,signerAddress:"",error:d}},U=async(b,n)=>{if(D){const{isAllowed:f}=await g();if(!f){const m=await s();if(m.error)return{signedAuthEntry:null,signerAddress:"",error:m.error}}const l=await(async(m,x,M)=>{const P=(M||{}).address;let T;try{T=await p({entryXdr:m,accountToSign:P,apiVersion:"5.0.0",networkPassphrase:M?.networkPassphrase,type:i.SUBMIT_AUTH_ENTRY})}catch(G){return console.error(G),{signedAuthEntry:null,signerAddress:"",error:a}}const{signedAuthEntry:h,signerAddress:B}=T;return{signedAuthEntry:h||null,signerAddress:B,error:T?.apiError}})(b,0,n);return l.error?{signedAuthEntry:null,signerAddress:"",error:l.error}:{signedAuthEntry:l.signedAuthEntry,signerAddress:l.signerAddress}}return{signedAuthEntry:null,signerAddress:"",error:d}},k=async()=>D?window.freighter?Promise.resolve({isConnected:window.freighter}):(async()=>{let b={isConnected:!1};try{b=await p({type:i.REQUEST_CONNECTION_STATUS})}catch(n){console.error(n)}return{isConnected:b.isConnected}})():{isConnected:!1,error:d},H=async()=>{if(D){const b=await(async()=>{let n;try{n=await p({type:i.REQUEST_NETWORK_DETAILS})}catch(l){console.error(l)}const{networkDetails:f}=n||{networkDetails:{network:"",networkPassphrase:""}};return{network:f?.network,networkPassphrase:f?.networkPassphrase,error:n?.apiError}})();return b.error?{network:"",networkPassphrase:"",error:b.error}:{network:b.network,networkPassphrase:b.networkPassphrase}}return{network:"",networkPassphrase:"",error:d}},q=async()=>{if(D){const b=await v();return b.error?{network:"",networkUrl:"",networkPassphrase:"",error:b.error}:{network:b.network,networkUrl:b.networkUrl,networkPassphrase:b.networkPassphrase,sorobanRpcUrl:b.sorobanRpcUrl}}return{network:"",networkUrl:"",networkPassphrase:"",error:d}},F=async()=>{let b=!1;if(D){const n=await g();return b=n.isAllowed,n.error?{isAllowed:b,error:n.error}:{isAllowed:b}}return{isAllowed:b,error:d}},j=async()=>{let b=!1;if(D){const n=await(async()=>{let f;try{f=await p({type:i.SET_ALLOWED_STATUS})}catch(m){console.error(m)}const{isAllowed:l}=f||{isAllowed:!1};return{isAllowed:l,error:f?.apiError}})();return b=n.isAllowed,n.error?{isAllowed:b,error:n.error}:{isAllowed:b}}return{isAllowed:b,error:d}},J=async()=>{let b="";if(D){const n=await s();return b=n.publicKey,n.error?{address:b,error:n.error}:{address:b}}return{address:b,error:d}};class te{constructor(n=3e3){this.fetchInfo=async f=>{if(!this.isRunning)return;const l=await u(),m=await v();(l.error||m.error)&&f({address:"",network:"",networkPassphrase:"",error:l.error||m.error}),this.currentAddress===l.publicKey&&this.currentNetwork===m.network&&this.currentNetworkPassphrase===m.networkPassphrase||(this.currentAddress=l.publicKey,this.currentNetwork=m.network,this.currentNetworkPassphrase=m.networkPassphrase,f({address:l.publicKey,network:m.network,networkPassphrase:m.networkPassphrase})),setTimeout((()=>this.fetchInfo(f)),this.timeout)},this.timeout=n,this.currentAddress="",this.currentNetwork="",this.currentNetworkPassphrase="",this.isRunning=!1}watch(n){return D?(this.isRunning=!0,this.fetchInfo(n),{}):{error:d}}stop(){this.isRunning=!1}}const D=typeof window<"u",X={getAddress:E,addToken:A,signTransaction:I,signMessage:R,signAuthEntry:U,isConnected:k,getNetwork:H,getNetworkDetails:q,isAllowed:F,setAllowed:j,requestAccess:J,WatchWalletChanges:te};return o})()))})(qn)),qn.exports}var ur=au();const yf="freighter";class su{constructor(){this.moduleType=tf.HOT_WALLET,this.productId=yf,this.productName="Freighter",this.productUrl="https://freighter.app",this.productIcon="https://stellar.creit.tech/wallet-icons/freighter.png"}async runChecks(){if(!await this.isAvailable())throw new Error("Freighter is not connected")}async isAvailable(){return window.stellar?.provider==="freighter"&&window.stellar?.platform==="mobile"?!1:ur.isConnected().then(({isConnected:e,error:r})=>!r&&e).catch(()=>!1)}async getAddress(e){return this.runChecks().then(async()=>e?.skipRequestAccess?!0:ur.requestAccess()).then(()=>ur.getAddress()).then(({address:r,error:i})=>{if(i)throw i;if(!r)throw{code:-3,message:"Getting the address is not allowed, please request access first."};return{address:r}}).catch(r=>{throw on(r)})}async signTransaction(e,r){return this.runChecks().then(async()=>{const{signedTxXdr:i,signerAddress:c,error:o}=await ur.signTransaction(e,{address:r?.address,networkPassphrase:r?.networkPassphrase});if(o)throw o;return{signedTxXdr:i,signerAddress:c}}).catch(i=>{throw on(i)})}async signAuthEntry(e,r){return this.runChecks().then(async()=>{const{signedAuthEntry:i,signerAddress:c,error:o}=await ur.signAuthEntry(e,{address:r?.address,networkPassphrase:r?.networkPassphrase});if(o||!i)throw o;return{signedAuthEntry:Ji.Buffer.from(i).toString("base64"),signerAddress:c}}).catch(i=>{throw on(i)})}async signMessage(e,r){return this.runChecks().then(async()=>{const{signedMessage:i,signerAddress:c,error:o}=await ur.signMessage(e,{address:r?.address,networkPassphrase:r?.networkPassphrase});if(o||!i)throw o;return{signedMessage:typeof i=="string"?i:Ji.Buffer.from(i).toString("base64"),signerAddress:c}}).catch(i=>{throw on(i)})}async getNetwork(){return this.runChecks().then(async()=>{const{network:e,networkPassphrase:r,error:i}=await ur.getNetwork();if(i)throw i;return{network:e,networkPassphrase:r}}).catch(e=>{throw on(e)})}}var $n={exports:{}},fu=$n.exports,Jo;function cu(){return Jo||(Jo=1,(function(t,e){(function(r,i){t.exports=i()})(fu,(()=>(()=>{var r,i,c,o={d:(A,I)=>{for(var R in I)o.o(I,R)&&!o.o(A,R)&&Object.defineProperty(A,R,{enumerable:!0,get:I[R]})},o:(A,I)=>Object.prototype.hasOwnProperty.call(A,I),r:A=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})}},p={};o.r(p),o.d(p,{default:()=>E,getPublicKey:()=>s,isBrowser:()=>g,isConnected:()=>v,signTransaction:()=>u}),(function(A){A.LOAD_STATE="LOAD_STATE",A.LOGIN="LOGIN",A.LOGOUT="LOGOUT",A.SIGN_TRANSACTION="SIGN_TRANSACTION",A.REJECT_TRANSACTION="REJECT_TRANSACTION",A.GRANT_ACCESS="GRANT_ACCESS",A.REJECT_ACCESS="REJECT_ACCESS"})(r||(r={})),(function(A){A.REQUEST_ACCESS="REQUEST_ACCESS",A.SIGN_TRANSACTION="SUBMIT_TRANSACTION",A.REQUEST_CONNECTION_STATUS="REQUEST_CONNECTION_STATUS"})(i||(i={})),(function(A){A.pending="pending",A.signed="signed",A.rejected="rejected"})(c||(c={}));const d="LOBSTR_CONNECTION_KEY",a=A=>{const I=Date.now()+Math.random();return window.postMessage({source:"LOBSTR_EXTERNAL_MSG_REQUEST",messageId:I,...A},window.location.origin),new Promise((R=>{let U=0;A.type===i.REQUEST_CONNECTION_STATUS&&(U=setTimeout((()=>{R({isConnected:!1}),window.removeEventListener("message",k)}),2e3));const k=H=>{var q,F;H.source===window&&((q=H?.data)===null||q===void 0?void 0:q.source)==="LOBSTR_EXTERNAL_MSG_RESPONSE"&&((F=H?.data)===null||F===void 0?void 0:F.messagedId)===I&&(R(H.data),window.removeEventListener("message",k),clearTimeout(U))};window.addEventListener("message",k,!1)}))},s=async()=>{if(!g)return"";const{publicKey:A,connectionKey:I}=await(async()=>{let R={publicKey:"",error:"",connectionKey:""};try{R=await a({type:i.REQUEST_ACCESS})}catch(q){console.error(q)}const{publicKey:U,connectionKey:k,error:H}=R;if(H)throw H;return{publicKey:U,connectionKey:k}})();return(R=>{var U;(U=window?.sessionStorage)===null||U===void 0||U.setItem(d,R)})(I),A},u=async A=>{if(!g)return"";const I=((R=window?.sessionStorage)===null||R===void 0?void 0:R.getItem(d))||"";var R;return await(async(U,k)=>{let H={signedTransaction:"",error:""};try{H=await a({transactionXdr:U,connectionKey:k,type:i.SIGN_TRANSACTION})}catch(j){throw console.error(j),j}const{signedTransaction:q,error:F}=H;if(F)throw F;return q})(A,I)},v=async()=>!!g&&(window.lobstrSignerExtension?window.lobstrSignerExtension:await(async()=>{let A={isConnected:!1};try{A=await a({type:i.REQUEST_CONNECTION_STATUS})}catch(I){console.error(I)}return A.isConnected})()),g=typeof window<"u",E={getPublicKey:s,signTransaction:u,isConnected:v};return p})()))})($n)),$n.exports}cu();function du(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fi={exports:{}};const uu={},lu=Object.freeze(Object.defineProperty({__proto__:null,default:uu},Symbol.toStringTag,{value:"Module"})),Ao=Hs(lu);var Qo;function hu(){return Qo||(Qo=1,(function(t){(function(e){var r=function(S){var N,O=new Float64Array(16);if(S)for(N=0;N<S.length;N++)O[N]=S[N];return O},i=function(){throw new Error("no PRNG")},c=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var p=r(),d=r([1]),a=r([56129,1]),s=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),v=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),g=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),E=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function A(S,N,O,y){S[N]=O>>24&255,S[N+1]=O>>16&255,S[N+2]=O>>8&255,S[N+3]=O&255,S[N+4]=y>>24&255,S[N+5]=y>>16&255,S[N+6]=y>>8&255,S[N+7]=y&255}function I(S,N,O,y,L){var Q,oe=0;for(Q=0;Q<L;Q++)oe|=S[N+Q]^O[y+Q];return(1&oe-1>>>8)-1}function R(S,N,O,y){return I(S,N,O,y,16)}function U(S,N,O,y){return I(S,N,O,y,32)}function k(S,N,O,y){for(var L=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,Q=O[0]&255|(O[1]&255)<<8|(O[2]&255)<<16|(O[3]&255)<<24,oe=O[4]&255|(O[5]&255)<<8|(O[6]&255)<<16|(O[7]&255)<<24,le=O[8]&255|(O[9]&255)<<8|(O[10]&255)<<16|(O[11]&255)<<24,me=O[12]&255|(O[13]&255)<<8|(O[14]&255)<<16|(O[15]&255)<<24,Pe=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,Ae=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,it=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ie=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,De=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Fe=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,Ye=O[16]&255|(O[17]&255)<<8|(O[18]&255)<<16|(O[19]&255)<<24,Ve=O[20]&255|(O[21]&255)<<8|(O[22]&255)<<16|(O[23]&255)<<24,je=O[24]&255|(O[25]&255)<<8|(O[26]&255)<<16|(O[27]&255)<<24,Ke=O[28]&255|(O[29]&255)<<8|(O[30]&255)<<16|(O[31]&255)<<24,ze=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,Be=L,Le=Q,Me=oe,Re=le,Ne=me,Ee=Pe,fe=Ae,de=it,we=Ie,ve=De,ge=Fe,xe=Ye,qe=Ve,Je=je,et=Ke,Qe=ze,V,nt=0;nt<20;nt+=2)V=Be+qe|0,Ne^=V<<7|V>>>25,V=Ne+Be|0,we^=V<<9|V>>>23,V=we+Ne|0,qe^=V<<13|V>>>19,V=qe+we|0,Be^=V<<18|V>>>14,V=Ee+Le|0,ve^=V<<7|V>>>25,V=ve+Ee|0,Je^=V<<9|V>>>23,V=Je+ve|0,Le^=V<<13|V>>>19,V=Le+Je|0,Ee^=V<<18|V>>>14,V=ge+fe|0,et^=V<<7|V>>>25,V=et+ge|0,Me^=V<<9|V>>>23,V=Me+et|0,fe^=V<<13|V>>>19,V=fe+Me|0,ge^=V<<18|V>>>14,V=Qe+xe|0,Re^=V<<7|V>>>25,V=Re+Qe|0,de^=V<<9|V>>>23,V=de+Re|0,xe^=V<<13|V>>>19,V=xe+de|0,Qe^=V<<18|V>>>14,V=Be+Re|0,Le^=V<<7|V>>>25,V=Le+Be|0,Me^=V<<9|V>>>23,V=Me+Le|0,Re^=V<<13|V>>>19,V=Re+Me|0,Be^=V<<18|V>>>14,V=Ee+Ne|0,fe^=V<<7|V>>>25,V=fe+Ee|0,de^=V<<9|V>>>23,V=de+fe|0,Ne^=V<<13|V>>>19,V=Ne+de|0,Ee^=V<<18|V>>>14,V=ge+ve|0,xe^=V<<7|V>>>25,V=xe+ge|0,we^=V<<9|V>>>23,V=we+xe|0,ve^=V<<13|V>>>19,V=ve+we|0,ge^=V<<18|V>>>14,V=Qe+et|0,qe^=V<<7|V>>>25,V=qe+Qe|0,Je^=V<<9|V>>>23,V=Je+qe|0,et^=V<<13|V>>>19,V=et+Je|0,Qe^=V<<18|V>>>14;Be=Be+L|0,Le=Le+Q|0,Me=Me+oe|0,Re=Re+le|0,Ne=Ne+me|0,Ee=Ee+Pe|0,fe=fe+Ae|0,de=de+it|0,we=we+Ie|0,ve=ve+De|0,ge=ge+Fe|0,xe=xe+Ye|0,qe=qe+Ve|0,Je=Je+je|0,et=et+Ke|0,Qe=Qe+ze|0,S[0]=Be>>>0&255,S[1]=Be>>>8&255,S[2]=Be>>>16&255,S[3]=Be>>>24&255,S[4]=Le>>>0&255,S[5]=Le>>>8&255,S[6]=Le>>>16&255,S[7]=Le>>>24&255,S[8]=Me>>>0&255,S[9]=Me>>>8&255,S[10]=Me>>>16&255,S[11]=Me>>>24&255,S[12]=Re>>>0&255,S[13]=Re>>>8&255,S[14]=Re>>>16&255,S[15]=Re>>>24&255,S[16]=Ne>>>0&255,S[17]=Ne>>>8&255,S[18]=Ne>>>16&255,S[19]=Ne>>>24&255,S[20]=Ee>>>0&255,S[21]=Ee>>>8&255,S[22]=Ee>>>16&255,S[23]=Ee>>>24&255,S[24]=fe>>>0&255,S[25]=fe>>>8&255,S[26]=fe>>>16&255,S[27]=fe>>>24&255,S[28]=de>>>0&255,S[29]=de>>>8&255,S[30]=de>>>16&255,S[31]=de>>>24&255,S[32]=we>>>0&255,S[33]=we>>>8&255,S[34]=we>>>16&255,S[35]=we>>>24&255,S[36]=ve>>>0&255,S[37]=ve>>>8&255,S[38]=ve>>>16&255,S[39]=ve>>>24&255,S[40]=ge>>>0&255,S[41]=ge>>>8&255,S[42]=ge>>>16&255,S[43]=ge>>>24&255,S[44]=xe>>>0&255,S[45]=xe>>>8&255,S[46]=xe>>>16&255,S[47]=xe>>>24&255,S[48]=qe>>>0&255,S[49]=qe>>>8&255,S[50]=qe>>>16&255,S[51]=qe>>>24&255,S[52]=Je>>>0&255,S[53]=Je>>>8&255,S[54]=Je>>>16&255,S[55]=Je>>>24&255,S[56]=et>>>0&255,S[57]=et>>>8&255,S[58]=et>>>16&255,S[59]=et>>>24&255,S[60]=Qe>>>0&255,S[61]=Qe>>>8&255,S[62]=Qe>>>16&255,S[63]=Qe>>>24&255}function H(S,N,O,y){for(var L=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,Q=O[0]&255|(O[1]&255)<<8|(O[2]&255)<<16|(O[3]&255)<<24,oe=O[4]&255|(O[5]&255)<<8|(O[6]&255)<<16|(O[7]&255)<<24,le=O[8]&255|(O[9]&255)<<8|(O[10]&255)<<16|(O[11]&255)<<24,me=O[12]&255|(O[13]&255)<<8|(O[14]&255)<<16|(O[15]&255)<<24,Pe=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,Ae=N[0]&255|(N[1]&255)<<8|(N[2]&255)<<16|(N[3]&255)<<24,it=N[4]&255|(N[5]&255)<<8|(N[6]&255)<<16|(N[7]&255)<<24,Ie=N[8]&255|(N[9]&255)<<8|(N[10]&255)<<16|(N[11]&255)<<24,De=N[12]&255|(N[13]&255)<<8|(N[14]&255)<<16|(N[15]&255)<<24,Fe=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,Ye=O[16]&255|(O[17]&255)<<8|(O[18]&255)<<16|(O[19]&255)<<24,Ve=O[20]&255|(O[21]&255)<<8|(O[22]&255)<<16|(O[23]&255)<<24,je=O[24]&255|(O[25]&255)<<8|(O[26]&255)<<16|(O[27]&255)<<24,Ke=O[28]&255|(O[29]&255)<<8|(O[30]&255)<<16|(O[31]&255)<<24,ze=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,Be=L,Le=Q,Me=oe,Re=le,Ne=me,Ee=Pe,fe=Ae,de=it,we=Ie,ve=De,ge=Fe,xe=Ye,qe=Ve,Je=je,et=Ke,Qe=ze,V,nt=0;nt<20;nt+=2)V=Be+qe|0,Ne^=V<<7|V>>>25,V=Ne+Be|0,we^=V<<9|V>>>23,V=we+Ne|0,qe^=V<<13|V>>>19,V=qe+we|0,Be^=V<<18|V>>>14,V=Ee+Le|0,ve^=V<<7|V>>>25,V=ve+Ee|0,Je^=V<<9|V>>>23,V=Je+ve|0,Le^=V<<13|V>>>19,V=Le+Je|0,Ee^=V<<18|V>>>14,V=ge+fe|0,et^=V<<7|V>>>25,V=et+ge|0,Me^=V<<9|V>>>23,V=Me+et|0,fe^=V<<13|V>>>19,V=fe+Me|0,ge^=V<<18|V>>>14,V=Qe+xe|0,Re^=V<<7|V>>>25,V=Re+Qe|0,de^=V<<9|V>>>23,V=de+Re|0,xe^=V<<13|V>>>19,V=xe+de|0,Qe^=V<<18|V>>>14,V=Be+Re|0,Le^=V<<7|V>>>25,V=Le+Be|0,Me^=V<<9|V>>>23,V=Me+Le|0,Re^=V<<13|V>>>19,V=Re+Me|0,Be^=V<<18|V>>>14,V=Ee+Ne|0,fe^=V<<7|V>>>25,V=fe+Ee|0,de^=V<<9|V>>>23,V=de+fe|0,Ne^=V<<13|V>>>19,V=Ne+de|0,Ee^=V<<18|V>>>14,V=ge+ve|0,xe^=V<<7|V>>>25,V=xe+ge|0,we^=V<<9|V>>>23,V=we+xe|0,ve^=V<<13|V>>>19,V=ve+we|0,ge^=V<<18|V>>>14,V=Qe+et|0,qe^=V<<7|V>>>25,V=qe+Qe|0,Je^=V<<9|V>>>23,V=Je+qe|0,et^=V<<13|V>>>19,V=et+Je|0,Qe^=V<<18|V>>>14;S[0]=Be>>>0&255,S[1]=Be>>>8&255,S[2]=Be>>>16&255,S[3]=Be>>>24&255,S[4]=Ee>>>0&255,S[5]=Ee>>>8&255,S[6]=Ee>>>16&255,S[7]=Ee>>>24&255,S[8]=ge>>>0&255,S[9]=ge>>>8&255,S[10]=ge>>>16&255,S[11]=ge>>>24&255,S[12]=Qe>>>0&255,S[13]=Qe>>>8&255,S[14]=Qe>>>16&255,S[15]=Qe>>>24&255,S[16]=fe>>>0&255,S[17]=fe>>>8&255,S[18]=fe>>>16&255,S[19]=fe>>>24&255,S[20]=de>>>0&255,S[21]=de>>>8&255,S[22]=de>>>16&255,S[23]=de>>>24&255,S[24]=we>>>0&255,S[25]=we>>>8&255,S[26]=we>>>16&255,S[27]=we>>>24&255,S[28]=ve>>>0&255,S[29]=ve>>>8&255,S[30]=ve>>>16&255,S[31]=ve>>>24&255}function q(S,N,O,y){k(S,N,O,y)}function F(S,N,O,y){H(S,N,O,y)}var j=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function J(S,N,O,y,L,Q,oe){var le=new Uint8Array(16),me=new Uint8Array(64),Pe,Ae;for(Ae=0;Ae<16;Ae++)le[Ae]=0;for(Ae=0;Ae<8;Ae++)le[Ae]=Q[Ae];for(;L>=64;){for(q(me,le,oe,j),Ae=0;Ae<64;Ae++)S[N+Ae]=O[y+Ae]^me[Ae];for(Pe=1,Ae=8;Ae<16;Ae++)Pe=Pe+(le[Ae]&255)|0,le[Ae]=Pe&255,Pe>>>=8;L-=64,N+=64,y+=64}if(L>0)for(q(me,le,oe,j),Ae=0;Ae<L;Ae++)S[N+Ae]=O[y+Ae]^me[Ae];return 0}function te(S,N,O,y,L){var Q=new Uint8Array(16),oe=new Uint8Array(64),le,me;for(me=0;me<16;me++)Q[me]=0;for(me=0;me<8;me++)Q[me]=y[me];for(;O>=64;){for(q(oe,Q,L,j),me=0;me<64;me++)S[N+me]=oe[me];for(le=1,me=8;me<16;me++)le=le+(Q[me]&255)|0,Q[me]=le&255,le>>>=8;O-=64,N+=64}if(O>0)for(q(oe,Q,L,j),me=0;me<O;me++)S[N+me]=oe[me];return 0}function D(S,N,O,y,L){var Q=new Uint8Array(32);F(Q,y,L,j);for(var oe=new Uint8Array(8),le=0;le<8;le++)oe[le]=y[le+16];return te(S,N,O,oe,Q)}function X(S,N,O,y,L,Q,oe){var le=new Uint8Array(32);F(le,Q,oe,j);for(var me=new Uint8Array(8),Pe=0;Pe<8;Pe++)me[Pe]=Q[Pe+16];return J(S,N,O,y,L,me,le)}var b=function(S){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var N,O,y,L,Q,oe,le,me;N=S[0]&255|(S[1]&255)<<8,this.r[0]=N&8191,O=S[2]&255|(S[3]&255)<<8,this.r[1]=(N>>>13|O<<3)&8191,y=S[4]&255|(S[5]&255)<<8,this.r[2]=(O>>>10|y<<6)&7939,L=S[6]&255|(S[7]&255)<<8,this.r[3]=(y>>>7|L<<9)&8191,Q=S[8]&255|(S[9]&255)<<8,this.r[4]=(L>>>4|Q<<12)&255,this.r[5]=Q>>>1&8190,oe=S[10]&255|(S[11]&255)<<8,this.r[6]=(Q>>>14|oe<<2)&8191,le=S[12]&255|(S[13]&255)<<8,this.r[7]=(oe>>>11|le<<5)&8065,me=S[14]&255|(S[15]&255)<<8,this.r[8]=(le>>>8|me<<8)&8191,this.r[9]=me>>>5&127,this.pad[0]=S[16]&255|(S[17]&255)<<8,this.pad[1]=S[18]&255|(S[19]&255)<<8,this.pad[2]=S[20]&255|(S[21]&255)<<8,this.pad[3]=S[22]&255|(S[23]&255)<<8,this.pad[4]=S[24]&255|(S[25]&255)<<8,this.pad[5]=S[26]&255|(S[27]&255)<<8,this.pad[6]=S[28]&255|(S[29]&255)<<8,this.pad[7]=S[30]&255|(S[31]&255)<<8};b.prototype.blocks=function(S,N,O){for(var y=this.fin?0:2048,L,Q,oe,le,me,Pe,Ae,it,Ie,De,Fe,Ye,Ve,je,Ke,ze,Be,Le,Me,Re=this.h[0],Ne=this.h[1],Ee=this.h[2],fe=this.h[3],de=this.h[4],we=this.h[5],ve=this.h[6],ge=this.h[7],xe=this.h[8],qe=this.h[9],Je=this.r[0],et=this.r[1],Qe=this.r[2],V=this.r[3],nt=this.r[4],ct=this.r[5],dt=this.r[6],tt=this.r[7],st=this.r[8],ft=this.r[9];O>=16;)L=S[N+0]&255|(S[N+1]&255)<<8,Re+=L&8191,Q=S[N+2]&255|(S[N+3]&255)<<8,Ne+=(L>>>13|Q<<3)&8191,oe=S[N+4]&255|(S[N+5]&255)<<8,Ee+=(Q>>>10|oe<<6)&8191,le=S[N+6]&255|(S[N+7]&255)<<8,fe+=(oe>>>7|le<<9)&8191,me=S[N+8]&255|(S[N+9]&255)<<8,de+=(le>>>4|me<<12)&8191,we+=me>>>1&8191,Pe=S[N+10]&255|(S[N+11]&255)<<8,ve+=(me>>>14|Pe<<2)&8191,Ae=S[N+12]&255|(S[N+13]&255)<<8,ge+=(Pe>>>11|Ae<<5)&8191,it=S[N+14]&255|(S[N+15]&255)<<8,xe+=(Ae>>>8|it<<8)&8191,qe+=it>>>5|y,Ie=0,De=Ie,De+=Re*Je,De+=Ne*(5*ft),De+=Ee*(5*st),De+=fe*(5*tt),De+=de*(5*dt),Ie=De>>>13,De&=8191,De+=we*(5*ct),De+=ve*(5*nt),De+=ge*(5*V),De+=xe*(5*Qe),De+=qe*(5*et),Ie+=De>>>13,De&=8191,Fe=Ie,Fe+=Re*et,Fe+=Ne*Je,Fe+=Ee*(5*ft),Fe+=fe*(5*st),Fe+=de*(5*tt),Ie=Fe>>>13,Fe&=8191,Fe+=we*(5*dt),Fe+=ve*(5*ct),Fe+=ge*(5*nt),Fe+=xe*(5*V),Fe+=qe*(5*Qe),Ie+=Fe>>>13,Fe&=8191,Ye=Ie,Ye+=Re*Qe,Ye+=Ne*et,Ye+=Ee*Je,Ye+=fe*(5*ft),Ye+=de*(5*st),Ie=Ye>>>13,Ye&=8191,Ye+=we*(5*tt),Ye+=ve*(5*dt),Ye+=ge*(5*ct),Ye+=xe*(5*nt),Ye+=qe*(5*V),Ie+=Ye>>>13,Ye&=8191,Ve=Ie,Ve+=Re*V,Ve+=Ne*Qe,Ve+=Ee*et,Ve+=fe*Je,Ve+=de*(5*ft),Ie=Ve>>>13,Ve&=8191,Ve+=we*(5*st),Ve+=ve*(5*tt),Ve+=ge*(5*dt),Ve+=xe*(5*ct),Ve+=qe*(5*nt),Ie+=Ve>>>13,Ve&=8191,je=Ie,je+=Re*nt,je+=Ne*V,je+=Ee*Qe,je+=fe*et,je+=de*Je,Ie=je>>>13,je&=8191,je+=we*(5*ft),je+=ve*(5*st),je+=ge*(5*tt),je+=xe*(5*dt),je+=qe*(5*ct),Ie+=je>>>13,je&=8191,Ke=Ie,Ke+=Re*ct,Ke+=Ne*nt,Ke+=Ee*V,Ke+=fe*Qe,Ke+=de*et,Ie=Ke>>>13,Ke&=8191,Ke+=we*Je,Ke+=ve*(5*ft),Ke+=ge*(5*st),Ke+=xe*(5*tt),Ke+=qe*(5*dt),Ie+=Ke>>>13,Ke&=8191,ze=Ie,ze+=Re*dt,ze+=Ne*ct,ze+=Ee*nt,ze+=fe*V,ze+=de*Qe,Ie=ze>>>13,ze&=8191,ze+=we*et,ze+=ve*Je,ze+=ge*(5*ft),ze+=xe*(5*st),ze+=qe*(5*tt),Ie+=ze>>>13,ze&=8191,Be=Ie,Be+=Re*tt,Be+=Ne*dt,Be+=Ee*ct,Be+=fe*nt,Be+=de*V,Ie=Be>>>13,Be&=8191,Be+=we*Qe,Be+=ve*et,Be+=ge*Je,Be+=xe*(5*ft),Be+=qe*(5*st),Ie+=Be>>>13,Be&=8191,Le=Ie,Le+=Re*st,Le+=Ne*tt,Le+=Ee*dt,Le+=fe*ct,Le+=de*nt,Ie=Le>>>13,Le&=8191,Le+=we*V,Le+=ve*Qe,Le+=ge*et,Le+=xe*Je,Le+=qe*(5*ft),Ie+=Le>>>13,Le&=8191,Me=Ie,Me+=Re*ft,Me+=Ne*st,Me+=Ee*tt,Me+=fe*dt,Me+=de*ct,Ie=Me>>>13,Me&=8191,Me+=we*nt,Me+=ve*V,Me+=ge*Qe,Me+=xe*et,Me+=qe*Je,Ie+=Me>>>13,Me&=8191,Ie=(Ie<<2)+Ie|0,Ie=Ie+De|0,De=Ie&8191,Ie=Ie>>>13,Fe+=Ie,Re=De,Ne=Fe,Ee=Ye,fe=Ve,de=je,we=Ke,ve=ze,ge=Be,xe=Le,qe=Me,N+=16,O-=16;this.h[0]=Re,this.h[1]=Ne,this.h[2]=Ee,this.h[3]=fe,this.h[4]=de,this.h[5]=we,this.h[6]=ve,this.h[7]=ge,this.h[8]=xe,this.h[9]=qe},b.prototype.finish=function(S,N){var O=new Uint16Array(10),y,L,Q,oe;if(this.leftover){for(oe=this.leftover,this.buffer[oe++]=1;oe<16;oe++)this.buffer[oe]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(y=this.h[1]>>>13,this.h[1]&=8191,oe=2;oe<10;oe++)this.h[oe]+=y,y=this.h[oe]>>>13,this.h[oe]&=8191;for(this.h[0]+=y*5,y=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=y,y=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=y,O[0]=this.h[0]+5,y=O[0]>>>13,O[0]&=8191,oe=1;oe<10;oe++)O[oe]=this.h[oe]+y,y=O[oe]>>>13,O[oe]&=8191;for(O[9]-=8192,L=(y^1)-1,oe=0;oe<10;oe++)O[oe]&=L;for(L=~L,oe=0;oe<10;oe++)this.h[oe]=this.h[oe]&L|O[oe];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Q=this.h[0]+this.pad[0],this.h[0]=Q&65535,oe=1;oe<8;oe++)Q=(this.h[oe]+this.pad[oe]|0)+(Q>>>16)|0,this.h[oe]=Q&65535;S[N+0]=this.h[0]>>>0&255,S[N+1]=this.h[0]>>>8&255,S[N+2]=this.h[1]>>>0&255,S[N+3]=this.h[1]>>>8&255,S[N+4]=this.h[2]>>>0&255,S[N+5]=this.h[2]>>>8&255,S[N+6]=this.h[3]>>>0&255,S[N+7]=this.h[3]>>>8&255,S[N+8]=this.h[4]>>>0&255,S[N+9]=this.h[4]>>>8&255,S[N+10]=this.h[5]>>>0&255,S[N+11]=this.h[5]>>>8&255,S[N+12]=this.h[6]>>>0&255,S[N+13]=this.h[6]>>>8&255,S[N+14]=this.h[7]>>>0&255,S[N+15]=this.h[7]>>>8&255},b.prototype.update=function(S,N,O){var y,L;if(this.leftover){for(L=16-this.leftover,L>O&&(L=O),y=0;y<L;y++)this.buffer[this.leftover+y]=S[N+y];if(O-=L,N+=L,this.leftover+=L,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(O>=16&&(L=O-O%16,this.blocks(S,N,L),N+=L,O-=L),O){for(y=0;y<O;y++)this.buffer[this.leftover+y]=S[N+y];this.leftover+=O}};function n(S,N,O,y,L,Q){var oe=new b(Q);return oe.update(O,y,L),oe.finish(S,N),0}function f(S,N,O,y,L,Q){var oe=new Uint8Array(16);return n(oe,0,O,y,L,Q),R(S,N,oe,0)}function l(S,N,O,y,L){var Q;if(O<32)return-1;for(X(S,0,N,0,O,y,L),n(S,16,S,32,O-32,S),Q=0;Q<16;Q++)S[Q]=0;return 0}function m(S,N,O,y,L){var Q,oe=new Uint8Array(32);if(O<32||(D(oe,0,32,y,L),f(N,16,N,32,O-32,oe)!==0))return-1;for(X(S,0,N,0,O,y,L),Q=0;Q<32;Q++)S[Q]=0;return 0}function x(S,N){var O;for(O=0;O<16;O++)S[O]=N[O]|0}function M(S){var N,O,y=1;for(N=0;N<16;N++)O=S[N]+y+65535,y=Math.floor(O/65536),S[N]=O-y*65536;S[0]+=y-1+37*(y-1)}function P(S,N,O){for(var y,L=~(O-1),Q=0;Q<16;Q++)y=L&(S[Q]^N[Q]),S[Q]^=y,N[Q]^=y}function T(S,N){var O,y,L,Q=r(),oe=r();for(O=0;O<16;O++)oe[O]=N[O];for(M(oe),M(oe),M(oe),y=0;y<2;y++){for(Q[0]=oe[0]-65517,O=1;O<15;O++)Q[O]=oe[O]-65535-(Q[O-1]>>16&1),Q[O-1]&=65535;Q[15]=oe[15]-32767-(Q[14]>>16&1),L=Q[15]>>16&1,Q[14]&=65535,P(oe,Q,1-L)}for(O=0;O<16;O++)S[2*O]=oe[O]&255,S[2*O+1]=oe[O]>>8}function h(S,N){var O=new Uint8Array(32),y=new Uint8Array(32);return T(O,S),T(y,N),U(O,0,y,0)}function B(S){var N=new Uint8Array(32);return T(N,S),N[0]&1}function G(S,N){var O;for(O=0;O<16;O++)S[O]=N[2*O]+(N[2*O+1]<<8);S[15]&=32767}function ee(S,N,O){for(var y=0;y<16;y++)S[y]=N[y]+O[y]}function z(S,N,O){for(var y=0;y<16;y++)S[y]=N[y]-O[y]}function K(S,N,O){var y,L,Q=0,oe=0,le=0,me=0,Pe=0,Ae=0,it=0,Ie=0,De=0,Fe=0,Ye=0,Ve=0,je=0,Ke=0,ze=0,Be=0,Le=0,Me=0,Re=0,Ne=0,Ee=0,fe=0,de=0,we=0,ve=0,ge=0,xe=0,qe=0,Je=0,et=0,Qe=0,V=O[0],nt=O[1],ct=O[2],dt=O[3],tt=O[4],st=O[5],ft=O[6],Tt=O[7],lt=O[8],St=O[9],Mt=O[10],It=O[11],Rt=O[12],Ut=O[13],Lt=O[14],kt=O[15];y=N[0],Q+=y*V,oe+=y*nt,le+=y*ct,me+=y*dt,Pe+=y*tt,Ae+=y*st,it+=y*ft,Ie+=y*Tt,De+=y*lt,Fe+=y*St,Ye+=y*Mt,Ve+=y*It,je+=y*Rt,Ke+=y*Ut,ze+=y*Lt,Be+=y*kt,y=N[1],oe+=y*V,le+=y*nt,me+=y*ct,Pe+=y*dt,Ae+=y*tt,it+=y*st,Ie+=y*ft,De+=y*Tt,Fe+=y*lt,Ye+=y*St,Ve+=y*Mt,je+=y*It,Ke+=y*Rt,ze+=y*Ut,Be+=y*Lt,Le+=y*kt,y=N[2],le+=y*V,me+=y*nt,Pe+=y*ct,Ae+=y*dt,it+=y*tt,Ie+=y*st,De+=y*ft,Fe+=y*Tt,Ye+=y*lt,Ve+=y*St,je+=y*Mt,Ke+=y*It,ze+=y*Rt,Be+=y*Ut,Le+=y*Lt,Me+=y*kt,y=N[3],me+=y*V,Pe+=y*nt,Ae+=y*ct,it+=y*dt,Ie+=y*tt,De+=y*st,Fe+=y*ft,Ye+=y*Tt,Ve+=y*lt,je+=y*St,Ke+=y*Mt,ze+=y*It,Be+=y*Rt,Le+=y*Ut,Me+=y*Lt,Re+=y*kt,y=N[4],Pe+=y*V,Ae+=y*nt,it+=y*ct,Ie+=y*dt,De+=y*tt,Fe+=y*st,Ye+=y*ft,Ve+=y*Tt,je+=y*lt,Ke+=y*St,ze+=y*Mt,Be+=y*It,Le+=y*Rt,Me+=y*Ut,Re+=y*Lt,Ne+=y*kt,y=N[5],Ae+=y*V,it+=y*nt,Ie+=y*ct,De+=y*dt,Fe+=y*tt,Ye+=y*st,Ve+=y*ft,je+=y*Tt,Ke+=y*lt,ze+=y*St,Be+=y*Mt,Le+=y*It,Me+=y*Rt,Re+=y*Ut,Ne+=y*Lt,Ee+=y*kt,y=N[6],it+=y*V,Ie+=y*nt,De+=y*ct,Fe+=y*dt,Ye+=y*tt,Ve+=y*st,je+=y*ft,Ke+=y*Tt,ze+=y*lt,Be+=y*St,Le+=y*Mt,Me+=y*It,Re+=y*Rt,Ne+=y*Ut,Ee+=y*Lt,fe+=y*kt,y=N[7],Ie+=y*V,De+=y*nt,Fe+=y*ct,Ye+=y*dt,Ve+=y*tt,je+=y*st,Ke+=y*ft,ze+=y*Tt,Be+=y*lt,Le+=y*St,Me+=y*Mt,Re+=y*It,Ne+=y*Rt,Ee+=y*Ut,fe+=y*Lt,de+=y*kt,y=N[8],De+=y*V,Fe+=y*nt,Ye+=y*ct,Ve+=y*dt,je+=y*tt,Ke+=y*st,ze+=y*ft,Be+=y*Tt,Le+=y*lt,Me+=y*St,Re+=y*Mt,Ne+=y*It,Ee+=y*Rt,fe+=y*Ut,de+=y*Lt,we+=y*kt,y=N[9],Fe+=y*V,Ye+=y*nt,Ve+=y*ct,je+=y*dt,Ke+=y*tt,ze+=y*st,Be+=y*ft,Le+=y*Tt,Me+=y*lt,Re+=y*St,Ne+=y*Mt,Ee+=y*It,fe+=y*Rt,de+=y*Ut,we+=y*Lt,ve+=y*kt,y=N[10],Ye+=y*V,Ve+=y*nt,je+=y*ct,Ke+=y*dt,ze+=y*tt,Be+=y*st,Le+=y*ft,Me+=y*Tt,Re+=y*lt,Ne+=y*St,Ee+=y*Mt,fe+=y*It,de+=y*Rt,we+=y*Ut,ve+=y*Lt,ge+=y*kt,y=N[11],Ve+=y*V,je+=y*nt,Ke+=y*ct,ze+=y*dt,Be+=y*tt,Le+=y*st,Me+=y*ft,Re+=y*Tt,Ne+=y*lt,Ee+=y*St,fe+=y*Mt,de+=y*It,we+=y*Rt,ve+=y*Ut,ge+=y*Lt,xe+=y*kt,y=N[12],je+=y*V,Ke+=y*nt,ze+=y*ct,Be+=y*dt,Le+=y*tt,Me+=y*st,Re+=y*ft,Ne+=y*Tt,Ee+=y*lt,fe+=y*St,de+=y*Mt,we+=y*It,ve+=y*Rt,ge+=y*Ut,xe+=y*Lt,qe+=y*kt,y=N[13],Ke+=y*V,ze+=y*nt,Be+=y*ct,Le+=y*dt,Me+=y*tt,Re+=y*st,Ne+=y*ft,Ee+=y*Tt,fe+=y*lt,de+=y*St,we+=y*Mt,ve+=y*It,ge+=y*Rt,xe+=y*Ut,qe+=y*Lt,Je+=y*kt,y=N[14],ze+=y*V,Be+=y*nt,Le+=y*ct,Me+=y*dt,Re+=y*tt,Ne+=y*st,Ee+=y*ft,fe+=y*Tt,de+=y*lt,we+=y*St,ve+=y*Mt,ge+=y*It,xe+=y*Rt,qe+=y*Ut,Je+=y*Lt,et+=y*kt,y=N[15],Be+=y*V,Le+=y*nt,Me+=y*ct,Re+=y*dt,Ne+=y*tt,Ee+=y*st,fe+=y*ft,de+=y*Tt,we+=y*lt,ve+=y*St,ge+=y*Mt,xe+=y*It,qe+=y*Rt,Je+=y*Ut,et+=y*Lt,Qe+=y*kt,Q+=38*Le,oe+=38*Me,le+=38*Re,me+=38*Ne,Pe+=38*Ee,Ae+=38*fe,it+=38*de,Ie+=38*we,De+=38*ve,Fe+=38*ge,Ye+=38*xe,Ve+=38*qe,je+=38*Je,Ke+=38*et,ze+=38*Qe,L=1,y=Q+L+65535,L=Math.floor(y/65536),Q=y-L*65536,y=oe+L+65535,L=Math.floor(y/65536),oe=y-L*65536,y=le+L+65535,L=Math.floor(y/65536),le=y-L*65536,y=me+L+65535,L=Math.floor(y/65536),me=y-L*65536,y=Pe+L+65535,L=Math.floor(y/65536),Pe=y-L*65536,y=Ae+L+65535,L=Math.floor(y/65536),Ae=y-L*65536,y=it+L+65535,L=Math.floor(y/65536),it=y-L*65536,y=Ie+L+65535,L=Math.floor(y/65536),Ie=y-L*65536,y=De+L+65535,L=Math.floor(y/65536),De=y-L*65536,y=Fe+L+65535,L=Math.floor(y/65536),Fe=y-L*65536,y=Ye+L+65535,L=Math.floor(y/65536),Ye=y-L*65536,y=Ve+L+65535,L=Math.floor(y/65536),Ve=y-L*65536,y=je+L+65535,L=Math.floor(y/65536),je=y-L*65536,y=Ke+L+65535,L=Math.floor(y/65536),Ke=y-L*65536,y=ze+L+65535,L=Math.floor(y/65536),ze=y-L*65536,y=Be+L+65535,L=Math.floor(y/65536),Be=y-L*65536,Q+=L-1+37*(L-1),L=1,y=Q+L+65535,L=Math.floor(y/65536),Q=y-L*65536,y=oe+L+65535,L=Math.floor(y/65536),oe=y-L*65536,y=le+L+65535,L=Math.floor(y/65536),le=y-L*65536,y=me+L+65535,L=Math.floor(y/65536),me=y-L*65536,y=Pe+L+65535,L=Math.floor(y/65536),Pe=y-L*65536,y=Ae+L+65535,L=Math.floor(y/65536),Ae=y-L*65536,y=it+L+65535,L=Math.floor(y/65536),it=y-L*65536,y=Ie+L+65535,L=Math.floor(y/65536),Ie=y-L*65536,y=De+L+65535,L=Math.floor(y/65536),De=y-L*65536,y=Fe+L+65535,L=Math.floor(y/65536),Fe=y-L*65536,y=Ye+L+65535,L=Math.floor(y/65536),Ye=y-L*65536,y=Ve+L+65535,L=Math.floor(y/65536),Ve=y-L*65536,y=je+L+65535,L=Math.floor(y/65536),je=y-L*65536,y=Ke+L+65535,L=Math.floor(y/65536),Ke=y-L*65536,y=ze+L+65535,L=Math.floor(y/65536),ze=y-L*65536,y=Be+L+65535,L=Math.floor(y/65536),Be=y-L*65536,Q+=L-1+37*(L-1),S[0]=Q,S[1]=oe,S[2]=le,S[3]=me,S[4]=Pe,S[5]=Ae,S[6]=it,S[7]=Ie,S[8]=De,S[9]=Fe,S[10]=Ye,S[11]=Ve,S[12]=je,S[13]=Ke,S[14]=ze,S[15]=Be}function re(S,N){K(S,N,N)}function ie(S,N){var O=r(),y;for(y=0;y<16;y++)O[y]=N[y];for(y=253;y>=0;y--)re(O,O),y!==2&&y!==4&&K(O,O,N);for(y=0;y<16;y++)S[y]=O[y]}function Y(S,N){var O=r(),y;for(y=0;y<16;y++)O[y]=N[y];for(y=250;y>=0;y--)re(O,O),y!==1&&K(O,O,N);for(y=0;y<16;y++)S[y]=O[y]}function W(S,N,O){var y=new Uint8Array(32),L=new Float64Array(80),Q,oe,le=r(),me=r(),Pe=r(),Ae=r(),it=r(),Ie=r();for(oe=0;oe<31;oe++)y[oe]=N[oe];for(y[31]=N[31]&127|64,y[0]&=248,G(L,O),oe=0;oe<16;oe++)me[oe]=L[oe],Ae[oe]=le[oe]=Pe[oe]=0;for(le[0]=Ae[0]=1,oe=254;oe>=0;--oe)Q=y[oe>>>3]>>>(oe&7)&1,P(le,me,Q),P(Pe,Ae,Q),ee(it,le,Pe),z(le,le,Pe),ee(Pe,me,Ae),z(me,me,Ae),re(Ae,it),re(Ie,le),K(le,Pe,le),K(Pe,me,it),ee(it,le,Pe),z(le,le,Pe),re(me,le),z(Pe,Ae,Ie),K(le,Pe,a),ee(le,le,Ae),K(Pe,Pe,le),K(le,Ae,Ie),K(Ae,me,L),re(me,it),P(le,me,Q),P(Pe,Ae,Q);for(oe=0;oe<16;oe++)L[oe+16]=le[oe],L[oe+32]=Pe[oe],L[oe+48]=me[oe],L[oe+64]=Ae[oe];var De=L.subarray(32),Fe=L.subarray(16);return ie(De,De),K(Fe,Fe,De),T(S,Fe),0}function ne(S,N){return W(S,N,o)}function ue(S,N){return i(N,32),ne(S,N)}function pe(S,N,O){var y=new Uint8Array(32);return W(y,O,N),F(S,c,y,j)}var ae=l,be=m;function ye(S,N,O,y,L,Q){var oe=new Uint8Array(32);return pe(oe,L,Q),ae(S,N,O,y,oe)}function he(S,N,O,y,L,Q){var oe=new Uint8Array(32);return pe(oe,L,Q),be(S,N,O,y,oe)}var Se=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _e(S,N,O,y){for(var L=new Int32Array(16),Q=new Int32Array(16),oe,le,me,Pe,Ae,it,Ie,De,Fe,Ye,Ve,je,Ke,ze,Be,Le,Me,Re,Ne,Ee,fe,de,we,ve,ge,xe,qe=S[0],Je=S[1],et=S[2],Qe=S[3],V=S[4],nt=S[5],ct=S[6],dt=S[7],tt=N[0],st=N[1],ft=N[2],Tt=N[3],lt=N[4],St=N[5],Mt=N[6],It=N[7],Rt=0;y>=128;){for(Ne=0;Ne<16;Ne++)Ee=8*Ne+Rt,L[Ne]=O[Ee+0]<<24|O[Ee+1]<<16|O[Ee+2]<<8|O[Ee+3],Q[Ne]=O[Ee+4]<<24|O[Ee+5]<<16|O[Ee+6]<<8|O[Ee+7];for(Ne=0;Ne<80;Ne++)if(oe=qe,le=Je,me=et,Pe=Qe,Ae=V,it=nt,Ie=ct,De=dt,Fe=tt,Ye=st,Ve=ft,je=Tt,Ke=lt,ze=St,Be=Mt,Le=It,fe=dt,de=It,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=(V>>>14|lt<<18)^(V>>>18|lt<<14)^(lt>>>9|V<<23),de=(lt>>>14|V<<18)^(lt>>>18|V<<14)^(V>>>9|lt<<23),we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,fe=V&nt^~V&ct,de=lt&St^~lt&Mt,we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,fe=Se[Ne*2],de=Se[Ne*2+1],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,fe=L[Ne%16],de=Q[Ne%16],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,Me=ge&65535|xe<<16,Re=we&65535|ve<<16,fe=Me,de=Re,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=(qe>>>28|tt<<4)^(tt>>>2|qe<<30)^(tt>>>7|qe<<25),de=(tt>>>28|qe<<4)^(qe>>>2|tt<<30)^(qe>>>7|tt<<25),we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,fe=qe&Je^qe&et^Je&et,de=tt&st^tt&ft^st&ft,we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,De=ge&65535|xe<<16,Le=we&65535|ve<<16,fe=Pe,de=je,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=Me,de=Re,we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,Pe=ge&65535|xe<<16,je=we&65535|ve<<16,Je=oe,et=le,Qe=me,V=Pe,nt=Ae,ct=it,dt=Ie,qe=De,st=Fe,ft=Ye,Tt=Ve,lt=je,St=Ke,Mt=ze,It=Be,tt=Le,Ne%16===15)for(Ee=0;Ee<16;Ee++)fe=L[Ee],de=Q[Ee],we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=L[(Ee+9)%16],de=Q[(Ee+9)%16],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,Me=L[(Ee+1)%16],Re=Q[(Ee+1)%16],fe=(Me>>>1|Re<<31)^(Me>>>8|Re<<24)^Me>>>7,de=(Re>>>1|Me<<31)^(Re>>>8|Me<<24)^(Re>>>7|Me<<25),we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,Me=L[(Ee+14)%16],Re=Q[(Ee+14)%16],fe=(Me>>>19|Re<<13)^(Re>>>29|Me<<3)^Me>>>6,de=(Re>>>19|Me<<13)^(Me>>>29|Re<<3)^(Re>>>6|Me<<26),we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,L[Ee]=ge&65535|xe<<16,Q[Ee]=we&65535|ve<<16;fe=qe,de=tt,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[0],de=N[0],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[0]=qe=ge&65535|xe<<16,N[0]=tt=we&65535|ve<<16,fe=Je,de=st,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[1],de=N[1],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[1]=Je=ge&65535|xe<<16,N[1]=st=we&65535|ve<<16,fe=et,de=ft,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[2],de=N[2],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[2]=et=ge&65535|xe<<16,N[2]=ft=we&65535|ve<<16,fe=Qe,de=Tt,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[3],de=N[3],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[3]=Qe=ge&65535|xe<<16,N[3]=Tt=we&65535|ve<<16,fe=V,de=lt,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[4],de=N[4],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[4]=V=ge&65535|xe<<16,N[4]=lt=we&65535|ve<<16,fe=nt,de=St,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[5],de=N[5],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[5]=nt=ge&65535|xe<<16,N[5]=St=we&65535|ve<<16,fe=ct,de=Mt,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[6],de=N[6],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[6]=ct=ge&65535|xe<<16,N[6]=Mt=we&65535|ve<<16,fe=dt,de=It,we=de&65535,ve=de>>>16,ge=fe&65535,xe=fe>>>16,fe=S[7],de=N[7],we+=de&65535,ve+=de>>>16,ge+=fe&65535,xe+=fe>>>16,ve+=we>>>16,ge+=ve>>>16,xe+=ge>>>16,S[7]=dt=ge&65535|xe<<16,N[7]=It=we&65535|ve<<16,Rt+=128,y-=128}return y}function Te(S,N,O){var y=new Int32Array(8),L=new Int32Array(8),Q=new Uint8Array(256),oe,le=O;for(y[0]=1779033703,y[1]=3144134277,y[2]=1013904242,y[3]=2773480762,y[4]=1359893119,y[5]=2600822924,y[6]=528734635,y[7]=1541459225,L[0]=4089235720,L[1]=2227873595,L[2]=4271175723,L[3]=1595750129,L[4]=2917565137,L[5]=725511199,L[6]=4215389547,L[7]=327033209,_e(y,L,N,O),O%=128,oe=0;oe<O;oe++)Q[oe]=N[le-O+oe];for(Q[O]=128,O=256-128*(O<112?1:0),Q[O-9]=0,A(Q,O-8,le/536870912|0,le<<3),_e(y,L,Q,O),oe=0;oe<8;oe++)A(S,8*oe,y[oe],L[oe]);return 0}function Ge(S,N){var O=r(),y=r(),L=r(),Q=r(),oe=r(),le=r(),me=r(),Pe=r(),Ae=r();z(O,S[1],S[0]),z(Ae,N[1],N[0]),K(O,O,Ae),ee(y,S[0],S[1]),ee(Ae,N[0],N[1]),K(y,y,Ae),K(L,S[3],N[3]),K(L,L,u),K(Q,S[2],N[2]),ee(Q,Q,Q),z(oe,y,O),z(le,Q,L),ee(me,Q,L),ee(Pe,y,O),K(S[0],oe,le),K(S[1],Pe,me),K(S[2],me,le),K(S[3],oe,Pe)}function Oe(S,N,O){var y;for(y=0;y<4;y++)P(S[y],N[y],O)}function Ue(S,N){var O=r(),y=r(),L=r();ie(L,N[2]),K(O,N[0],L),K(y,N[1],L),T(S,y),S[31]^=B(O)<<7}function Ze(S,N,O){var y,L;for(x(S[0],p),x(S[1],d),x(S[2],d),x(S[3],p),L=255;L>=0;--L)y=O[L/8|0]>>(L&7)&1,Oe(S,N,y),Ge(N,S),Ge(S,S),Oe(S,N,y)}function He(S,N){var O=[r(),r(),r(),r()];x(O[0],v),x(O[1],g),x(O[2],d),K(O[3],v,g),Ze(S,O,N)}function We(S,N,O){var y=new Uint8Array(64),L=[r(),r(),r(),r()],Q;for(O||i(N,32),Te(y,N,32),y[0]&=248,y[31]&=127,y[31]|=64,He(L,y),Ue(S,L),Q=0;Q<32;Q++)N[Q+32]=S[Q];return 0}var xt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function C(S,N){var O,y,L,Q;for(y=63;y>=32;--y){for(O=0,L=y-32,Q=y-12;L<Q;++L)N[L]+=O-16*N[y]*xt[L-(y-32)],O=Math.floor((N[L]+128)/256),N[L]-=O*256;N[L]+=O,N[y]=0}for(O=0,L=0;L<32;L++)N[L]+=O-(N[31]>>4)*xt[L],O=N[L]>>8,N[L]&=255;for(L=0;L<32;L++)N[L]-=O*xt[L];for(y=0;y<32;y++)N[y+1]+=N[y]>>8,S[y]=N[y]&255}function w(S){var N=new Float64Array(64),O;for(O=0;O<64;O++)N[O]=S[O];for(O=0;O<64;O++)S[O]=0;C(S,N)}function _(S,N,O,y){var L=new Uint8Array(64),Q=new Uint8Array(64),oe=new Uint8Array(64),le,me,Pe=new Float64Array(64),Ae=[r(),r(),r(),r()];Te(L,y,32),L[0]&=248,L[31]&=127,L[31]|=64;var it=O+64;for(le=0;le<O;le++)S[64+le]=N[le];for(le=0;le<32;le++)S[32+le]=L[32+le];for(Te(oe,S.subarray(32),O+32),w(oe),He(Ae,oe),Ue(S,Ae),le=32;le<64;le++)S[le]=y[le];for(Te(Q,S,O+64),w(Q),le=0;le<64;le++)Pe[le]=0;for(le=0;le<32;le++)Pe[le]=oe[le];for(le=0;le<32;le++)for(me=0;me<32;me++)Pe[le+me]+=Q[le]*L[me];return C(S.subarray(32),Pe),it}function $(S,N){var O=r(),y=r(),L=r(),Q=r(),oe=r(),le=r(),me=r();return x(S[2],d),G(S[1],N),re(L,S[1]),K(Q,L,s),z(L,L,S[2]),ee(Q,S[2],Q),re(oe,Q),re(le,oe),K(me,le,oe),K(O,me,L),K(O,O,Q),Y(O,O),K(O,O,L),K(O,O,Q),K(O,O,Q),K(S[0],O,Q),re(y,S[0]),K(y,y,Q),h(y,L)&&K(S[0],S[0],E),re(y,S[0]),K(y,y,Q),h(y,L)?-1:(B(S[0])===N[31]>>7&&z(S[0],p,S[0]),K(S[3],S[0],S[1]),0)}function Z(S,N,O,y){var L,Q=new Uint8Array(32),oe=new Uint8Array(64),le=[r(),r(),r(),r()],me=[r(),r(),r(),r()];if(O<64||$(me,y))return-1;for(L=0;L<O;L++)S[L]=N[L];for(L=0;L<32;L++)S[L+32]=y[L];if(Te(oe,S,O),w(oe),Ze(le,me,oe),He(me,N.subarray(32)),Ge(le,me),Ue(Q,le),O-=64,U(N,0,Q,0)){for(L=0;L<O;L++)S[L]=0;return-1}for(L=0;L<O;L++)S[L]=N[L+64];return O}var se=32,ce=24,Ce=32,ot=16,ke=32,$e=32,rt=32,ht=32,vt=32,cr=ce,mt=Ce,At=ot,jt=64,pt=32,yt=64,Cr=32,wt=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:X,crypto_stream:D,crypto_stream_salsa20_xor:J,crypto_stream_salsa20:te,crypto_onetimeauth:n,crypto_onetimeauth_verify:f,crypto_verify_16:R,crypto_verify_32:U,crypto_secretbox:l,crypto_secretbox_open:m,crypto_scalarmult:W,crypto_scalarmult_base:ne,crypto_box_beforenm:pe,crypto_box_afternm:ae,crypto_box:ye,crypto_box_open:he,crypto_box_keypair:ue,crypto_hash:Te,crypto_sign:_,crypto_sign_keypair:We,crypto_sign_open:Z,crypto_secretbox_KEYBYTES:se,crypto_secretbox_NONCEBYTES:ce,crypto_secretbox_ZEROBYTES:Ce,crypto_secretbox_BOXZEROBYTES:ot,crypto_scalarmult_BYTES:ke,crypto_scalarmult_SCALARBYTES:$e,crypto_box_PUBLICKEYBYTES:rt,crypto_box_SECRETKEYBYTES:ht,crypto_box_BEFORENMBYTES:vt,crypto_box_NONCEBYTES:cr,crypto_box_ZEROBYTES:mt,crypto_box_BOXZEROBYTES:At,crypto_sign_BYTES:jt,crypto_sign_PUBLICKEYBYTES:pt,crypto_sign_SECRETKEYBYTES:yt,crypto_sign_SEEDBYTES:Cr,crypto_hash_BYTES:wt,gf:r,D:s,L:xt,pack25519:T,unpack25519:G,M:K,A:ee,S:re,Z:z,pow2523:Y,add:Ge,set25519:x,modL:C,scalarmult:Ze,scalarbase:He};function _t(S,N){if(S.length!==se)throw new Error("bad key size");if(N.length!==ce)throw new Error("bad nonce size")}function An(S,N){if(S.length!==rt)throw new Error("bad public key size");if(N.length!==ht)throw new Error("bad secret key size")}function at(){for(var S=0;S<arguments.length;S++)if(!(arguments[S]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Et(S){for(var N=0;N<S.length;N++)S[N]=0}e.randomBytes=function(S){var N=new Uint8Array(S);return i(N,S),N},e.secretbox=function(S,N,O){at(S,N,O),_t(O,N);for(var y=new Uint8Array(Ce+S.length),L=new Uint8Array(y.length),Q=0;Q<S.length;Q++)y[Q+Ce]=S[Q];return l(L,y,y.length,N,O),L.subarray(ot)},e.secretbox.open=function(S,N,O){at(S,N,O),_t(O,N);for(var y=new Uint8Array(ot+S.length),L=new Uint8Array(y.length),Q=0;Q<S.length;Q++)y[Q+ot]=S[Q];return y.length<32||m(L,y,y.length,N,O)!==0?null:L.subarray(Ce)},e.secretbox.keyLength=se,e.secretbox.nonceLength=ce,e.secretbox.overheadLength=ot,e.scalarMult=function(S,N){if(at(S,N),S.length!==$e)throw new Error("bad n size");if(N.length!==ke)throw new Error("bad p size");var O=new Uint8Array(ke);return W(O,S,N),O},e.scalarMult.base=function(S){if(at(S),S.length!==$e)throw new Error("bad n size");var N=new Uint8Array(ke);return ne(N,S),N},e.scalarMult.scalarLength=$e,e.scalarMult.groupElementLength=ke,e.box=function(S,N,O,y){var L=e.box.before(O,y);return e.secretbox(S,N,L)},e.box.before=function(S,N){at(S,N),An(S,N);var O=new Uint8Array(vt);return pe(O,S,N),O},e.box.after=e.secretbox,e.box.open=function(S,N,O,y){var L=e.box.before(O,y);return e.secretbox.open(S,N,L)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var S=new Uint8Array(rt),N=new Uint8Array(ht);return ue(S,N),{publicKey:S,secretKey:N}},e.box.keyPair.fromSecretKey=function(S){if(at(S),S.length!==ht)throw new Error("bad secret key size");var N=new Uint8Array(rt);return ne(N,S),{publicKey:N,secretKey:new Uint8Array(S)}},e.box.publicKeyLength=rt,e.box.secretKeyLength=ht,e.box.sharedKeyLength=vt,e.box.nonceLength=cr,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(S,N){if(at(S,N),N.length!==yt)throw new Error("bad secret key size");var O=new Uint8Array(jt+S.length);return _(O,S,S.length,N),O},e.sign.open=function(S,N){if(at(S,N),N.length!==pt)throw new Error("bad public key size");var O=new Uint8Array(S.length),y=Z(O,S,S.length,N);if(y<0)return null;for(var L=new Uint8Array(y),Q=0;Q<L.length;Q++)L[Q]=O[Q];return L},e.sign.detached=function(S,N){for(var O=e.sign(S,N),y=new Uint8Array(jt),L=0;L<y.length;L++)y[L]=O[L];return y},e.sign.detached.verify=function(S,N,O){if(at(S,N,O),N.length!==jt)throw new Error("bad signature size");if(O.length!==pt)throw new Error("bad public key size");var y=new Uint8Array(jt+S.length),L=new Uint8Array(jt+S.length),Q;for(Q=0;Q<jt;Q++)y[Q]=N[Q];for(Q=0;Q<S.length;Q++)y[Q+jt]=S[Q];return Z(L,y,y.length,O)>=0},e.sign.keyPair=function(){var S=new Uint8Array(pt),N=new Uint8Array(yt);return We(S,N),{publicKey:S,secretKey:N}},e.sign.keyPair.fromSecretKey=function(S){if(at(S),S.length!==yt)throw new Error("bad secret key size");for(var N=new Uint8Array(pt),O=0;O<N.length;O++)N[O]=S[32+O];return{publicKey:N,secretKey:new Uint8Array(S)}},e.sign.keyPair.fromSeed=function(S){if(at(S),S.length!==Cr)throw new Error("bad seed size");for(var N=new Uint8Array(pt),O=new Uint8Array(yt),y=0;y<32;y++)O[y]=S[y];return We(N,O,!0),{publicKey:N,secretKey:O}},e.sign.publicKeyLength=pt,e.sign.secretKeyLength=yt,e.sign.seedLength=Cr,e.sign.signatureLength=jt,e.hash=function(S){at(S);var N=new Uint8Array(wt);return Te(N,S,S.length),N},e.hash.hashLength=wt,e.verify=function(S,N){return at(S,N),S.length===0||N.length===0||S.length!==N.length?!1:I(S,0,N,0,S.length)===0},e.setPRNG=function(S){i=S},(function(){var S=typeof self<"u"?self.crypto||self.msCrypto:null;if(S&&S.getRandomValues){var N=65536;e.setPRNG(function(O,y){var L,Q=new Uint8Array(y);for(L=0;L<y;L+=N)S.getRandomValues(Q.subarray(L,L+Math.min(y-L,N)));for(L=0;L<y;L++)O[L]=Q[L];Et(Q)})}else typeof du<"u"&&(S=Ao,S&&S.randomBytes&&e.setPRNG(function(O,y){var L,Q=S.randomBytes(y);for(L=0;L<y;L++)O[L]=Q[L];Et(Q)}))})()})(t.exports?t.exports:self.nacl=self.nacl||{})})(fi)),fi.exports}hu();var Dn={exports:{}},pu=Dn.exports,ea;function bu(){return ea||(ea=1,(function(t){(function(e,r){t.exports?t.exports=r():(e.nacl||(e.nacl={}),e.nacl.util=r())})(pu,function(){var e={};function r(i){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(i))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(i){if(typeof i!="string")throw new TypeError("expected string");var c,o=unescape(encodeURIComponent(i)),p=new Uint8Array(o.length);for(c=0;c<o.length;c++)p[c]=o.charCodeAt(c);return p},e.encodeUTF8=function(i){var c,o=[];for(c=0;c<i.length;c++)o.push(String.fromCharCode(i[c]));return decodeURIComponent(escape(o.join("")))},typeof atob>"u"?typeof Buffer.from<"u"?(e.encodeBase64=function(i){return Buffer.from(i).toString("base64")},e.decodeBase64=function(i){return r(i),new Uint8Array(Array.prototype.slice.call(Buffer.from(i,"base64"),0))}):(e.encodeBase64=function(i){return new Buffer(i).toString("base64")},e.decodeBase64=function(i){return r(i),new Uint8Array(Array.prototype.slice.call(new Buffer(i,"base64"),0))}):(e.encodeBase64=function(i){var c,o=[],p=i.length;for(c=0;c<p;c++)o.push(String.fromCharCode(i[c]));return btoa(o.join(""))},e.decodeBase64=function(i){r(i);var c,o=atob(i),p=new Uint8Array(o.length);for(c=0;c<o.length;c++)p[c]=o.charCodeAt(c);return p}),e})})(Dn)),Dn.exports}bu();var yu=(t=>(t.XBULL_CONNECT="XBULL_CONNECT",t.XBULL_GET_PUBLIC_KEY="XBULL_GET_PUBLIC_KEY",t.XBULL_SIGN_XDR="XBULL_SIGN_XDR",t.XBULL_GET_NETWORK="XBULL_GET_NETWORK",t.XBULL_SIGN_MESSAGE="XBULL_SIGN_MESSAGE",t.XBULL_INITIAL_RESPONSE="XBULL_INITIAL_RESPONSE",t.XBULL_CONNECT_RESPONSE="XBULL_CONNECT_RESPONSE",t.XBULL_SIGN="XBULL_SIGN",t.XBULL_SIGN_RESPONSE="XBULL_SIGN_RESPONSE",t.XBULL_SIGN_MESSAGE_RESPONSE="XBULL_SIGN_MESSAGE_RESPONSE",t))(yu||{}),jr={},Ht={},Ft={},Kt={},zr={},ta;function So(){return ta||(ta=1,zr.__esModule=!0,zr.integers=void 0,zr.integers=["u8","u16","u32","u64","u128","i8","i16","i32","i64","i128","f32","f64"]),zr}var lr={},ra;function vf(){if(ra)return lr;ra=1,lr.__esModule=!0,lr.DecodeBuffer=lr.EncodeBuffer=void 0;var t=(function(){function r(){this.offset=0,this.buffer_size=256,this.buffer=new ArrayBuffer(this.buffer_size),this.view=new DataView(this.buffer)}return r.prototype.resize_if_necessary=function(i){if(this.buffer_size-this.offset<i){this.buffer_size=Math.max(this.buffer_size*2,this.buffer_size+i);var c=new ArrayBuffer(this.buffer_size);new Uint8Array(c).set(new Uint8Array(this.buffer)),this.buffer=c,this.view=new DataView(c)}},r.prototype.get_used_buffer=function(){return new Uint8Array(this.buffer).slice(0,this.offset)},r.prototype.store_value=function(i,c){var o=c.substring(1),p=parseInt(o)/8;this.resize_if_necessary(p);var d=c[0]==="f"?"setFloat".concat(o):c[0]==="i"?"setInt".concat(o):"setUint".concat(o);this.view[d](this.offset,i,!0),this.offset+=p},r.prototype.store_bytes=function(i){this.resize_if_necessary(i.length),new Uint8Array(this.buffer).set(new Uint8Array(i),this.offset),this.offset+=i.length},r})();lr.EncodeBuffer=t;var e=(function(){function r(i){this.offset=0,this.buffer_size=i.length,this.buffer=new ArrayBuffer(i.length),new Uint8Array(this.buffer).set(i),this.view=new DataView(this.buffer)}return r.prototype.assert_enough_buffer=function(i){if(this.offset+i>this.buffer.byteLength)throw new Error("Error in schema, the buffer is smaller than expected")},r.prototype.consume_value=function(i){var c=i.substring(1),o=parseInt(c)/8;this.assert_enough_buffer(o);var p=i[0]==="f"?"getFloat".concat(c):i[0]==="i"?"getInt".concat(c):"getUint".concat(c),d=this.view[p](this.offset,!0);return this.offset+=o,d},r.prototype.consume_bytes=function(i){this.assert_enough_buffer(i);var c=this.buffer.slice(this.offset,this.offset+i);return this.offset+=i,c},r})();return lr.DecodeBuffer=e,lr}var Ct={},na;function gf(){if(na)return Ct;na=1;var t=Ct&&Ct.__extends||(function(){var I=function(R,U){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,H){k.__proto__=H}||function(k,H){for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(k[q]=H[q])},I(R,U)};return function(R,U){if(typeof U!="function"&&U!==null)throw new TypeError("Class extends value "+String(U)+" is not a constructor or null");I(R,U);function k(){this.constructor=R}R.prototype=U===null?Object.create(U):(k.prototype=U.prototype,new k)}})();Ct.__esModule=!0,Ct.validate_schema=Ct.ErrorSchema=Ct.expect_enum=Ct.expect_same_size=Ct.expect_bigint=Ct.expect_type=Ct.isArrayLike=void 0;var e=So();function r(I){return Array.isArray(I)||!!I&&typeof I=="object"&&"length"in I&&typeof I.length=="number"&&(I.length===0||I.length>0&&I.length-1 in I)}Ct.isArrayLike=r;function i(I,R,U){if(typeof I!==R)throw new Error("Expected ".concat(R," not ").concat(typeof I,"(").concat(I,") at ").concat(U.join(".")))}Ct.expect_type=i;function c(I,R){var U=["number","string","bigint","boolean"].includes(typeof I),k=typeof I=="object"&&I!==null&&"toString"in I;if(!U&&!k)throw new Error("Expected bigint, number, boolean or string not ".concat(typeof I,"(").concat(I,") at ").concat(R.join(".")))}Ct.expect_bigint=c;function o(I,R,U){if(I!==R)throw new Error("Array length ".concat(I," does not match schema length ").concat(R," at ").concat(U.join(".")))}Ct.expect_same_size=o;function p(I,R){if(typeof I!="object"||I===null)throw new Error("Expected object not ".concat(typeof I,"(").concat(I,") at ").concat(R.join(".")))}Ct.expect_enum=p;var d=e.integers.concat(["bool","string"]),a=["option","enum","array","set","map","struct"],s=(function(I){t(R,I);function R(U,k){var H="Invalid schema: ".concat(JSON.stringify(U)," expected ").concat(k);return I.call(this,H)||this}return R})(Error);Ct.ErrorSchema=s;function u(I){if(!(typeof I=="string"&&d.includes(I))){if(I&&typeof I=="object"){var R=Object.keys(I);if(R.length===1&&a.includes(R[0])){var U=R[0];if(U==="option")return u(I[U]);if(U==="enum")return v(I[U]);if(U==="array")return g(I[U]);if(U==="set")return u(I[U]);if(U==="map")return E(I[U]);if(U==="struct")return A(I[U])}}throw new s(I,a.join(", ")+" or "+d.join(", "))}}Ct.validate_schema=u;function v(I){if(!Array.isArray(I))throw new s(I,"Array");for(var R=0,U=I;R<U.length;R++){var k=U[R];if(typeof k!="object"||!("struct"in k))throw new Error('Missing "struct" key in enum schema');if(typeof k.struct!="object"||Object.keys(k.struct).length!==1)throw new Error('The "struct" in each enum must have a single key');u({struct:k.struct})}}function g(I){if(typeof I!="object")throw new s(I,"{ type, len? }");if(I.len&&typeof I.len!="number")throw new Error("Invalid schema: ".concat(I));if("type"in I)return u(I.type);throw new s(I,"{ type, len? }")}function E(I){if(typeof I=="object"&&"key"in I&&"value"in I)u(I.key),u(I.value);else throw new s(I,"{ key, value }")}function A(I){if(typeof I!="object")throw new s(I,"object");for(var R in I)u(I[R])}return Ct}var ia;function vu(){if(ia)return Kt;ia=1;var t=Kt&&Kt.__createBinding||(Object.create?(function(d,a,s,u){u===void 0&&(u=s);var v=Object.getOwnPropertyDescriptor(a,s);(!v||("get"in v?!a.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(d,u,v)}):(function(d,a,s,u){u===void 0&&(u=s),d[u]=a[s]})),e=Kt&&Kt.__setModuleDefault||(Object.create?(function(d,a){Object.defineProperty(d,"default",{enumerable:!0,value:a})}):function(d,a){d.default=a}),r=Kt&&Kt.__importStar||function(d){if(d&&d.__esModule)return d;var a={};if(d!=null)for(var s in d)s!=="default"&&Object.prototype.hasOwnProperty.call(d,s)&&t(a,d,s);return e(a,d),a};Kt.__esModule=!0,Kt.BorshSerializer=void 0;var i=So(),c=vf(),o=r(gf()),p=(function(){function d(a){this.encoded=new c.EncodeBuffer,this.fieldPath=["value"],this.checkTypes=a}return d.prototype.encode=function(a,s){return this.encode_value(a,s),this.encoded.get_used_buffer()},d.prototype.encode_value=function(a,s){if(typeof s=="string"){if(i.integers.includes(s))return this.encode_integer(a,s);if(s==="string")return this.encode_string(a);if(s==="bool")return this.encode_boolean(a)}if(typeof s=="object"){if("option"in s)return this.encode_option(a,s);if("enum"in s)return this.encode_enum(a,s);if("array"in s)return this.encode_array(a,s);if("set"in s)return this.encode_set(a,s);if("map"in s)return this.encode_map(a,s);if("struct"in s)return this.encode_struct(a,s)}},d.prototype.encode_integer=function(a,s){var u=parseInt(s.substring(1));u<=32||s=="f64"?(this.checkTypes&&o.expect_type(a,"number",this.fieldPath),this.encoded.store_value(a,s)):(this.checkTypes&&o.expect_bigint(a,this.fieldPath),this.encode_bigint(BigInt(a),u))},d.prototype.encode_bigint=function(a,s){for(var u=s/8,v=new Uint8Array(u),g=0;g<u;g++)v[g]=Number(a&BigInt(255)),a=a>>BigInt(8);this.encoded.store_bytes(new Uint8Array(v))},d.prototype.encode_string=function(a){this.checkTypes&&o.expect_type(a,"string",this.fieldPath);for(var s=a,u=[],v=0;v<s.length;v++){var g=s.charCodeAt(v);g<128?u.push(g):g<2048?u.push(192|g>>6,128|g&63):g<55296||g>=57344?u.push(224|g>>12,128|g>>6&63,128|g&63):(v++,g=65536+((g&1023)<<10|s.charCodeAt(v)&1023),u.push(240|g>>18,128|g>>12&63,128|g>>6&63,128|g&63))}this.encoded.store_value(u.length,"u32"),this.encoded.store_bytes(new Uint8Array(u))},d.prototype.encode_boolean=function(a){this.checkTypes&&o.expect_type(a,"boolean",this.fieldPath),this.encoded.store_value(a?1:0,"u8")},d.prototype.encode_option=function(a,s){a==null?this.encoded.store_value(0,"u8"):(this.encoded.store_value(1,"u8"),this.encode_value(a,s.option))},d.prototype.encode_enum=function(a,s){this.checkTypes&&o.expect_enum(a,this.fieldPath);for(var u=Object.keys(a)[0],v=0;v<s.enum.length;v++){var g=s.enum[v];if(u===Object.keys(g.struct)[0])return this.encoded.store_value(v,"u8"),this.encode_struct(a,g)}throw new Error("Enum key (".concat(u,") not found in enum schema: ").concat(JSON.stringify(s)," at ").concat(this.fieldPath.join(".")))},d.prototype.encode_array=function(a,s){if(o.isArrayLike(a))return this.encode_arraylike(a,s);if(a instanceof ArrayBuffer)return this.encode_buffer(a,s);throw new Error("Expected Array-like not ".concat(typeof a,"(").concat(a,") at ").concat(this.fieldPath.join(".")))},d.prototype.encode_arraylike=function(a,s){s.array.len?o.expect_same_size(a.length,s.array.len,this.fieldPath):this.encoded.store_value(a.length,"u32");for(var u=0;u<a.length;u++)this.encode_value(a[u],s.array.type)},d.prototype.encode_buffer=function(a,s){s.array.len?o.expect_same_size(a.byteLength,s.array.len,this.fieldPath):this.encoded.store_value(a.byteLength,"u32"),this.encoded.store_bytes(new Uint8Array(a))},d.prototype.encode_set=function(a,s){this.checkTypes&&o.expect_type(a,"object",this.fieldPath);var u=a instanceof Set,v=u?Array.from(a.values()):Object.values(a);this.encoded.store_value(v.length,"u32");for(var g=0,E=v;g<E.length;g++){var A=E[g];this.encode_value(A,s.set)}},d.prototype.encode_map=function(a,s){this.checkTypes&&o.expect_type(a,"object",this.fieldPath);var u=a instanceof Map,v=u?Array.from(a.keys()):Object.keys(a);this.encoded.store_value(v.length,"u32");for(var g=0,E=v;g<E.length;g++){var A=E[g];this.encode_value(A,s.map.key),this.encode_value(u?a.get(A):a[A],s.map.value)}},d.prototype.encode_struct=function(a,s){this.checkTypes&&o.expect_type(a,"object",this.fieldPath);for(var u=0,v=Object.keys(s.struct);u<v.length;u++){var g=v[u];this.fieldPath.push(g),this.encode_value(a[g],s.struct[g]),this.fieldPath.pop()}},d})();return Kt.BorshSerializer=p,Kt}var Hr={},oa;function gu(){if(oa)return Hr;oa=1,Hr.__esModule=!0,Hr.BorshDeserializer=void 0;var t=So(),e=vf(),r=(function(){function i(c){this.buffer=new e.DecodeBuffer(c)}return i.prototype.decode=function(c){return this.decode_value(c)},i.prototype.decode_value=function(c){if(typeof c=="string"){if(t.integers.includes(c))return this.decode_integer(c);if(c==="string")return this.decode_string();if(c==="bool")return this.decode_boolean()}if(typeof c=="object"){if("option"in c)return this.decode_option(c);if("enum"in c)return this.decode_enum(c);if("array"in c)return this.decode_array(c);if("set"in c)return this.decode_set(c);if("map"in c)return this.decode_map(c);if("struct"in c)return this.decode_struct(c)}throw new Error("Unsupported type: ".concat(c))},i.prototype.decode_integer=function(c){var o=parseInt(c.substring(1));return o<=32||c=="f64"?this.buffer.consume_value(c):this.decode_bigint(o,c.startsWith("i"))},i.prototype.decode_bigint=function(c,o){o===void 0&&(o=!1);var p=c/8,d=new Uint8Array(this.buffer.consume_bytes(p)),a=d.reduceRight(function(s,u){return s+u.toString(16).padStart(2,"0")},"");return o&&d[p-1]?BigInt.asIntN(c,BigInt("0x".concat(a))):BigInt("0x".concat(a))},i.prototype.decode_string=function(){for(var c=this.decode_integer("u32"),o=new Uint8Array(this.buffer.consume_bytes(c)),p=[],d=0;d<c;++d){var a=o[d];if(a<128)p.push(a);else if(a<224)p.push((a&31)<<6|o[++d]&63);else if(a<240)p.push((a&15)<<12|(o[++d]&63)<<6|o[++d]&63);else{var s=(a&7)<<18|(o[++d]&63)<<12|(o[++d]&63)<<6|o[++d]&63;p.push(s)}}return String.fromCodePoint.apply(String,p)},i.prototype.decode_boolean=function(){return this.buffer.consume_value("u8")>0},i.prototype.decode_option=function(c){var o=this.buffer.consume_value("u8");if(o===1)return this.decode_value(c.option);if(o!==0)throw new Error("Invalid option ".concat(o));return null},i.prototype.decode_enum=function(c){var o,p=this.buffer.consume_value("u8");if(p>c.enum.length)throw new Error("Enum option ".concat(p," is not available"));var d=c.enum[p].struct,a=Object.keys(d)[0];return o={},o[a]=this.decode_value(d[a]),o},i.prototype.decode_array=function(c){for(var o=[],p=c.array.len?c.array.len:this.decode_integer("u32"),d=0;d<p;++d)o.push(this.decode_value(c.array.type));return o},i.prototype.decode_set=function(c){for(var o=this.decode_integer("u32"),p=new Set,d=0;d<o;++d)p.add(this.decode_value(c.set));return p},i.prototype.decode_map=function(c){for(var o=this.decode_integer("u32"),p=new Map,d=0;d<o;++d){var a=this.decode_value(c.map.key),s=this.decode_value(c.map.value);p.set(a,s)}return p},i.prototype.decode_struct=function(c){var o={};for(var p in c.struct)o[p]=this.decode_value(c.struct[p]);return o},i})();return Hr.BorshDeserializer=r,Hr}var aa;function mu(){if(aa)return Ft;aa=1;var t=Ft&&Ft.__createBinding||(Object.create?(function(a,s,u,v){v===void 0&&(v=u);var g=Object.getOwnPropertyDescriptor(s,u);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[u]}}),Object.defineProperty(a,v,g)}):(function(a,s,u,v){v===void 0&&(v=u),a[v]=s[u]})),e=Ft&&Ft.__setModuleDefault||(Object.create?(function(a,s){Object.defineProperty(a,"default",{enumerable:!0,value:s})}):function(a,s){a.default=s}),r=Ft&&Ft.__importStar||function(a){if(a&&a.__esModule)return a;var s={};if(a!=null)for(var u in a)u!=="default"&&Object.prototype.hasOwnProperty.call(a,u)&&t(s,a,u);return e(s,a),s};Ft.__esModule=!0,Ft.deserialize=Ft.serialize=void 0;var i=vu(),c=gu(),o=r(gf());function p(a,s,u){u===void 0&&(u=!0),u&&o.validate_schema(a);var v=new i.BorshSerializer(u);return v.encode(s,a)}Ft.serialize=p;function d(a,s,u){u===void 0&&(u=!0),u&&o.validate_schema(a);var v=new c.BorshDeserializer(s);return v.decode(a)}return Ft.deserialize=d,Ft}var ci={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */var sa;function wu(){return sa||(sa=1,(function(t){(function(){var e="input is invalid type",r=typeof window=="object",i=r?window:{};i.JS_SHA256_NO_WINDOW&&(r=!1);var c=!r&&typeof self=="object",o=!i.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";o?i=globalThis:c&&(i=self);var p=!i.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,d=!i.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),s=[-2147483648,8388608,32768,128],u=[24,16,8,0],v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],g=["hex","array","digest","arrayBuffer"],E=[];(i.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(j){return Object.prototype.toString.call(j)==="[object Array]"}),d&&(i.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(j){return typeof j=="object"&&j.buffer&&j.buffer.constructor===ArrayBuffer});var A=function(j,J){return function(te){return new H(J,!0).update(te)[j]()}},I=function(j){var J=A("hex",j);o&&(J=R(J,j)),J.create=function(){return new H(j)},J.update=function(X){return J.create().update(X)};for(var te=0;te<g.length;++te){var D=g[te];J[D]=A(D,j)}return J},R=function(j,J){var te=Ao,D=Gn().Buffer,X=J?"sha224":"sha256",b;D.from&&!i.JS_SHA256_NO_BUFFER_FROM?b=D.from:b=function(f){return new D(f)};var n=function(f){if(typeof f=="string")return te.createHash(X).update(f,"utf8").digest("hex");if(f==null)throw new Error(e);return f.constructor===ArrayBuffer&&(f=new Uint8Array(f)),Array.isArray(f)||ArrayBuffer.isView(f)||f.constructor===D?te.createHash(X).update(b(f)).digest("hex"):j(f)};return n},U=function(j,J){return function(te,D){return new q(te,J,!0).update(D)[j]()}},k=function(j){var J=U("hex",j);J.create=function(X){return new q(X,j)},J.update=function(X,b){return J.create(X).update(b)};for(var te=0;te<g.length;++te){var D=g[te];J[D]=U(D,j)}return J};function H(j,J){J?(E[0]=E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0,this.blocks=E):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],j?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=j}H.prototype.update=function(j){if(!this.finalized){var J,te=typeof j;if(te!=="string"){if(te==="object"){if(j===null)throw new Error(e);if(d&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!d||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);J=!0}for(var D,X=0,b,n=j.length,f=this.blocks;X<n;){if(this.hashed&&(this.hashed=!1,f[0]=this.block,this.block=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0),J)for(b=this.start;X<n&&b<64;++X)f[b>>>2]|=j[X]<<u[b++&3];else for(b=this.start;X<n&&b<64;++X)D=j.charCodeAt(X),D<128?f[b>>>2]|=D<<u[b++&3]:D<2048?(f[b>>>2]|=(192|D>>>6)<<u[b++&3],f[b>>>2]|=(128|D&63)<<u[b++&3]):D<55296||D>=57344?(f[b>>>2]|=(224|D>>>12)<<u[b++&3],f[b>>>2]|=(128|D>>>6&63)<<u[b++&3],f[b>>>2]|=(128|D&63)<<u[b++&3]):(D=65536+((D&1023)<<10|j.charCodeAt(++X)&1023),f[b>>>2]|=(240|D>>>18)<<u[b++&3],f[b>>>2]|=(128|D>>>12&63)<<u[b++&3],f[b>>>2]|=(128|D>>>6&63)<<u[b++&3],f[b>>>2]|=(128|D&63)<<u[b++&3]);this.lastByteIndex=b,this.bytes+=b-this.start,b>=64?(this.block=f[16],this.start=b-64,this.hash(),this.hashed=!0):this.start=b}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},H.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var j=this.blocks,J=this.lastByteIndex;j[16]=this.block,j[J>>>2]|=s[J&3],this.block=j[16],J>=56&&(this.hashed||this.hash(),j[0]=this.block,j[16]=j[1]=j[2]=j[3]=j[4]=j[5]=j[6]=j[7]=j[8]=j[9]=j[10]=j[11]=j[12]=j[13]=j[14]=j[15]=0),j[14]=this.hBytes<<3|this.bytes>>>29,j[15]=this.bytes<<3,this.hash()}},H.prototype.hash=function(){var j=this.h0,J=this.h1,te=this.h2,D=this.h3,X=this.h4,b=this.h5,n=this.h6,f=this.h7,l=this.blocks,m,x,M,P,T,h,B,G,ee,z,K;for(m=16;m<64;++m)T=l[m-15],x=(T>>>7|T<<25)^(T>>>18|T<<14)^T>>>3,T=l[m-2],M=(T>>>17|T<<15)^(T>>>19|T<<13)^T>>>10,l[m]=l[m-16]+x+l[m-7]+M<<0;for(K=J&te,m=0;m<64;m+=4)this.first?(this.is224?(G=300032,T=l[0]-1413257819,f=T-150054599<<0,D=T+24177077<<0):(G=704751109,T=l[0]-210244248,f=T-1521486534<<0,D=T+143694565<<0),this.first=!1):(x=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),M=(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7),G=j&J,P=G^j&te^K,B=X&b^~X&n,T=f+M+B+v[m]+l[m],h=x+P,f=D+T<<0,D=T+h<<0),x=(D>>>2|D<<30)^(D>>>13|D<<19)^(D>>>22|D<<10),M=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7),ee=D&j,P=ee^D&J^G,B=f&X^~f&b,T=n+M+B+v[m+1]+l[m+1],h=x+P,n=te+T<<0,te=T+h<<0,x=(te>>>2|te<<30)^(te>>>13|te<<19)^(te>>>22|te<<10),M=(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7),z=te&D,P=z^te&j^ee,B=n&f^~n&X,T=b+M+B+v[m+2]+l[m+2],h=x+P,b=J+T<<0,J=T+h<<0,x=(J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10),M=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),K=J&te,P=K^J&D^z,B=b&n^~b&f,T=X+M+B+v[m+3]+l[m+3],h=x+P,X=j+T<<0,j=T+h<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+j<<0,this.h1=this.h1+J<<0,this.h2=this.h2+te<<0,this.h3=this.h3+D<<0,this.h4=this.h4+X<<0,this.h5=this.h5+b<<0,this.h6=this.h6+n<<0,this.h7=this.h7+f<<0},H.prototype.hex=function(){this.finalize();var j=this.h0,J=this.h1,te=this.h2,D=this.h3,X=this.h4,b=this.h5,n=this.h6,f=this.h7,l=a[j>>>28&15]+a[j>>>24&15]+a[j>>>20&15]+a[j>>>16&15]+a[j>>>12&15]+a[j>>>8&15]+a[j>>>4&15]+a[j&15]+a[J>>>28&15]+a[J>>>24&15]+a[J>>>20&15]+a[J>>>16&15]+a[J>>>12&15]+a[J>>>8&15]+a[J>>>4&15]+a[J&15]+a[te>>>28&15]+a[te>>>24&15]+a[te>>>20&15]+a[te>>>16&15]+a[te>>>12&15]+a[te>>>8&15]+a[te>>>4&15]+a[te&15]+a[D>>>28&15]+a[D>>>24&15]+a[D>>>20&15]+a[D>>>16&15]+a[D>>>12&15]+a[D>>>8&15]+a[D>>>4&15]+a[D&15]+a[X>>>28&15]+a[X>>>24&15]+a[X>>>20&15]+a[X>>>16&15]+a[X>>>12&15]+a[X>>>8&15]+a[X>>>4&15]+a[X&15]+a[b>>>28&15]+a[b>>>24&15]+a[b>>>20&15]+a[b>>>16&15]+a[b>>>12&15]+a[b>>>8&15]+a[b>>>4&15]+a[b&15]+a[n>>>28&15]+a[n>>>24&15]+a[n>>>20&15]+a[n>>>16&15]+a[n>>>12&15]+a[n>>>8&15]+a[n>>>4&15]+a[n&15];return this.is224||(l+=a[f>>>28&15]+a[f>>>24&15]+a[f>>>20&15]+a[f>>>16&15]+a[f>>>12&15]+a[f>>>8&15]+a[f>>>4&15]+a[f&15]),l},H.prototype.toString=H.prototype.hex,H.prototype.digest=function(){this.finalize();var j=this.h0,J=this.h1,te=this.h2,D=this.h3,X=this.h4,b=this.h5,n=this.h6,f=this.h7,l=[j>>>24&255,j>>>16&255,j>>>8&255,j&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255,te>>>24&255,te>>>16&255,te>>>8&255,te&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255];return this.is224||l.push(f>>>24&255,f>>>16&255,f>>>8&255,f&255),l},H.prototype.array=H.prototype.digest,H.prototype.arrayBuffer=function(){this.finalize();var j=new ArrayBuffer(this.is224?28:32),J=new DataView(j);return J.setUint32(0,this.h0),J.setUint32(4,this.h1),J.setUint32(8,this.h2),J.setUint32(12,this.h3),J.setUint32(16,this.h4),J.setUint32(20,this.h5),J.setUint32(24,this.h6),this.is224||J.setUint32(28,this.h7),j};function q(j,J,te){var D,X=typeof j;if(X==="string"){var b=[],n=j.length,f=0,l;for(D=0;D<n;++D)l=j.charCodeAt(D),l<128?b[f++]=l:l<2048?(b[f++]=192|l>>>6,b[f++]=128|l&63):l<55296||l>=57344?(b[f++]=224|l>>>12,b[f++]=128|l>>>6&63,b[f++]=128|l&63):(l=65536+((l&1023)<<10|j.charCodeAt(++D)&1023),b[f++]=240|l>>>18,b[f++]=128|l>>>12&63,b[f++]=128|l>>>6&63,b[f++]=128|l&63);j=b}else if(X==="object"){if(j===null)throw new Error(e);if(d&&j.constructor===ArrayBuffer)j=new Uint8Array(j);else if(!Array.isArray(j)&&(!d||!ArrayBuffer.isView(j)))throw new Error(e)}else throw new Error(e);j.length>64&&(j=new H(J,!0).update(j).array());var m=[],x=[];for(D=0;D<64;++D){var M=j[D]||0;m[D]=92^M,x[D]=54^M}H.call(this,J,te),this.update(x),this.oKeyPad=m,this.inner=!0,this.sharedMemory=te}q.prototype=new H,q.prototype.finalize=function(){if(H.prototype.finalize.call(this),this.inner){this.inner=!1;var j=this.array();H.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(j),H.prototype.finalize.call(this)}};var F=I();F.sha256=F,F.sha224=I(!0),F.sha256.hmac=k(),F.sha224.hmac=k(!0),p?t.exports=F:(i.sha256=F.sha256,i.sha224=F.sha224)})()})(ci)),ci.exports}var di={},hr={},fa;function ei(){if(fa)return hr;fa=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.KeySize=hr.KeyType=void 0;var t;return(function(e){e[e.ED25519=0]="ED25519",e[e.SECP256K1=1]="SECP256K1"})(t||(hr.KeyType=t={})),hr.KeySize={SECRET_KEY:32,ED25519_PUBLIC_KEY:32,SECP256k1_PUBLIC_KEY:64},hr}var Kr={},Wr={},ca;function Mo(){if(ca)return Wr;ca=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.KeyPairBase=void 0;class t{}return Wr.KeyPairBase=t,Wr}var pr={},br={},Vr={},da;function xu(){return da||(da=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.DEFAULT_FUNCTION_CALL_GAS=void 0,Vr.DEFAULT_FUNCTION_CALL_GAS=30000000000000n),Vr}var ui={},yr={};const _u="Exceeded the maximum amount of gas allowed to burn per contract",Eu="Method name is empty",Au="Wasmer compilation error: {{msg}}",Su="Smart contract panicked: {{panic_msg}}",Mu="Error creating Wasm memory",Iu="Exceeded the prepaid gas",Tu="Method name is not valid UTF8 string",Bu="String encoding is bad UTF-16 sequence",Ru="WebAssembly trap: {{msg}}",Cu="Gas instrumentation failed or contract has denied instructions.",Ou="{{promise_idx}} does not correspond to existing promises",Nu="Accessed invalid promise result index: {{result_idx}}",Pu="Error happened while deserializing the module",Uu="Contract method is not found",Lu="Accessed invalid register id: {{register_id}}",ku="VM Logic returned an invalid receipt index: {{receipt_index}}",qu="Method name is empty in contract call",$u="Returning joint promise is currently prohibited",Du="Stack instrumentation failed",Fu="Cannot find contract code for account {{account_id}}",ju="Invalid method signature",zu="Integer overflow happened during contract execution",Hu="MemoryAccessViolation",Ku="Iterator index {{iterator_index}} does not exist",Wu="Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie",Vu="VM Logic returned an invalid account id",Gu="Error happened while serializing the module",Yu="Actions can only be appended to non-joint promise.",Xu="Internal memory declaration has been found in the module",Zu="Error happened during instantiation",Ju="{{method_name}} is not allowed in view calls",Qu="VM Logic returned an invalid method name",e0="String encoding is bad UTF-8 sequence",t0="Exceeded the account balance",r0="Wasm contract link error: {{msg}}",n0="VM Logic provided an invalid public key",i0="Actor {{actor_id}} doesn't have permission to account {{account_id}} to complete the action",o0="The account {{account_id}} wouldn't have enough balance to cover storage, required to have {{amount}} yoctoNEAR more",a0="Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.",s0="Transaction gas or balance cost is too high",f0="Transaction is not signed with the given public key",c0=`Signer "{{account_id}}" doesn't have access key with the given public_key {{public_key}}`,d0="Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}",u0="Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}",l0="Transaction has expired",h0="Account {{account_id}} is staking and can not be deleted",p0="Signer {{signer_id}} does not exist",b0="Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}",y0="The public key {{public_key}} is already used for an existing access key",v0="Invalid signer account ID {{signer_id}} according to requirements",g0="The new account_id {{account_id}} can't be created by {{predecessor_id}}",m0="The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key",w0="Account {{account_id}} is not yet staked, but tried to unstake",x0="Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}",_0="Can't create a new account {{account_id}}, because it already exists",E0="Transaction parent block hash doesn't belong to the current chain",A0="Can't complete the action because account {{account_id}} doesn't exist",S0="Can't complete the action because access key {{public_key}} doesn't exist",M0="Transaction method name {{method_name}} isn't allowed by the access key",I0="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent",T0="Account {{account_id}} can't be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it's storage",B0="Invalid receiver account ID {{receiver_id}} according to requirements",R0="Account {{account_id}} tries to remove an access key that doesn't exist",C0="Timeout exceeded",O0="Connection closed",N0="Shard {{shard_id}} rejected the transaction due to congestion level {{congestion_level}}, try again later",P0="Shard {{shard_id}} rejected the transaction because it missed {{missed_chunks}} chunks and needs to recover before accepting new transactions, try again later",U0={GasLimitExceeded:_u,MethodEmptyName:Eu,WasmerCompileError:Au,GuestPanic:Su,Memory:Mu,GasExceeded:Iu,MethodUTF8Error:Tu,BadUTF16:Bu,WasmTrap:Ru,GasInstrumentation:Cu,InvalidPromiseIndex:Ou,InvalidPromiseResultIndex:Nu,Deserialization:Pu,MethodNotFound:Uu,InvalidRegisterId:Lu,InvalidReceiptIndex:ku,EmptyMethodName:qu,CannotReturnJointPromise:$u,StackHeightInstrumentation:Du,CodeDoesNotExist:Fu,MethodInvalidSignature:ju,IntegerOverflow:zu,MemoryAccessViolation:Hu,InvalidIteratorIndex:Ku,IteratorWasInvalidated:Wu,InvalidAccountId:Vu,Serialization:Gu,CannotAppendActionToJointPromise:Yu,InternalMemoryDeclared:Xu,Instantiate:Zu,ProhibitedInView:Ju,InvalidMethodName:Qu,BadUTF8:e0,BalanceExceeded:t0,LinkError:r0,InvalidPublicKey:n0,ActorNoPermission:i0,LackBalanceForState:o0,ReceiverMismatch:a0,CostOverflow:s0,InvalidSignature:f0,AccessKeyNotFound:c0,NotEnoughBalance:d0,NotEnoughAllowance:u0,Expired:l0,DeleteAccountStaking:h0,SignerDoesNotExist:p0,TriesToStake:b0,AddKeyAlreadyExists:y0,InvalidSigner:v0,CreateAccountNotAllowed:g0,RequiresFullAccess:m0,TriesToUnstake:w0,InvalidNonce:x0,AccountAlreadyExists:_0,InvalidChain:E0,AccountDoesNotExist:A0,AccessKeyDoesNotExist:S0,MethodNameMismatch:M0,DeleteAccountHasRent:I0,DeleteAccountHasEnoughBalance:T0,InvalidReceiver:B0,DeleteKeyDoesNotExist:R0,Timeout:C0,Closed:O0,ShardCongested:N0,ShardStuck:P0};var ua;function mf(){if(ua)return yr;ua=1;var t=yr&&yr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yr,"__esModule",{value:!0}),yr.ErrorMessages=void 0;const e=t(U0);return yr.ErrorMessages=e.default,yr}var $t={},vr={},Gr={},la;function L0(){if(la)return Gr;la=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.Assignable=void 0;class t{constructor(r){Object.keys(r).map(i=>{this[i]=r[i]})}}return Gr.Assignable=t,Gr}var Yr={},ha;function k0(){if(ha)return Yr;ha=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.Enum=void 0;class t{constructor(r){if(Object.keys(r).length!==1)throw new Error("Enum can only take single value");Object.keys(r).map(i=>{this[i]=r[i]})}}return Yr.Enum=t,Yr}var Wt={},pa;function q0(){if(pa)return Wt;pa=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.ErrorContext=Wt.TypedError=Wt.ArgumentTypeError=Wt.PositionalArgsError=void 0;class t extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}Wt.PositionalArgsError=t;class e extends Error{constructor(o,p,d){super(`Expected ${p} for '${o}' argument, but got '${JSON.stringify(d)}'`)}}Wt.ArgumentTypeError=e;class r extends Error{type;context;constructor(o,p,d){super(o),this.type=p||"UntypedError",this.context=d}}Wt.TypedError=r;class i{transactionHash;constructor(o){this.transactionHash=o}}return Wt.ErrorContext=i,Wt}var li={},Xr={},ba;function $0(){if(ba)return Xr;ba=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.IdType=void 0;var t;return(function(e){e.Transaction="transaction",e.Receipt="receipt"})(t||(Xr.IdType=t={})),Xr}var gr={},ya;function D0(){if(ya)return gr;ya=1,Object.defineProperty(gr,"__esModule",{value:!0}),gr.FinalExecutionStatusBasic=gr.ExecutionStatusBasic=void 0;var t;(function(r){r.Unknown="Unknown",r.Pending="Pending",r.Failure="Failure"})(t||(gr.ExecutionStatusBasic=t={}));var e;return(function(r){r.NotStarted="NotStarted",r.Started="Started",r.Failure="Failure"})(e||(gr.FinalExecutionStatusBasic=e={})),gr}var va;function F0(){return va||(va=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FinalExecutionStatusBasic=t.ExecutionStatusBasic=t.IdType=void 0;var e=$0();Object.defineProperty(t,"IdType",{enumerable:!0,get:function(){return e.IdType}});var r=D0();Object.defineProperty(t,"ExecutionStatusBasic",{enumerable:!0,get:function(){return r.ExecutionStatusBasic}}),Object.defineProperty(t,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return r.FinalExecutionStatusBasic}})})(li)),li}var ga;function j0(){return ga||(ga=1,(function(t){var e=vr&&vr.__createBinding||(Object.create?(function(i,c,o,p){p===void 0&&(p=o);var d=Object.getOwnPropertyDescriptor(c,o);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[o]}}),Object.defineProperty(i,p,d)}):(function(i,c,o,p){p===void 0&&(p=o),i[p]=c[o]})),r=vr&&vr.__exportStar||function(i,c){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(c,o)&&e(c,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(L0(),t),r(k0(),t),r(q0(),t),r(F0(),t)})(vr)),vr}var Fn={exports:{}},z0=Fn.exports,ma;function H0(){return ma||(ma=1,(function(t,e){(function(r,i){t.exports=i()})(z0,(function(){/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var r=Object.prototype.toString,i=Array.isArray||function(f){return r.call(f)==="[object Array]"};function c(n){return typeof n=="function"}function o(n){return i(n)?"array":typeof n}function p(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(n,f){return n!=null&&typeof n=="object"&&f in n}function a(n,f){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(f)}var s=RegExp.prototype.test;function u(n,f){return s.call(n,f)}var v=/\S/;function g(n){return!u(v,n)}var E={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function A(n){return String(n).replace(/[&<>"'`=\/]/g,function(l){return E[l]})}var I=/\s*/,R=/\s+/,U=/\s*=/,k=/\s*\}/,H=/#|\^|\/|>|\{|&|=|!/;function q(n,f){if(!n)return[];var l=!1,m=[],x=[],M=[],P=!1,T=!1,h="",B=0;function G(){if(P&&!T)for(;M.length;)delete x[M.pop()];else M=[];P=!1,T=!1}var ee,z,K;function re(he){if(typeof he=="string"&&(he=he.split(R,2)),!i(he)||he.length!==2)throw new Error("Invalid tags: "+he);ee=new RegExp(p(he[0])+"\\s*"),z=new RegExp("\\s*"+p(he[1])),K=new RegExp("\\s*"+p("}"+he[1]))}re(f||X.tags);for(var ie=new J(n),Y,W,ne,ue,pe,ae;!ie.eos();){if(Y=ie.pos,ne=ie.scanUntil(ee),ne)for(var be=0,ye=ne.length;be<ye;++be)ue=ne.charAt(be),g(ue)?(M.push(x.length),h+=ue):(T=!0,l=!0,h+=" "),x.push(["text",ue,Y,Y+1]),Y+=1,ue===`
`&&(G(),h="",B=0,l=!1);if(!ie.scan(ee))break;if(P=!0,W=ie.scan(H)||"name",ie.scan(I),W==="="?(ne=ie.scanUntil(U),ie.scan(U),ie.scanUntil(z)):W==="{"?(ne=ie.scanUntil(K),ie.scan(k),ie.scanUntil(z),W="&"):ne=ie.scanUntil(z),!ie.scan(z))throw new Error("Unclosed tag at "+ie.pos);if(W==">"?pe=[W,ne,Y,ie.pos,h,B,l]:pe=[W,ne,Y,ie.pos],B++,x.push(pe),W==="#"||W==="^")m.push(pe);else if(W==="/"){if(ae=m.pop(),!ae)throw new Error('Unopened section "'+ne+'" at '+Y);if(ae[1]!==ne)throw new Error('Unclosed section "'+ae[1]+'" at '+Y)}else W==="name"||W==="{"||W==="&"?T=!0:W==="="&&re(ne)}if(G(),ae=m.pop(),ae)throw new Error('Unclosed section "'+ae[1]+'" at '+ie.pos);return j(F(x))}function F(n){for(var f=[],l,m,x=0,M=n.length;x<M;++x)l=n[x],l&&(l[0]==="text"&&m&&m[0]==="text"?(m[1]+=l[1],m[3]=l[3]):(f.push(l),m=l));return f}function j(n){for(var f=[],l=f,m=[],x,M,P=0,T=n.length;P<T;++P)switch(x=n[P],x[0]){case"#":case"^":l.push(x),m.push(x),l=x[4]=[];break;case"/":M=m.pop(),M[5]=x[2],l=m.length>0?m[m.length-1][4]:f;break;default:l.push(x)}return f}function J(n){this.string=n,this.tail=n,this.pos=0}J.prototype.eos=function(){return this.tail===""},J.prototype.scan=function(f){var l=this.tail.match(f);if(!l||l.index!==0)return"";var m=l[0];return this.tail=this.tail.substring(m.length),this.pos+=m.length,m},J.prototype.scanUntil=function(f){var l=this.tail.search(f),m;switch(l){case-1:m=this.tail,this.tail="";break;case 0:m="";break;default:m=this.tail.substring(0,l),this.tail=this.tail.substring(l)}return this.pos+=m.length,m};function te(n,f){this.view=n,this.cache={".":this.view},this.parent=f}te.prototype.push=function(f){return new te(f,this)},te.prototype.lookup=function(f){var l=this.cache,m;if(l.hasOwnProperty(f))m=l[f];else{for(var x=this,M,P,T,h=!1;x;){if(f.indexOf(".")>0)for(M=x.view,P=f.split("."),T=0;M!=null&&T<P.length;)T===P.length-1&&(h=d(M,P[T])||a(M,P[T])),M=M[P[T++]];else M=x.view[f],h=d(x.view,f);if(h){m=M;break}x=x.parent}l[f]=m}return c(m)&&(m=m.call(this.view)),m};function D(){this.templateCache={_cache:{},set:function(f,l){this._cache[f]=l},get:function(f){return this._cache[f]},clear:function(){this._cache={}}}}D.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()},D.prototype.parse=function(f,l){var m=this.templateCache,x=f+":"+(l||X.tags).join(":"),M=typeof m<"u",P=M?m.get(x):void 0;return P==null&&(P=q(f,l),M&&m.set(x,P)),P},D.prototype.render=function(f,l,m,x){var M=this.parse(f,x),P=l instanceof te?l:new te(l,void 0);return this.renderTokens(M,P,m,f,x)},D.prototype.renderTokens=function(f,l,m,x,M){for(var P="",T,h,B,G=0,ee=f.length;G<ee;++G)B=void 0,T=f[G],h=T[0],h==="#"?B=this.renderSection(T,l,m,x):h==="^"?B=this.renderInverted(T,l,m,x):h===">"?B=this.renderPartial(T,l,m,M):h==="&"?B=this.unescapedValue(T,l):h==="name"?B=this.escapedValue(T,l):h==="text"&&(B=this.rawValue(T)),B!==void 0&&(P+=B);return P},D.prototype.renderSection=function(f,l,m,x){var M=this,P="",T=l.lookup(f[1]);function h(ee){return M.render(ee,l,m)}if(T){if(i(T))for(var B=0,G=T.length;B<G;++B)P+=this.renderTokens(f[4],l.push(T[B]),m,x);else if(typeof T=="object"||typeof T=="string"||typeof T=="number")P+=this.renderTokens(f[4],l.push(T),m,x);else if(c(T)){if(typeof x!="string")throw new Error("Cannot use higher-order sections without the original template");T=T.call(l.view,x.slice(f[3],f[5]),h),T!=null&&(P+=T)}else P+=this.renderTokens(f[4],l,m,x);return P}},D.prototype.renderInverted=function(f,l,m,x){var M=l.lookup(f[1]);if(!M||i(M)&&M.length===0)return this.renderTokens(f[4],l,m,x)},D.prototype.indentPartial=function(f,l,m){for(var x=l.replace(/[^ \t]/g,""),M=f.split(`
`),P=0;P<M.length;P++)M[P].length&&(P>0||!m)&&(M[P]=x+M[P]);return M.join(`
`)},D.prototype.renderPartial=function(f,l,m,x){if(m){var M=c(m)?m(f[1]):m[f[1]];if(M!=null){var P=f[6],T=f[5],h=f[4],B=M;return T==0&&h&&(B=this.indentPartial(M,h,P)),this.renderTokens(this.parse(B,x),l,m,B)}}},D.prototype.unescapedValue=function(f,l){var m=l.lookup(f[1]);if(m!=null)return m},D.prototype.escapedValue=function(f,l){var m=l.lookup(f[1]);if(m!=null)return X.escape(m)},D.prototype.rawValue=function(f){return f[1]};var X={name:"mustache.js",version:"4.0.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(n){b.templateCache=n},get templateCache(){return b.templateCache}},b=new D;return X.clearCache=function(){return b.clearCache()},X.parse=function(f,l){return b.parse(f,l)},X.render=function(f,l,m,x){if(typeof f!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+o(f)+'" was given as the first argument for mustache#render(template, view, partials)');return b.render(f,l,m,x)},X.escape=A,X.Scanner=J,X.Context=te,X.Writer=D,X}))})(Fn)),Fn.exports}var hi={},pi={},wa;function K0(){return wa||(wa=1,(function(t){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.createBase58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64urlnopad=t.base64url=t.base64nopad=t.base64=t.base32crockford=t.base32hexnopad=t.base32hex=t.base32nopad=t.base32=t.base16=t.utils=void 0;function e(z){return z instanceof Uint8Array||ArrayBuffer.isView(z)&&z.constructor.name==="Uint8Array"}function r(z,...K){if(!e(z))throw new Error("Uint8Array expected");if(K.length>0&&!K.includes(z.length))throw new Error("Uint8Array expected of length "+K+", got length="+z.length)}function i(z,K){return Array.isArray(K)?K.length===0?!0:z?K.every(re=>typeof re=="string"):K.every(re=>Number.isSafeInteger(re)):!1}function c(z){if(typeof z!="function")throw new Error("function expected");return!0}function o(z,K){if(typeof K!="string")throw new Error(`${z}: string expected`);return!0}function p(z){if(!Number.isSafeInteger(z))throw new Error(`invalid integer: ${z}`)}function d(z){if(!Array.isArray(z))throw new Error("array expected")}function a(z,K){if(!i(!0,K))throw new Error(`${z}: array of strings expected`)}function s(z,K){if(!i(!1,K))throw new Error(`${z}: array of numbers expected`)}function u(...z){const K=W=>W,re=(W,ne)=>ue=>W(ne(ue)),ie=z.map(W=>W.encode).reduceRight(re,K),Y=z.map(W=>W.decode).reduce(re,K);return{encode:ie,decode:Y}}function v(z){const K=typeof z=="string"?z.split(""):z,re=K.length;a("alphabet",K);const ie=new Map(K.map((Y,W)=>[Y,W]));return{encode:Y=>(d(Y),Y.map(W=>{if(!Number.isSafeInteger(W)||W<0||W>=re)throw new Error(`alphabet.encode: digit index outside alphabet "${W}". Allowed: ${z}`);return K[W]})),decode:Y=>(d(Y),Y.map(W=>{o("alphabet.decode",W);const ne=ie.get(W);if(ne===void 0)throw new Error(`Unknown letter: "${W}". Allowed: ${z}`);return ne}))}}function g(z=""){return o("join",z),{encode:K=>(a("join.decode",K),K.join(z)),decode:K=>(o("join.decode",K),K.split(z))}}function E(z,K="="){return p(z),o("padding",K),{encode(re){for(a("padding.encode",re);re.length*z%8;)re.push(K);return re},decode(re){a("padding.decode",re);let ie=re.length;if(ie*z%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;ie>0&&re[ie-1]===K;ie--)if((ie-1)*z%8===0)throw new Error("padding: invalid, string has too much padding");return re.slice(0,ie)}}}function A(z){return c(z),{encode:K=>K,decode:K=>z(K)}}function I(z,K,re){if(K<2)throw new Error(`convertRadix: invalid from=${K}, base cannot be less than 2`);if(re<2)throw new Error(`convertRadix: invalid to=${re}, base cannot be less than 2`);if(d(z),!z.length)return[];let ie=0;const Y=[],W=Array.from(z,ue=>{if(p(ue),ue<0||ue>=K)throw new Error(`invalid integer: ${ue}`);return ue}),ne=W.length;for(;;){let ue=0,pe=!0;for(let ae=ie;ae<ne;ae++){const be=W[ae],ye=K*ue,he=ye+be;if(!Number.isSafeInteger(he)||ye/K!==ue||he-be!==ye)throw new Error("convertRadix: carry overflow");const Se=he/re;ue=he%re;const _e=Math.floor(Se);if(W[ae]=_e,!Number.isSafeInteger(_e)||_e*re+ue!==he)throw new Error("convertRadix: carry overflow");if(pe)_e?pe=!1:ie=ae;else continue}if(Y.push(ue),pe)break}for(let ue=0;ue<z.length-1&&z[ue]===0;ue++)Y.push(0);return Y.reverse()}const R=(z,K)=>K===0?z:R(K,z%K),U=(z,K)=>z+(K-R(z,K)),k=(()=>{let z=[];for(let K=0;K<40;K++)z.push(2**K);return z})();function H(z,K,re,ie){if(d(z),K<=0||K>32)throw new Error(`convertRadix2: wrong from=${K}`);if(re<=0||re>32)throw new Error(`convertRadix2: wrong to=${re}`);if(U(K,re)>32)throw new Error(`convertRadix2: carry overflow from=${K} to=${re} carryBits=${U(K,re)}`);let Y=0,W=0;const ne=k[K],ue=k[re]-1,pe=[];for(const ae of z){if(p(ae),ae>=ne)throw new Error(`convertRadix2: invalid data word=${ae} from=${K}`);if(Y=Y<<K|ae,W+K>32)throw new Error(`convertRadix2: carry overflow pos=${W} from=${K}`);for(W+=K;W>=re;W-=re)pe.push((Y>>W-re&ue)>>>0);const be=k[W];if(be===void 0)throw new Error("invalid carry");Y&=be-1}if(Y=Y<<re-W&ue,!ie&&W>=K)throw new Error("Excess padding");if(!ie&&Y>0)throw new Error(`Non-zero padding: ${Y}`);return ie&&W>0&&pe.push(Y>>>0),pe}function q(z){p(z);const K=2**8;return{encode:re=>{if(!e(re))throw new Error("radix.encode input should be Uint8Array");return I(Array.from(re),K,z)},decode:re=>(s("radix.decode",re),Uint8Array.from(I(re,z,K)))}}function F(z,K=!1){if(p(z),z<=0||z>32)throw new Error("radix2: bits should be in (0..32]");if(U(8,z)>32||U(z,8)>32)throw new Error("radix2: carry overflow");return{encode:re=>{if(!e(re))throw new Error("radix2.encode input should be Uint8Array");return H(Array.from(re),8,z,!K)},decode:re=>(s("radix2.decode",re),Uint8Array.from(H(re,z,8,K)))}}function j(z){return c(z),function(...K){try{return z.apply(null,K)}catch{}}}function J(z,K){return p(z),c(K),{encode(re){if(!e(re))throw new Error("checksum.encode: input should be Uint8Array");const ie=K(re).slice(0,z),Y=new Uint8Array(re.length+z);return Y.set(re),Y.set(ie,re.length),Y},decode(re){if(!e(re))throw new Error("checksum.decode: input should be Uint8Array");const ie=re.slice(0,-z),Y=re.slice(-z),W=K(ie).slice(0,z);for(let ne=0;ne<z;ne++)if(W[ne]!==Y[ne])throw new Error("Invalid checksum");return ie}}}t.utils={alphabet:v,chain:u,checksum:J,convertRadix:I,convertRadix2:H,radix:q,radix2:F,join:g,padding:E},t.base16=u(F(4),v("0123456789ABCDEF"),g("")),t.base32=u(F(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),E(5),g("")),t.base32nopad=u(F(5),v("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g("")),t.base32hex=u(F(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),E(5),g("")),t.base32hexnopad=u(F(5),v("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g("")),t.base32crockford=u(F(5),v("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),g(""),A(z=>z.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const te=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",D=(z,K)=>{o("base64",z);const re=K?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,ie=K?"base64url":"base64";if(z.length>0&&!re.test(z))throw new Error("invalid base64");return Uint8Array.fromBase64(z,{alphabet:ie,lastChunkHandling:"strict"})};t.base64=te?{encode(z){return r(z),z.toBase64()},decode(z){return D(z,!1)}}:u(F(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),E(6),g("")),t.base64nopad=u(F(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g("")),t.base64url=te?{encode(z){return r(z),z.toBase64({alphabet:"base64url"})},decode(z){return D(z,!0)}}:u(F(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),E(6),g("")),t.base64urlnopad=u(F(6),v("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(""));const X=z=>u(q(58),v(z),g(""));t.base58=X("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=X("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=X("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const b=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(z){let K="";for(let re=0;re<z.length;re+=8){const ie=z.subarray(re,re+8);K+=t.base58.encode(ie).padStart(b[ie.length],"1")}return K},decode(z){let K=[];for(let re=0;re<z.length;re+=11){const ie=z.slice(re,re+11),Y=b.indexOf(ie.length),W=t.base58.decode(ie);for(let ne=0;ne<W.length-Y;ne++)if(W[ne]!==0)throw new Error("base58xmr: wrong padding");K=K.concat(Array.from(W.slice(W.length-Y)))}return Uint8Array.from(K)}};const n=z=>u(J(4,K=>z(z(K))),t.base58);t.createBase58check=n,t.base58check=t.createBase58check;const f=u(v("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),g("")),l=[996825010,642813549,513874426,1027748829,705979059];function m(z){const K=z>>25;let re=(z&33554431)<<5;for(let ie=0;ie<l.length;ie++)(K>>ie&1)===1&&(re^=l[ie]);return re}function x(z,K,re=1){const ie=z.length;let Y=1;for(let W=0;W<ie;W++){const ne=z.charCodeAt(W);if(ne<33||ne>126)throw new Error(`Invalid prefix (${z})`);Y=m(Y)^ne>>5}Y=m(Y);for(let W=0;W<ie;W++)Y=m(Y)^z.charCodeAt(W)&31;for(let W of K)Y=m(Y)^W;for(let W=0;W<6;W++)Y=m(Y);return Y^=re,f.encode(H([Y%k[30]],30,5,!1))}function M(z){const K=z==="bech32"?1:734539939,re=F(5),ie=re.decode,Y=re.encode,W=j(ie);function ne(ye,he,Se=90){o("bech32.encode prefix",ye),e(he)&&(he=Array.from(he)),s("bech32.encode",he);const _e=ye.length;if(_e===0)throw new TypeError(`Invalid prefix length ${_e}`);const Te=_e+7+he.length;if(Se!==!1&&Te>Se)throw new TypeError(`Length ${Te} exceeds limit ${Se}`);const Ge=ye.toLowerCase(),Oe=x(Ge,he,K);return`${Ge}1${f.encode(he)}${Oe}`}function ue(ye,he=90){o("bech32.decode input",ye);const Se=ye.length;if(Se<8||he!==!1&&Se>he)throw new TypeError(`invalid string length: ${Se} (${ye}). Expected (8..${he})`);const _e=ye.toLowerCase();if(ye!==_e&&ye!==ye.toUpperCase())throw new Error("String must be lowercase or uppercase");const Te=_e.lastIndexOf("1");if(Te===0||Te===-1)throw new Error('Letter "1" must be present between prefix and data only');const Ge=_e.slice(0,Te),Oe=_e.slice(Te+1);if(Oe.length<6)throw new Error("Data must be at least 6 characters long");const Ue=f.decode(Oe).slice(0,-6),Ze=x(Ge,Ue,K);if(!Oe.endsWith(Ze))throw new Error(`Invalid checksum in ${ye}: expected "${Ze}"`);return{prefix:Ge,words:Ue}}const pe=j(ue);function ae(ye){const{prefix:he,words:Se}=ue(ye,!1);return{prefix:he,words:Se,bytes:ie(Se)}}function be(ye,he){return ne(ye,Y(he))}return{encode:ne,decode:ue,encodeFromBytes:be,decodeToBytes:ae,decodeUnsafe:pe,fromWords:ie,fromWordsUnsafe:W,toWords:Y}}t.bech32=M("bech32"),t.bech32m=M("bech32m"),t.utf8={encode:z=>new TextDecoder().decode(z),decode:z=>new TextEncoder().encode(z)};const P=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",T={encode(z){return r(z),z.toHex()},decode(z){return o("hex",z),Uint8Array.fromHex(z)}};t.hex=P?T:u(F(4),v("0123456789abcdef"),g(""),A(z=>{if(typeof z!="string"||z.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof z} with length ${z.length}`);return z.toLowerCase()}));const h={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},B="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",G=(z,K)=>{if(typeof z!="string"||!h.hasOwnProperty(z))throw new TypeError(B);if(!e(K))throw new TypeError("bytesToString() expects Uint8Array");return h[z].encode(K)};t.bytesToString=G,t.str=t.bytesToString;const ee=(z,K)=>{if(!h.hasOwnProperty(z))throw new TypeError(B);if(typeof K!="string")throw new TypeError("stringToBytes() expects string");return h[z].decode(K)};t.stringToBytes=ee,t.bytes=t.stringToBytes})(pi)),pi}var xa;function wf(){return xa||(xa=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.baseDecode=t.baseEncode=t.parseNearAmount=t.formatNearAmount=t.NEAR_NOMINATION=t.NEAR_NOMINATION_EXP=void 0;const e=K0();t.NEAR_NOMINATION_EXP=24,t.NEAR_NOMINATION=10n**BigInt(t.NEAR_NOMINATION_EXP);const r=[],i=10n;for(let g=0,E=5n;g<t.NEAR_NOMINATION_EXP;g++,E=E*i)r[g]=E;function c(g,E=t.NEAR_NOMINATION_EXP){let A=BigInt(g);if(E!==t.NEAR_NOMINATION_EXP){const U=t.NEAR_NOMINATION_EXP-E-1;U>0&&(A+=r[U])}g=A.toString();const I=g.substring(0,g.length-t.NEAR_NOMINATION_EXP)||"0",R=g.substring(g.length-t.NEAR_NOMINATION_EXP).padStart(t.NEAR_NOMINATION_EXP,"0").substring(0,E);return d(`${s(I)}.${R}`)}t.formatNearAmount=c;function o(g){if(!g)return null;g=p(g);const E=g.split("."),A=E[0],I=E[1]||"";if(E.length>2||I.length>t.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${g}' as NEAR amount`);return a(A+I.padEnd(t.NEAR_NOMINATION_EXP,"0"))}t.parseNearAmount=o;function p(g){return g.replace(/,/g,"").trim()}function d(g){return g.replace(/\.?0*$/,"")}function a(g){return g=g.replace(/^0+/,""),g===""?"0":g}function s(g){const E=/(-?\d+)(\d{3})/;for(;E.test(g);)g=g.replace(E,"$1,$2");return g}function u(g){if(typeof g=="string"){const E=[];for(let A=0;A<g.length;A++)E.push(g.charCodeAt(A));g=new Uint8Array(E)}return e.base58.encode(g)}t.baseEncode=u;function v(g){return e.base58.decode(g)}t.baseDecode=v})(hi)),hi}const W0=JSON.parse('{"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed","DeleteAccountWithLargeState","DelegateActionInvalidSignature","DelegateActionSenderDoesNotMatchTxReceiver","DelegateActionExpired","DelegateActionAccessKeyError","DelegateActionInvalidNonce","DelegateActionNonceTooLarge"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas","DelegateActionMustBeOnlyOne","UnsupportedProtocolFeature"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"AltBn128InvalidInput":{"name":"AltBn128InvalidInput","subtypes":[],"props":{"msg":""}},"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","forwarded_buffered_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_buffered_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DelegateActionExpired":{"name":"DelegateActionExpired","subtypes":[],"props":{}},"DelegateActionInvalidNonce":{"name":"DelegateActionInvalidNonce","subtypes":[],"props":{"ak_nonce":"","delegate_nonce":""}},"DelegateActionInvalidSignature":{"name":"DelegateActionInvalidSignature","subtypes":[],"props":{}},"DelegateActionMustBeOnlyOne":{"name":"DelegateActionMustBeOnlyOne","subtypes":[],"props":{}},"DelegateActionNonceTooLarge":{"name":"DelegateActionNonceTooLarge","subtypes":[],"props":{"delegate_nonce":"","upper_bound":""}},"DelegateActionSenderDoesNotMatchTxReceiver":{"name":"DelegateActionSenderDoesNotMatchTxReceiver","subtypes":[],"props":{"receiver_id":"","sender_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteAccountWithLargeState":{"name":"DeleteAccountWithLargeState","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"ECRecoverError":{"name":"ECRecoverError","subtypes":[],"props":{"msg":""}},"Ed25519VerifyInvalidInput":{"name":"Ed25519VerifyInvalidInput","subtypes":[],"props":{"msg":""}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated","ECRecoverError","AltBn128InvalidInput","Ed25519VerifyInvalidInput"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"IndirectCallToNull":{"name":"IndirectCallToNull","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","NonceTooLarge","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation","TransactionSizeExceeded","StorageError","ShardCongested","ShardStuck"],"props":{}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodNotFound","MethodInvalidSignature"],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NonceTooLarge":{"name":"NonceTooLarge","subtypes":[],"props":{"tx_nonce":"","upper_bound":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory","TooManyFunctions","TooManyLocals"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReceiptSizeExceeded":{"name":"ReceiptSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation","ReceiptSizeExceeded"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"ShardCongested":{"name":"ShardCongested","subtypes":[],"props":{"congestion_level":"","shard_id":""}},"ShardStuck":{"name":"ShardStuck","subtypes":[],"props":{"missed_chunks":"","shard_id":""}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TooManyFunctions":{"name":"TooManyFunctions","subtypes":[],"props":{}},"TooManyLocals":{"name":"TooManyLocals","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TransactionSizeExceeded":{"name":"TransactionSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"UnsupportedProtocolFeature":{"name":"UnsupportedProtocolFeature","subtypes":[],"props":{"protocol_feature":"","version":""}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","IndirectCallToNull","StackOverflow","GenericTrap"],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}'),V0={schema:W0};var _a;function G0(){if(_a)return $t;_a=1;var t=$t&&$t.__importDefault||function(R){return R&&R.__esModule?R:{default:R}};Object.defineProperty($t,"__esModule",{value:!0}),$t.getErrorTypeFromErrorMessage=$t.formatError=$t.parseResultError=$t.parseRpcError=$t.ServerError=void 0;const e=j0(),r=t(H0()),i=wf(),c=mf(),o=t(V0),p={formatNear:()=>(R,U)=>(0,i.formatNearAmount)(U(R))};class d extends e.TypedError{}$t.ServerError=d;class a extends d{transaction_outcome}function s(R){const U={},k=g(R,o.default.schema,U,""),H=new d(v(k,U),k);return Object.assign(H,U),H}$t.parseRpcError=s;function u(R){const U=s(R.status.Failure),k=new a;return Object.assign(k,U),k.type=U.type,k.message=U.message,k.transaction_outcome=R.transaction_outcome,k}$t.parseResultError=u;function v(R,U){return typeof c.ErrorMessages[R]=="string"?r.default.render(c.ErrorMessages[R],{...U,...p}):JSON.stringify(U)}$t.formatError=v;function g(R,U,k,H){let q,F,j;for(const J in U){if(I(R[J]))return R[J];if(A(R[J]))q=R[J],F=U[J],j=J;else if(A(R.kind)&&A(R.kind[J]))q=R.kind[J],F=U[J],j=J;else continue}if(q&&F){for(const J of Object.keys(F.props))k[J]=q[J];return g(q,U,k,j)}else return k.kind=R,H}function E(R,U){switch(!0){case/^account .*? does not exist while viewing$/.test(R):return"AccountDoesNotExist";case/^Account .*? doesn't exist$/.test(R):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(R):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(R):return"CodeDoesNotExist";case/wasm execution failed with error: CompilationError\(CodeDoesNotExist/.test(R):return"CodeDoesNotExist";case/wasm execution failed with error: FunctionCallError\(MethodResolveError\(MethodNotFound/.test(R):return"MethodNotFound";case/wasm execution failed with error: MethodResolveError\(MethodNotFound/.test(R):return"MethodNotFound";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(R):return"InvalidNonce";default:return U}}$t.getErrorTypeFromErrorMessage=E;function A(R){return Object.prototype.toString.call(R)==="[object Object]"}function I(R){return Object.prototype.toString.call(R)==="[object String]"}return $t}var Ea;function xf(){return Ea||(Ea=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseRpcError=t.parseResultError=t.getErrorTypeFromErrorMessage=t.formatError=t.ServerError=t.ErrorMessages=void 0;var e=mf();Object.defineProperty(t,"ErrorMessages",{enumerable:!0,get:function(){return e.ErrorMessages}});var r=G0();Object.defineProperty(t,"ServerError",{enumerable:!0,get:function(){return r.ServerError}}),Object.defineProperty(t,"formatError",{enumerable:!0,get:function(){return r.formatError}}),Object.defineProperty(t,"getErrorTypeFromErrorMessage",{enumerable:!0,get:function(){return r.getErrorTypeFromErrorMessage}}),Object.defineProperty(t,"parseResultError",{enumerable:!0,get:function(){return r.parseResultError}}),Object.defineProperty(t,"parseRpcError",{enumerable:!0,get:function(){return r.parseRpcError}})})(ui)),ui}var mr={},bi={},Zr={},Aa;function _f(){if(Aa)return Zr;Aa=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.ConsoleLogger=void 0;class t{logLevels;constructor(r){this.logLevels=r}isLevelEnabled=r=>this.logLevels.includes(r);print(r,i,...c){switch(r){case"error":case"fatal":return console.error(i,...c);case"warn":return console.warn(i,...c);case"log":return console.log(i,...c);case"debug":case"verbose":return console.debug(i,...c)}}verbose(r,...i){this.isLevelEnabled("verbose")&&this.print("verbose",r,...i)}debug(r,...i){this.isLevelEnabled("debug")&&this.print("debug",r,...i)}log(r,...i){this.isLevelEnabled("log")&&this.print("log",r,...i)}warn(r,...i){this.isLevelEnabled("warn")&&this.print("warn",r,...i)}error(r,...i){this.isLevelEnabled("error")&&this.print("error",r,...i)}fatal(r,...i){this.isLevelEnabled("fatal")&&this.print("fatal",r,...i)}}return Zr.ConsoleLogger=t,Zr}var Jr={},Sa;function Y0(){if(Sa)return Jr;Sa=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Logger=void 0;const t=_f(),e=["verbose","debug","log","warn","error","fatal"],r=new t.ConsoleLogger(e);class i{static instanceRef=r;static overrideLogger=o=>{this.instanceRef=o};static error(o,...p){this.instanceRef?.error(o,...p)}static log(o,...p){this.instanceRef?.log(o,...p)}static warn(o,...p){this.instanceRef?.warn(o,...p)}static debug(o,...p){this.instanceRef?.debug?.(o,...p)}static verbose(o,...p){this.instanceRef?.verbose?.(o,...p)}static fatal(o,...p){this.instanceRef?.fatal?.(o,...p)}}return Jr.Logger=i,Jr}var Ma;function Ef(){return Ma||(Ma=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.ConsoleLogger=void 0;var e=_f();Object.defineProperty(t,"ConsoleLogger",{enumerable:!0,get:function(){return e.ConsoleLogger}});var r=Y0();Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return r.Logger}})})(bi)),bi}var Ia;function X0(){if(Ia)return mr;Ia=1,Object.defineProperty(mr,"__esModule",{value:!0}),mr.printTxOutcomeLogs=mr.printTxOutcomeLogsAndFailures=void 0;const t=xf(),e=Ef();function r({contractId:c,outcome:o}){const p=[o.transaction_outcome,...o.receipts_outcome].reduce((d,a)=>{const s=typeof a.outcome.status=="object"&&typeof a.outcome.status.Failure=="object";return a.outcome.logs.length||s?d.concat({receiptIds:a.outcome.receipt_ids,logs:a.outcome.logs,failure:typeof a.outcome.status=="object"&&a.outcome.status.Failure!==void 0?(0,t.parseRpcError)(a.outcome.status.Failure):null}):d},[]);for(const d of p)e.Logger.log(`Receipt${d.receiptIds.length>1?"s":""}: ${d.receiptIds.join(", ")}`),i({contractId:c,logs:d.logs,prefix:"	"}),d.failure&&e.Logger.warn(`	Failure [${c}]: ${d.failure}`)}mr.printTxOutcomeLogsAndFailures=r;function i({contractId:c,logs:o,prefix:p=""}){for(const d of o)e.Logger.log(`${p}Log [${c}]: ${d}`)}return mr.printTxOutcomeLogs=i,mr}var Qr={},Ta;function Z0(){if(Ta)return Qr;Ta=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.getTransactionLastResult=void 0;function t(e){if(typeof e.status=="object"&&typeof e.status.SuccessValue=="string"){const r=Buffer.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(r)}catch{return r}}return null}return Qr.getTransactionLastResult=t,Qr}var Zt={};/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var yi,Ba;function J0(){if(Ba)return yi;Ba=1,yi=t;function t(i){if(!i)throw new TypeError("argument namespace is required");function c(o){}return c._file=void 0,c._ignored=!0,c._namespace=i,c._traced=!1,c._warned=Object.create(null),c.function=e,c.property=r,c}function e(i,c){if(typeof i!="function")throw new TypeError("argument fn must be a function");return i}function r(i,c,o){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("argument obj must be object");var p=Object.getOwnPropertyDescriptor(i,c);if(!p)throw new TypeError("must call property on owner object");if(!p.configurable)throw new TypeError("property must be configurable")}return yi}var en={},Ra;function Af(){if(Ra)return en;Ra=1,Object.defineProperty(en,"__esModule",{value:!0}),en.sortBigIntAsc=void 0;function t(e,r){return e<r?-1:e>r?1:0}return en.sortBigIntAsc=t,en}var Ca;function Q0(){if(Ca)return Zt;Ca=1;var t=Zt&&Zt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.diffEpochValidators=Zt.findSeatPrice=void 0;const e=t(J0()),r=Af();function i(d,a,s,u){return u&&u<49?c(d,a):(s||((0,e.default)("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),s=[1,6250]),o(d,a,s))}Zt.findSeatPrice=i;function c(d,a){const s=d.map(A=>BigInt(A.stake)).sort(r.sortBigIntAsc),u=BigInt(a),v=s.reduce((A,I)=>A+I);if(v<u)throw new Error("Stakes are below seats");let g=1n,E=v+1n;for(;g!==E-1n;){const A=(g+E)/2n;let I=!1,R=0n;for(let U=0;U<s.length;++U)if(R=R+s[U]/A,R>=u){g=A,I=!0;break}I||(E=A)}return g}function o(d,a,s){if(s.length!=2)throw Error("minimumStakeRatio should have 2 elements");const u=d.map(g=>BigInt(g.stake)).sort(r.sortBigIntAsc),v=u.reduce((g,E)=>g+E);return d.length<a?v*BigInt(s[0])/BigInt(s[1]):u[0]+1n}function p(d,a){const s=new Map;d.forEach(v=>s.set(v.account_id,v));const u=new Set(a.map(v=>v.account_id));return{newValidators:a.filter(v=>!s.has(v.account_id)),removedValidators:d.filter(v=>!u.has(v.account_id)),changedValidators:a.filter(v=>s.has(v.account_id)&&s.get(v.account_id).stake!=v.stake).map(v=>({current:s.get(v.account_id),next:v}))}}return Zt.diffEpochValidators=p,Zt}var Oa;function wn(){return Oa||(Oa=1,(function(t){var e=br&&br.__createBinding||(Object.create?(function(i,c,o,p){p===void 0&&(p=o);var d=Object.getOwnPropertyDescriptor(c,o);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[o]}}),Object.defineProperty(i,p,d)}):(function(i,c,o,p){p===void 0&&(p=o),i[p]=c[o]})),r=br&&br.__exportStar||function(i,c){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(c,o)&&e(c,i,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(xu(),t),r(xf(),t),r(wf(),t),r(X0(),t),r(Z0(),t),r(Q0(),t),r(Ef(),t),r(Af(),t)})(br)),br}var vi={},Ot={},Qt={},er={},Na;function Sf(){if(Na)return er;Na=1,Object.defineProperty(er,"__esModule",{value:!0}),er.anumber=t,er.abytes=r,er.ahash=i,er.aexists=c,er.aoutput=o;function t(p){if(!Number.isSafeInteger(p)||p<0)throw new Error("positive integer expected, got "+p)}function e(p){return p instanceof Uint8Array||ArrayBuffer.isView(p)&&p.constructor.name==="Uint8Array"}function r(p,...d){if(!e(p))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(p.length))throw new Error("Uint8Array expected of length "+d+", got length="+p.length)}function i(p){if(typeof p!="function"||typeof p.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(p.outputLen),t(p.blockLen)}function c(p,d=!0){if(p.destroyed)throw new Error("Hash instance has been destroyed");if(d&&p.finished)throw new Error("Hash#digest() has already been called")}function o(p,d){r(p);const a=d.outputLen;if(p.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}return er}var gi={},tn={},Pa;function el(){return Pa||(Pa=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.crypto=void 0,tn.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),tn}var Ua;function Io(){return Ua||(Ua=1,(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=i,t.u8=c,t.u32=o,t.createView=p,t.rotr=d,t.rotl=a,t.byteSwap=s,t.byteSwap32=u,t.bytesToHex=g,t.hexToBytes=I,t.asyncLoop=U,t.utf8ToBytes=k,t.toBytes=H,t.concatBytes=q,t.checkOpts=j,t.wrapConstructor=J,t.wrapConstructorWithOpts=te,t.wrapXOFConstructorWithOpts=D,t.randomBytes=X;const e=el(),r=Sf();function i(b){return b instanceof Uint8Array||ArrayBuffer.isView(b)&&b.constructor.name==="Uint8Array"}function c(b){return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)}function o(b){return new Uint32Array(b.buffer,b.byteOffset,Math.floor(b.byteLength/4))}function p(b){return new DataView(b.buffer,b.byteOffset,b.byteLength)}function d(b,n){return b<<32-n|b>>>n}function a(b,n){return b<<n|b>>>32-n>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function s(b){return b<<24&4278190080|b<<8&16711680|b>>>8&65280|b>>>24&255}t.byteSwapIfBE=t.isLE?b=>b:b=>s(b);function u(b){for(let n=0;n<b.length;n++)b[n]=s(b[n])}const v=Array.from({length:256},(b,n)=>n.toString(16).padStart(2,"0"));function g(b){(0,r.abytes)(b);let n="";for(let f=0;f<b.length;f++)n+=v[b[f]];return n}const E={_0:48,_9:57,A:65,F:70,a:97,f:102};function A(b){if(b>=E._0&&b<=E._9)return b-E._0;if(b>=E.A&&b<=E.F)return b-(E.A-10);if(b>=E.a&&b<=E.f)return b-(E.a-10)}function I(b){if(typeof b!="string")throw new Error("hex string expected, got "+typeof b);const n=b.length,f=n/2;if(n%2)throw new Error("hex string expected, got unpadded hex of length "+n);const l=new Uint8Array(f);for(let m=0,x=0;m<f;m++,x+=2){const M=A(b.charCodeAt(x)),P=A(b.charCodeAt(x+1));if(M===void 0||P===void 0){const T=b[x]+b[x+1];throw new Error('hex string expected, got non-hex character "'+T+'" at index '+x)}l[m]=M*16+P}return l}const R=async()=>{};t.nextTick=R;async function U(b,n,f){let l=Date.now();for(let m=0;m<b;m++){f(m);const x=Date.now()-l;x>=0&&x<n||(await(0,t.nextTick)(),l+=x)}}function k(b){if(typeof b!="string")throw new Error("utf8ToBytes expected string, got "+typeof b);return new Uint8Array(new TextEncoder().encode(b))}function H(b){return typeof b=="string"&&(b=k(b)),(0,r.abytes)(b),b}function q(...b){let n=0;for(let l=0;l<b.length;l++){const m=b[l];(0,r.abytes)(m),n+=m.length}const f=new Uint8Array(n);for(let l=0,m=0;l<b.length;l++){const x=b[l];f.set(x,m),m+=x.length}return f}class F{clone(){return this._cloneInto()}}t.Hash=F;function j(b,n){if(n!==void 0&&{}.toString.call(n)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(b,n)}function J(b){const n=l=>b().update(H(l)).digest(),f=b();return n.outputLen=f.outputLen,n.blockLen=f.blockLen,n.create=()=>b(),n}function te(b){const n=(l,m)=>b(m).update(H(l)).digest(),f=b({});return n.outputLen=f.outputLen,n.blockLen=f.blockLen,n.create=l=>b(l),n}function D(b){const n=(l,m)=>b(m).update(H(l)).digest(),f=b({});return n.outputLen=f.outputLen,n.blockLen=f.blockLen,n.create=l=>b(l),n}function X(b=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(b));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(b);throw new Error("crypto.getRandomValues must be defined")}})(gi)),gi}var La;function tl(){if(La)return Qt;La=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.HashMD=void 0,Qt.setBigUint64=r,Qt.Chi=i,Qt.Maj=c;const t=Sf(),e=Io();function r(p,d,a,s){if(typeof p.setBigUint64=="function")return p.setBigUint64(d,a,s);const u=BigInt(32),v=BigInt(4294967295),g=Number(a>>u&v),E=Number(a&v),A=s?4:0,I=s?0:4;p.setUint32(d+A,g,s),p.setUint32(d+I,E,s)}function i(p,d,a){return p&d^~p&a}function c(p,d,a){return p&d^p&a^d&a}class o extends e.Hash{constructor(d,a,s,u){super(),this.blockLen=d,this.outputLen=a,this.padOffset=s,this.isLE=u,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(d),this.view=(0,e.createView)(this.buffer)}update(d){(0,t.aexists)(this);const{view:a,buffer:s,blockLen:u}=this;d=(0,e.toBytes)(d);const v=d.length;for(let g=0;g<v;){const E=Math.min(u-this.pos,v-g);if(E===u){const A=(0,e.createView)(d);for(;u<=v-g;g+=u)this.process(A,g);continue}s.set(d.subarray(g,g+E),this.pos),this.pos+=E,g+=E,this.pos===u&&(this.process(a,0),this.pos=0)}return this.length+=d.length,this.roundClean(),this}digestInto(d){(0,t.aexists)(this),(0,t.aoutput)(d,this),this.finished=!0;const{buffer:a,view:s,blockLen:u,isLE:v}=this;let{pos:g}=this;a[g++]=128,this.buffer.subarray(g).fill(0),this.padOffset>u-g&&(this.process(s,0),g=0);for(let U=g;U<u;U++)a[U]=0;r(s,u-8,BigInt(this.length*8),v),this.process(s,0);const E=(0,e.createView)(d),A=this.outputLen;if(A%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const I=A/4,R=this.get();if(I>R.length)throw new Error("_sha2: outputLen bigger than state");for(let U=0;U<I;U++)E.setUint32(4*U,R[U],v)}digest(){const{buffer:d,outputLen:a}=this;this.digestInto(d);const s=d.slice(0,a);return this.destroy(),s}_cloneInto(d){d||(d=new this.constructor),d.set(...this.get());const{blockLen:a,buffer:s,length:u,finished:v,destroyed:g,pos:E}=this;return d.length=u,d.pos=E,d.finished=v,d.destroyed=g,u%a&&d.buffer.set(s),d}}return Qt.HashMD=o,Qt}var Xe={},ka;function rl(){if(ka)return Xe;ka=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.add5L=Xe.add5H=Xe.add4H=Xe.add4L=Xe.add3H=Xe.add3L=Xe.rotlBL=Xe.rotlBH=Xe.rotlSL=Xe.rotlSH=Xe.rotr32L=Xe.rotr32H=Xe.rotrBL=Xe.rotrBH=Xe.rotrSL=Xe.rotrSH=Xe.shrSL=Xe.shrSH=Xe.toBig=void 0,Xe.fromBig=r,Xe.split=i,Xe.add=U;const t=BigInt(2**32-1),e=BigInt(32);function r(D,X=!1){return X?{h:Number(D&t),l:Number(D>>e&t)}:{h:Number(D>>e&t)|0,l:Number(D&t)|0}}function i(D,X=!1){let b=new Uint32Array(D.length),n=new Uint32Array(D.length);for(let f=0;f<D.length;f++){const{h:l,l:m}=r(D[f],X);[b[f],n[f]]=[l,m]}return[b,n]}const c=(D,X)=>BigInt(D>>>0)<<e|BigInt(X>>>0);Xe.toBig=c;const o=(D,X,b)=>D>>>b;Xe.shrSH=o;const p=(D,X,b)=>D<<32-b|X>>>b;Xe.shrSL=p;const d=(D,X,b)=>D>>>b|X<<32-b;Xe.rotrSH=d;const a=(D,X,b)=>D<<32-b|X>>>b;Xe.rotrSL=a;const s=(D,X,b)=>D<<64-b|X>>>b-32;Xe.rotrBH=s;const u=(D,X,b)=>D>>>b-32|X<<64-b;Xe.rotrBL=u;const v=(D,X)=>X;Xe.rotr32H=v;const g=(D,X)=>D;Xe.rotr32L=g;const E=(D,X,b)=>D<<b|X>>>32-b;Xe.rotlSH=E;const A=(D,X,b)=>X<<b|D>>>32-b;Xe.rotlSL=A;const I=(D,X,b)=>X<<b-32|D>>>64-b;Xe.rotlBH=I;const R=(D,X,b)=>D<<b-32|X>>>64-b;Xe.rotlBL=R;function U(D,X,b,n){const f=(X>>>0)+(n>>>0);return{h:D+b+(f/2**32|0)|0,l:f|0}}const k=(D,X,b)=>(D>>>0)+(X>>>0)+(b>>>0);Xe.add3L=k;const H=(D,X,b,n)=>X+b+n+(D/2**32|0)|0;Xe.add3H=H;const q=(D,X,b,n)=>(D>>>0)+(X>>>0)+(b>>>0)+(n>>>0);Xe.add4L=q;const F=(D,X,b,n,f)=>X+b+n+f+(D/2**32|0)|0;Xe.add4H=F;const j=(D,X,b,n,f)=>(D>>>0)+(X>>>0)+(b>>>0)+(n>>>0)+(f>>>0);Xe.add5L=j;const J=(D,X,b,n,f,l)=>X+b+n+f+l+(D/2**32|0)|0;Xe.add5H=J;const te={fromBig:r,split:i,toBig:c,shrSH:o,shrSL:p,rotrSH:d,rotrSL:a,rotrBH:s,rotrBL:u,rotr32H:v,rotr32L:g,rotlSH:E,rotlSL:A,rotlBH:I,rotlBL:R,add:U,add3L:k,add3H:H,add4L:q,add4H:F,add5H:J,add5L:j};return Xe.default=te,Xe}var qa;function nl(){if(qa)return Ot;qa=1,Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.sha384=Ot.sha512_256=Ot.sha512_224=Ot.sha512=Ot.SHA384=Ot.SHA512_256=Ot.SHA512_224=Ot.SHA512=void 0;const t=tl(),e=rl(),r=Io(),[i,c]=e.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(v=>BigInt(v))),o=new Uint32Array(80),p=new Uint32Array(80);class d extends t.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:g,Al:E,Bh:A,Bl:I,Ch:R,Cl:U,Dh:k,Dl:H,Eh:q,El:F,Fh:j,Fl:J,Gh:te,Gl:D,Hh:X,Hl:b}=this;return[g,E,A,I,R,U,k,H,q,F,j,J,te,D,X,b]}set(g,E,A,I,R,U,k,H,q,F,j,J,te,D,X,b){this.Ah=g|0,this.Al=E|0,this.Bh=A|0,this.Bl=I|0,this.Ch=R|0,this.Cl=U|0,this.Dh=k|0,this.Dl=H|0,this.Eh=q|0,this.El=F|0,this.Fh=j|0,this.Fl=J|0,this.Gh=te|0,this.Gl=D|0,this.Hh=X|0,this.Hl=b|0}process(g,E){for(let l=0;l<16;l++,E+=4)o[l]=g.getUint32(E),p[l]=g.getUint32(E+=4);for(let l=16;l<80;l++){const m=o[l-15]|0,x=p[l-15]|0,M=e.default.rotrSH(m,x,1)^e.default.rotrSH(m,x,8)^e.default.shrSH(m,x,7),P=e.default.rotrSL(m,x,1)^e.default.rotrSL(m,x,8)^e.default.shrSL(m,x,7),T=o[l-2]|0,h=p[l-2]|0,B=e.default.rotrSH(T,h,19)^e.default.rotrBH(T,h,61)^e.default.shrSH(T,h,6),G=e.default.rotrSL(T,h,19)^e.default.rotrBL(T,h,61)^e.default.shrSL(T,h,6),ee=e.default.add4L(P,G,p[l-7],p[l-16]),z=e.default.add4H(ee,M,B,o[l-7],o[l-16]);o[l]=z|0,p[l]=ee|0}let{Ah:A,Al:I,Bh:R,Bl:U,Ch:k,Cl:H,Dh:q,Dl:F,Eh:j,El:J,Fh:te,Fl:D,Gh:X,Gl:b,Hh:n,Hl:f}=this;for(let l=0;l<80;l++){const m=e.default.rotrSH(j,J,14)^e.default.rotrSH(j,J,18)^e.default.rotrBH(j,J,41),x=e.default.rotrSL(j,J,14)^e.default.rotrSL(j,J,18)^e.default.rotrBL(j,J,41),M=j&te^~j&X,P=J&D^~J&b,T=e.default.add5L(f,x,P,c[l],p[l]),h=e.default.add5H(T,n,m,M,i[l],o[l]),B=T|0,G=e.default.rotrSH(A,I,28)^e.default.rotrBH(A,I,34)^e.default.rotrBH(A,I,39),ee=e.default.rotrSL(A,I,28)^e.default.rotrBL(A,I,34)^e.default.rotrBL(A,I,39),z=A&R^A&k^R&k,K=I&U^I&H^U&H;n=X|0,f=b|0,X=te|0,b=D|0,te=j|0,D=J|0,{h:j,l:J}=e.default.add(q|0,F|0,h|0,B|0),q=k|0,F=H|0,k=R|0,H=U|0,R=A|0,U=I|0;const re=e.default.add3L(B,ee,K);A=e.default.add3H(re,h,G,z),I=re|0}({h:A,l:I}=e.default.add(this.Ah|0,this.Al|0,A|0,I|0)),{h:R,l:U}=e.default.add(this.Bh|0,this.Bl|0,R|0,U|0),{h:k,l:H}=e.default.add(this.Ch|0,this.Cl|0,k|0,H|0),{h:q,l:F}=e.default.add(this.Dh|0,this.Dl|0,q|0,F|0),{h:j,l:J}=e.default.add(this.Eh|0,this.El|0,j|0,J|0),{h:te,l:D}=e.default.add(this.Fh|0,this.Fl|0,te|0,D|0),{h:X,l:b}=e.default.add(this.Gh|0,this.Gl|0,X|0,b|0),{h:n,l:f}=e.default.add(this.Hh|0,this.Hl|0,n|0,f|0),this.set(A,I,R,U,k,H,q,F,j,J,te,D,X,b,n,f)}roundClean(){o.fill(0),p.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ot.SHA512=d;class a extends d{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ot.SHA512_224=a;class s extends d{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ot.SHA512_256=s;class u extends d{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}return Ot.SHA384=u,Ot.sha512=(0,r.wrapConstructor)(()=>new d),Ot.sha512_224=(0,r.wrapConstructor)(()=>new a),Ot.sha512_256=(0,r.wrapConstructor)(()=>new s),Ot.sha384=(0,r.wrapConstructor)(()=>new u),Ot}var wr={},gt={},ut={},$a;function Br(){if($a)return ut;$a=1;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(ut,"__esModule",{value:!0}),ut.notImplemented=ut.bitMask=void 0,ut.isBytes=i,ut.abytes=c,ut.abool=o,ut.bytesToHex=d,ut.numberToHexUnpadded=a,ut.hexToNumber=s,ut.hexToBytes=g,ut.bytesToNumberBE=E,ut.bytesToNumberLE=A,ut.numberToBytesBE=I,ut.numberToBytesLE=R,ut.numberToVarBytesBE=U,ut.ensureBytes=k,ut.concatBytes=H,ut.equalBytes=q,ut.utf8ToBytes=F,ut.inRange=J,ut.aInRange=te,ut.bitLen=D,ut.bitGet=X,ut.bitSet=b,ut.createHmacDrbg=m,ut.validateObject=M,ut.memoized=T;const t=BigInt(0),e=BigInt(1),r=BigInt(2);function i(h){return h instanceof Uint8Array||ArrayBuffer.isView(h)&&h.constructor.name==="Uint8Array"}function c(h){if(!i(h))throw new Error("Uint8Array expected")}function o(h,B){if(typeof B!="boolean")throw new Error(h+" boolean expected, got "+B)}const p=Array.from({length:256},(h,B)=>B.toString(16).padStart(2,"0"));function d(h){c(h);let B="";for(let G=0;G<h.length;G++)B+=p[h[G]];return B}function a(h){const B=h.toString(16);return B.length&1?"0"+B:B}function s(h){if(typeof h!="string")throw new Error("hex string expected, got "+typeof h);return h===""?t:BigInt("0x"+h)}const u={_0:48,_9:57,A:65,F:70,a:97,f:102};function v(h){if(h>=u._0&&h<=u._9)return h-u._0;if(h>=u.A&&h<=u.F)return h-(u.A-10);if(h>=u.a&&h<=u.f)return h-(u.a-10)}function g(h){if(typeof h!="string")throw new Error("hex string expected, got "+typeof h);const B=h.length,G=B/2;if(B%2)throw new Error("hex string expected, got unpadded hex of length "+B);const ee=new Uint8Array(G);for(let z=0,K=0;z<G;z++,K+=2){const re=v(h.charCodeAt(K)),ie=v(h.charCodeAt(K+1));if(re===void 0||ie===void 0){const Y=h[K]+h[K+1];throw new Error('hex string expected, got non-hex character "'+Y+'" at index '+K)}ee[z]=re*16+ie}return ee}function E(h){return s(d(h))}function A(h){return c(h),s(d(Uint8Array.from(h).reverse()))}function I(h,B){return g(h.toString(16).padStart(B*2,"0"))}function R(h,B){return I(h,B).reverse()}function U(h){return g(a(h))}function k(h,B,G){let ee;if(typeof B=="string")try{ee=g(B)}catch(K){throw new Error(h+" must be hex string or Uint8Array, cause: "+K)}else if(i(B))ee=Uint8Array.from(B);else throw new Error(h+" must be hex string or Uint8Array");const z=ee.length;if(typeof G=="number"&&z!==G)throw new Error(h+" of length "+G+" expected, got "+z);return ee}function H(...h){let B=0;for(let ee=0;ee<h.length;ee++){const z=h[ee];c(z),B+=z.length}const G=new Uint8Array(B);for(let ee=0,z=0;ee<h.length;ee++){const K=h[ee];G.set(K,z),z+=K.length}return G}function q(h,B){if(h.length!==B.length)return!1;let G=0;for(let ee=0;ee<h.length;ee++)G|=h[ee]^B[ee];return G===0}function F(h){if(typeof h!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(h))}const j=h=>typeof h=="bigint"&&t<=h;function J(h,B,G){return j(h)&&j(B)&&j(G)&&B<=h&&h<G}function te(h,B,G,ee){if(!J(B,G,ee))throw new Error("expected valid "+h+": "+G+" <= n < "+ee+", got "+B)}function D(h){let B;for(B=0;h>t;h>>=e,B+=1);return B}function X(h,B){return h>>BigInt(B)&e}function b(h,B,G){return h|(G?e:t)<<BigInt(B)}const n=h=>(r<<BigInt(h-1))-e;ut.bitMask=n;const f=h=>new Uint8Array(h),l=h=>Uint8Array.from(h);function m(h,B,G){if(typeof h!="number"||h<2)throw new Error("hashLen must be a number");if(typeof B!="number"||B<2)throw new Error("qByteLen must be a number");if(typeof G!="function")throw new Error("hmacFn must be a function");let ee=f(h),z=f(h),K=0;const re=()=>{ee.fill(1),z.fill(0),K=0},ie=(...ue)=>G(z,ee,...ue),Y=(ue=f())=>{z=ie(l([0]),ue),ee=ie(),ue.length!==0&&(z=ie(l([1]),ue),ee=ie())},W=()=>{if(K++>=1e3)throw new Error("drbg: tried 1000 values");let ue=0;const pe=[];for(;ue<B;){ee=ie();const ae=ee.slice();pe.push(ae),ue+=ee.length}return H(...pe)};return(ue,pe)=>{re(),Y(ue);let ae;for(;!(ae=pe(W()));)Y();return re(),ae}}const x={bigint:h=>typeof h=="bigint",function:h=>typeof h=="function",boolean:h=>typeof h=="boolean",string:h=>typeof h=="string",stringOrUint8Array:h=>typeof h=="string"||i(h),isSafeInteger:h=>Number.isSafeInteger(h),array:h=>Array.isArray(h),field:(h,B)=>B.Fp.isValid(h),hash:h=>typeof h=="function"&&Number.isSafeInteger(h.outputLen)};function M(h,B,G={}){const ee=(z,K,re)=>{const ie=x[K];if(typeof ie!="function")throw new Error("invalid validator function");const Y=h[z];if(!(re&&Y===void 0)&&!ie(Y,h))throw new Error("param "+String(z)+" is invalid. Expected "+K+", got "+Y)};for(const[z,K]of Object.entries(B))ee(z,K,!1);for(const[z,K]of Object.entries(G))ee(z,K,!0);return h}const P=()=>{throw new Error("not implemented")};ut.notImplemented=P;function T(h){const B=new WeakMap;return(G,...ee)=>{const z=B.get(G);if(z!==void 0)return z;const K=h(G,...ee);return B.set(G,K),K}}return ut}var Da;function xn(){if(Da)return gt;Da=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.isNegativeLE=void 0,gt.mod=a,gt.pow=s,gt.pow2=u,gt.invert=v,gt.tonelliShanks=g,gt.FpSqrt=E,gt.validateField=R,gt.FpPow=U,gt.FpInvertBatch=k,gt.FpDiv=H,gt.FpLegendre=q,gt.FpIsSquare=F,gt.nLength=j,gt.Field=J,gt.FpSqrtOdd=te,gt.FpSqrtEven=D,gt.hashToPrivateScalar=X,gt.getFieldBytesLength=b,gt.getMinHashLength=n,gt.mapHashToField=f;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Br(),e=BigInt(0),r=BigInt(1),i=BigInt(2),c=BigInt(3),o=BigInt(4),p=BigInt(5),d=BigInt(8);function a(l,m){const x=l%m;return x>=e?x:m+x}function s(l,m,x){if(m<e)throw new Error("invalid exponent, negatives unsupported");if(x<=e)throw new Error("invalid modulus");if(x===r)return e;let M=r;for(;m>e;)m&r&&(M=M*l%x),l=l*l%x,m>>=r;return M}function u(l,m,x){let M=l;for(;m-- >e;)M*=M,M%=x;return M}function v(l,m){if(l===e)throw new Error("invert: expected non-zero number");if(m<=e)throw new Error("invert: expected positive modulus, got "+m);let x=a(l,m),M=m,P=e,T=r;for(;x!==e;){const B=M/x,G=M%x,ee=P-T*B;M=x,x=G,P=T,T=ee}if(M!==r)throw new Error("invert: does not exist");return a(P,m)}function g(l){const m=(l-r)/i;let x,M,P;for(x=l-r,M=0;x%i===e;x/=i,M++);for(P=i;P<l&&s(P,m,l)!==l-r;P++)if(P>1e3)throw new Error("Cannot find square root: likely non-prime P");if(M===1){const h=(l+r)/o;return function(G,ee){const z=G.pow(ee,h);if(!G.eql(G.sqr(z),ee))throw new Error("Cannot find square root");return z}}const T=(x+r)/i;return function(B,G){if(B.pow(G,m)===B.neg(B.ONE))throw new Error("Cannot find square root");let ee=M,z=B.pow(B.mul(B.ONE,P),x),K=B.pow(G,T),re=B.pow(G,x);for(;!B.eql(re,B.ONE);){if(B.eql(re,B.ZERO))return B.ZERO;let ie=1;for(let W=B.sqr(re);ie<ee&&!B.eql(W,B.ONE);ie++)W=B.sqr(W);const Y=B.pow(z,r<<BigInt(ee-ie-1));z=B.sqr(Y),K=B.mul(K,Y),re=B.mul(re,z),ee=ie}return K}}function E(l){if(l%o===c){const m=(l+r)/o;return function(M,P){const T=M.pow(P,m);if(!M.eql(M.sqr(T),P))throw new Error("Cannot find square root");return T}}if(l%d===p){const m=(l-p)/d;return function(M,P){const T=M.mul(P,i),h=M.pow(T,m),B=M.mul(P,h),G=M.mul(M.mul(B,i),h),ee=M.mul(B,M.sub(G,M.ONE));if(!M.eql(M.sqr(ee),P))throw new Error("Cannot find square root");return ee}}return g(l)}const A=(l,m)=>(a(l,m)&r)===r;gt.isNegativeLE=A;const I=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function R(l){const m={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},x=I.reduce((M,P)=>(M[P]="function",M),m);return(0,t.validateObject)(l,x)}function U(l,m,x){if(x<e)throw new Error("invalid exponent, negatives unsupported");if(x===e)return l.ONE;if(x===r)return m;let M=l.ONE,P=m;for(;x>e;)x&r&&(M=l.mul(M,P)),P=l.sqr(P),x>>=r;return M}function k(l,m){const x=new Array(m.length),M=m.reduce((T,h,B)=>l.is0(h)?T:(x[B]=T,l.mul(T,h)),l.ONE),P=l.inv(M);return m.reduceRight((T,h,B)=>l.is0(h)?T:(x[B]=l.mul(T,x[B]),l.mul(T,h)),P),x}function H(l,m,x){return l.mul(m,typeof x=="bigint"?v(x,l.ORDER):l.inv(x))}function q(l){const m=(l-r)/i;return(x,M)=>x.pow(M,m)}function F(l){const m=q(l.ORDER);return x=>{const M=m(l,x);return l.eql(M,l.ZERO)||l.eql(M,l.ONE)}}function j(l,m){const x=m!==void 0?m:l.toString(2).length,M=Math.ceil(x/8);return{nBitLength:x,nByteLength:M}}function J(l,m,x=!1,M={}){if(l<=e)throw new Error("invalid field: expected ORDER > 0, got "+l);const{nBitLength:P,nByteLength:T}=j(l,m);if(T>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let h;const B=Object.freeze({ORDER:l,isLE:x,BITS:P,BYTES:T,MASK:(0,t.bitMask)(P),ZERO:e,ONE:r,create:G=>a(G,l),isValid:G=>{if(typeof G!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof G);return e<=G&&G<l},is0:G=>G===e,isOdd:G=>(G&r)===r,neg:G=>a(-G,l),eql:(G,ee)=>G===ee,sqr:G=>a(G*G,l),add:(G,ee)=>a(G+ee,l),sub:(G,ee)=>a(G-ee,l),mul:(G,ee)=>a(G*ee,l),pow:(G,ee)=>U(B,G,ee),div:(G,ee)=>a(G*v(ee,l),l),sqrN:G=>G*G,addN:(G,ee)=>G+ee,subN:(G,ee)=>G-ee,mulN:(G,ee)=>G*ee,inv:G=>v(G,l),sqrt:M.sqrt||(G=>(h||(h=E(l)),h(B,G))),invertBatch:G=>k(B,G),cmov:(G,ee,z)=>z?ee:G,toBytes:G=>x?(0,t.numberToBytesLE)(G,T):(0,t.numberToBytesBE)(G,T),fromBytes:G=>{if(G.length!==T)throw new Error("Field.fromBytes: expected "+T+" bytes, got "+G.length);return x?(0,t.bytesToNumberLE)(G):(0,t.bytesToNumberBE)(G)}});return Object.freeze(B)}function te(l,m){if(!l.isOdd)throw new Error("Field doesn't have isOdd");const x=l.sqrt(m);return l.isOdd(x)?x:l.neg(x)}function D(l,m){if(!l.isOdd)throw new Error("Field doesn't have isOdd");const x=l.sqrt(m);return l.isOdd(x)?l.neg(x):x}function X(l,m,x=!1){l=(0,t.ensureBytes)("privateHash",l);const M=l.length,P=j(m).nByteLength+8;if(P<24||M<P||M>1024)throw new Error("hashToPrivateScalar: expected "+P+"-1024 bytes of input, got "+M);const T=x?(0,t.bytesToNumberLE)(l):(0,t.bytesToNumberBE)(l);return a(T,m-r)+r}function b(l){if(typeof l!="bigint")throw new Error("field order must be bigint");const m=l.toString(2).length;return Math.ceil(m/8)}function n(l){const m=b(l);return m+Math.ceil(m/2)}function f(l,m,x=!1){const M=l.length,P=b(m),T=n(m);if(M<16||M<T||M>1024)throw new Error("expected "+T+"-1024 bytes of input, got "+M);const h=x?(0,t.bytesToNumberLE)(l):(0,t.bytesToNumberBE)(l),B=a(h,m-r)+r;return x?(0,t.numberToBytesLE)(B,P):(0,t.numberToBytesBE)(B,P)}return gt}var Fa;function Mf(){if(Fa)return wr;Fa=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.wNAF=g,wr.pippenger=E,wr.precomputeMSMUnsafe=A,wr.validateBasic=I;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=xn(),e=Br(),r=BigInt(0),i=BigInt(1);function c(R,U){const k=U.negate();return R?k:U}function o(R,U){if(!Number.isSafeInteger(R)||R<=0||R>U)throw new Error("invalid window size, expected [1.."+U+"], got W="+R)}function p(R,U){o(R,U);const k=Math.ceil(U/R)+1,H=2**(R-1);return{windows:k,windowSize:H}}function d(R,U){if(!Array.isArray(R))throw new Error("array expected");R.forEach((k,H)=>{if(!(k instanceof U))throw new Error("invalid point at index "+H)})}function a(R,U){if(!Array.isArray(R))throw new Error("array of scalars expected");R.forEach((k,H)=>{if(!U.isValid(k))throw new Error("invalid scalar at index "+H)})}const s=new WeakMap,u=new WeakMap;function v(R){return u.get(R)||1}function g(R,U){return{constTimeNegate:c,hasPrecomputes(k){return v(k)!==1},unsafeLadder(k,H,q=R.ZERO){let F=k;for(;H>r;)H&i&&(q=q.add(F)),F=F.double(),H>>=i;return q},precomputeWindow(k,H){const{windows:q,windowSize:F}=p(H,U),j=[];let J=k,te=J;for(let D=0;D<q;D++){te=J,j.push(te);for(let X=1;X<F;X++)te=te.add(J),j.push(te);J=te.double()}return j},wNAF(k,H,q){const{windows:F,windowSize:j}=p(k,U);let J=R.ZERO,te=R.BASE;const D=BigInt(2**k-1),X=2**k,b=BigInt(k);for(let n=0;n<F;n++){const f=n*j;let l=Number(q&D);q>>=b,l>j&&(l-=X,q+=i);const m=f,x=f+Math.abs(l)-1,M=n%2!==0,P=l<0;l===0?te=te.add(c(M,H[m])):J=J.add(c(P,H[x]))}return{p:J,f:te}},wNAFUnsafe(k,H,q,F=R.ZERO){const{windows:j,windowSize:J}=p(k,U),te=BigInt(2**k-1),D=2**k,X=BigInt(k);for(let b=0;b<j;b++){const n=b*J;if(q===r)break;let f=Number(q&te);if(q>>=X,f>J&&(f-=D,q+=i),f===0)continue;let l=H[n+Math.abs(f)-1];f<0&&(l=l.negate()),F=F.add(l)}return F},getPrecomputes(k,H,q){let F=s.get(H);return F||(F=this.precomputeWindow(H,k),k!==1&&s.set(H,q(F))),F},wNAFCached(k,H,q){const F=v(k);return this.wNAF(F,this.getPrecomputes(F,k,q),H)},wNAFCachedUnsafe(k,H,q,F){const j=v(k);return j===1?this.unsafeLadder(k,H,F):this.wNAFUnsafe(j,this.getPrecomputes(j,k,q),H,F)},setWindowSize(k,H){o(H,U),u.set(k,H),s.delete(k)}}}function E(R,U,k,H){if(d(k,R),a(H,U),k.length!==H.length)throw new Error("arrays of points and scalars must have equal length");const q=R.ZERO,F=(0,e.bitLen)(BigInt(k.length)),j=F>12?F-3:F>4?F-2:F?2:1,J=(1<<j)-1,te=new Array(J+1).fill(q),D=Math.floor((U.BITS-1)/j)*j;let X=q;for(let b=D;b>=0;b-=j){te.fill(q);for(let f=0;f<H.length;f++){const l=H[f],m=Number(l>>BigInt(b)&BigInt(J));te[m]=te[m].add(k[f])}let n=q;for(let f=te.length-1,l=q;f>0;f--)l=l.add(te[f]),n=n.add(l);if(X=X.add(n),b!==0)for(let f=0;f<j;f++)X=X.double()}return X}function A(R,U,k,H){o(H,U.BITS),d(k,R);const q=R.ZERO,F=2**H-1,j=Math.ceil(U.BITS/H),J=BigInt((1<<H)-1),te=k.map(D=>{const X=[];for(let b=0,n=D;b<F;b++)X.push(n),n=n.add(D);return X});return D=>{if(a(D,U),D.length>k.length)throw new Error("array of scalars must be smaller than array of points");let X=q;for(let b=0;b<j;b++){if(X!==q)for(let f=0;f<H;f++)X=X.double();const n=BigInt(j*H-(b+1)*H);for(let f=0;f<D.length;f++){const l=D[f],m=Number(l>>n&J);m&&(X=X.add(te[f][m-1]))}}return X}}function I(R){return(0,t.validateField)(R.Fp),(0,e.validateObject)(R,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,t.nLength)(R.n,R.nBitLength),...R,p:R.Fp.ORDER})}return wr}var Tn={},ja;function il(){if(ja)return Tn;ja=1,Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.twistedEdwards=u;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Mf(),e=xn(),r=Br(),i=Br(),c=BigInt(0),o=BigInt(1),p=BigInt(2),d=BigInt(8),a={zip215:!0};function s(v){const g=(0,t.validateBasic)(v);return r.validateObject(v,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...g})}function u(v){const g=s(v),{Fp:E,n:A,prehash:I,hash:R,randomBytes:U,nByteLength:k,h:H}=g,q=p<<BigInt(k*8)-o,F=E.create,j=(0,e.Field)(g.n,g.nBitLength),J=g.uvRatio||((ie,Y)=>{try{return{isValid:!0,value:E.sqrt(ie*E.inv(Y))}}catch{return{isValid:!1,value:c}}}),te=g.adjustScalarBytes||(ie=>ie),D=g.domain||((ie,Y,W)=>{if((0,i.abool)("phflag",W),Y.length||W)throw new Error("Contexts/pre-hash are not supported");return ie});function X(ie,Y){r.aInRange("coordinate "+ie,Y,c,q)}function b(ie){if(!(ie instanceof l))throw new Error("ExtendedPoint expected")}const n=(0,i.memoized)((ie,Y)=>{const{ex:W,ey:ne,ez:ue}=ie,pe=ie.is0();Y==null&&(Y=pe?d:E.inv(ue));const ae=F(W*Y),be=F(ne*Y),ye=F(ue*Y);if(pe)return{x:c,y:o};if(ye!==o)throw new Error("invZ was invalid");return{x:ae,y:be}}),f=(0,i.memoized)(ie=>{const{a:Y,d:W}=g;if(ie.is0())throw new Error("bad point: ZERO");const{ex:ne,ey:ue,ez:pe,et:ae}=ie,be=F(ne*ne),ye=F(ue*ue),he=F(pe*pe),Se=F(he*he),_e=F(be*Y),Te=F(he*F(_e+ye)),Ge=F(Se+F(W*F(be*ye)));if(Te!==Ge)throw new Error("bad point: equation left != right (1)");const Oe=F(ne*ue),Ue=F(pe*ae);if(Oe!==Ue)throw new Error("bad point: equation left != right (2)");return!0});class l{constructor(Y,W,ne,ue){this.ex=Y,this.ey=W,this.ez=ne,this.et=ue,X("x",Y),X("y",W),X("z",ne),X("t",ue),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Y){if(Y instanceof l)throw new Error("extended point not allowed");const{x:W,y:ne}=Y||{};return X("x",W),X("y",ne),new l(W,ne,o,F(W*ne))}static normalizeZ(Y){const W=E.invertBatch(Y.map(ne=>ne.ez));return Y.map((ne,ue)=>ne.toAffine(W[ue])).map(l.fromAffine)}static msm(Y,W){return(0,t.pippenger)(l,j,Y,W)}_setWindowSize(Y){M.setWindowSize(this,Y)}assertValidity(){f(this)}equals(Y){b(Y);const{ex:W,ey:ne,ez:ue}=this,{ex:pe,ey:ae,ez:be}=Y,ye=F(W*be),he=F(pe*ue),Se=F(ne*be),_e=F(ae*ue);return ye===he&&Se===_e}is0(){return this.equals(l.ZERO)}negate(){return new l(F(-this.ex),this.ey,this.ez,F(-this.et))}double(){const{a:Y}=g,{ex:W,ey:ne,ez:ue}=this,pe=F(W*W),ae=F(ne*ne),be=F(p*F(ue*ue)),ye=F(Y*pe),he=W+ne,Se=F(F(he*he)-pe-ae),_e=ye+ae,Te=_e-be,Ge=ye-ae,Oe=F(Se*Te),Ue=F(_e*Ge),Ze=F(Se*Ge),He=F(Te*_e);return new l(Oe,Ue,He,Ze)}add(Y){b(Y);const{a:W,d:ne}=g,{ex:ue,ey:pe,ez:ae,et:be}=this,{ex:ye,ey:he,ez:Se,et:_e}=Y;if(W===BigInt(-1)){const Z=F((pe-ue)*(he+ye)),se=F((pe+ue)*(he-ye)),ce=F(se-Z);if(ce===c)return this.double();const Ce=F(ae*p*_e),ot=F(be*p*Se),ke=ot+Ce,$e=se+Z,rt=ot-Ce,ht=F(ke*ce),vt=F($e*rt),cr=F(ke*rt),mt=F(ce*$e);return new l(ht,vt,mt,cr)}const Te=F(ue*ye),Ge=F(pe*he),Oe=F(be*ne*_e),Ue=F(ae*Se),Ze=F((ue+pe)*(ye+he)-Te-Ge),He=Ue-Oe,We=Ue+Oe,xt=F(Ge-W*Te),C=F(Ze*He),w=F(We*xt),_=F(Ze*xt),$=F(He*We);return new l(C,w,$,_)}subtract(Y){return this.add(Y.negate())}wNAF(Y){return M.wNAFCached(this,Y,l.normalizeZ)}multiply(Y){const W=Y;r.aInRange("scalar",W,o,A);const{p:ne,f:ue}=this.wNAF(W);return l.normalizeZ([ne,ue])[0]}multiplyUnsafe(Y,W=l.ZERO){const ne=Y;return r.aInRange("scalar",ne,c,A),ne===c?x:this.is0()||ne===o?this:M.wNAFCachedUnsafe(this,ne,l.normalizeZ,W)}isSmallOrder(){return this.multiplyUnsafe(H).is0()}isTorsionFree(){return M.unsafeLadder(this,A).is0()}toAffine(Y){return n(this,Y)}clearCofactor(){const{h:Y}=g;return Y===o?this:this.multiplyUnsafe(Y)}static fromHex(Y,W=!1){const{d:ne,a:ue}=g,pe=E.BYTES;Y=(0,i.ensureBytes)("pointHex",Y,pe),(0,i.abool)("zip215",W);const ae=Y.slice(),be=Y[pe-1];ae[pe-1]=be&-129;const ye=r.bytesToNumberLE(ae),he=W?q:E.ORDER;r.aInRange("pointHex.y",ye,c,he);const Se=F(ye*ye),_e=F(Se-o),Te=F(ne*Se-ue);let{isValid:Ge,value:Oe}=J(_e,Te);if(!Ge)throw new Error("Point.fromHex: invalid y coordinate");const Ue=(Oe&o)===o,Ze=(be&128)!==0;if(!W&&Oe===c&&Ze)throw new Error("Point.fromHex: x=0 and x_0=1");return Ze!==Ue&&(Oe=F(-Oe)),l.fromAffine({x:Oe,y:ye})}static fromPrivateKey(Y){return h(Y).point}toRawBytes(){const{x:Y,y:W}=this.toAffine(),ne=r.numberToBytesLE(W,E.BYTES);return ne[ne.length-1]|=Y&o?128:0,ne}toHex(){return r.bytesToHex(this.toRawBytes())}}l.BASE=new l(g.Gx,g.Gy,o,F(g.Gx*g.Gy)),l.ZERO=new l(c,o,o,c);const{BASE:m,ZERO:x}=l,M=(0,t.wNAF)(l,k*8);function P(ie){return(0,e.mod)(ie,A)}function T(ie){return P(r.bytesToNumberLE(ie))}function h(ie){const Y=E.BYTES;ie=(0,i.ensureBytes)("private key",ie,Y);const W=(0,i.ensureBytes)("hashed private key",R(ie),2*Y),ne=te(W.slice(0,Y)),ue=W.slice(Y,2*Y),pe=T(ne),ae=m.multiply(pe),be=ae.toRawBytes();return{head:ne,prefix:ue,scalar:pe,point:ae,pointBytes:be}}function B(ie){return h(ie).pointBytes}function G(ie=new Uint8Array,...Y){const W=r.concatBytes(...Y);return T(R(D(W,(0,i.ensureBytes)("context",ie),!!I)))}function ee(ie,Y,W={}){ie=(0,i.ensureBytes)("message",ie),I&&(ie=I(ie));const{prefix:ne,scalar:ue,pointBytes:pe}=h(Y),ae=G(W.context,ne,ie),be=m.multiply(ae).toRawBytes(),ye=G(W.context,be,pe,ie),he=P(ae+ye*ue);r.aInRange("signature.s",he,c,A);const Se=r.concatBytes(be,r.numberToBytesLE(he,E.BYTES));return(0,i.ensureBytes)("result",Se,E.BYTES*2)}const z=a;function K(ie,Y,W,ne=z){const{context:ue,zip215:pe}=ne,ae=E.BYTES;ie=(0,i.ensureBytes)("signature",ie,2*ae),Y=(0,i.ensureBytes)("message",Y),W=(0,i.ensureBytes)("publicKey",W,ae),pe!==void 0&&(0,i.abool)("zip215",pe),I&&(Y=I(Y));const be=r.bytesToNumberLE(ie.slice(ae,2*ae));let ye,he,Se;try{ye=l.fromHex(W,pe),he=l.fromHex(ie.slice(0,ae),pe),Se=m.multiplyUnsafe(be)}catch{return!1}if(!pe&&ye.isSmallOrder())return!1;const _e=G(ue,he.toRawBytes(),ye.toRawBytes(),Y);return he.add(ye.multiplyUnsafe(_e)).subtract(Se).clearCofactor().equals(l.ZERO)}return m._setWindowSize(8),{CURVE:g,getPublicKey:B,sign:ee,verify:K,ExtendedPoint:l,utils:{getExtendedPublicKey:h,randomPrivateKey:()=>U(E.BYTES),precompute(ie=8,Y=l.BASE){return Y._setWindowSize(ie),Y.multiply(BigInt(3)),Y}}}}return Tn}var tr={},za;function ol(){if(za)return tr;za=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.expand_message_xmd=p,tr.expand_message_xof=d,tr.hash_to_field=a,tr.isogenyMap=s,tr.createHasher=u;const t=xn(),e=Br(),r=e.bytesToNumberBE;function i(v,g){if(o(v),o(g),v<0||v>=1<<8*g)throw new Error("invalid I2OSP input: "+v);const E=Array.from({length:g}).fill(0);for(let A=g-1;A>=0;A--)E[A]=v&255,v>>>=8;return new Uint8Array(E)}function c(v,g){const E=new Uint8Array(v.length);for(let A=0;A<v.length;A++)E[A]=v[A]^g[A];return E}function o(v){if(!Number.isSafeInteger(v))throw new Error("number expected")}function p(v,g,E,A){(0,e.abytes)(v),(0,e.abytes)(g),o(E),g.length>255&&(g=A((0,e.concatBytes)((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-"),g)));const{outputLen:I,blockLen:R}=A,U=Math.ceil(E/I);if(E>65535||U>255)throw new Error("expand_message_xmd: invalid lenInBytes");const k=(0,e.concatBytes)(g,i(g.length,1)),H=i(0,R),q=i(E,2),F=new Array(U),j=A((0,e.concatBytes)(H,v,q,i(0,1),k));F[0]=A((0,e.concatBytes)(j,i(1,1),k));for(let te=1;te<=U;te++){const D=[c(j,F[te-1]),i(te+1,1),k];F[te]=A((0,e.concatBytes)(...D))}return(0,e.concatBytes)(...F).slice(0,E)}function d(v,g,E,A,I){if((0,e.abytes)(v),(0,e.abytes)(g),o(E),g.length>255){const R=Math.ceil(2*A/8);g=I.create({dkLen:R}).update((0,e.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(g).digest()}if(E>65535||g.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return I.create({dkLen:E}).update(v).update(i(E,2)).update(g).update(i(g.length,1)).digest()}function a(v,g,E){(0,e.validateObject)(E,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:A,k:I,m:R,hash:U,expand:k,DST:H}=E;(0,e.abytes)(v),o(g);const q=typeof H=="string"?(0,e.utf8ToBytes)(H):H,F=A.toString(2).length,j=Math.ceil((F+I)/8),J=g*R*j;let te;if(k==="xmd")te=p(v,q,J,U);else if(k==="xof")te=d(v,q,J,I,U);else if(k==="_internal_pass")te=v;else throw new Error('expand must be "xmd" or "xof"');const D=new Array(g);for(let X=0;X<g;X++){const b=new Array(R);for(let n=0;n<R;n++){const f=j*(n+X*R),l=te.subarray(f,f+j);b[n]=(0,t.mod)(r(l),A)}D[X]=b}return D}function s(v,g){const E=g.map(A=>Array.from(A).reverse());return(A,I)=>{const[R,U,k,H]=E.map(q=>q.reduce((F,j)=>v.add(v.mul(F,A),j)));return A=v.div(R,U),I=v.mul(I,v.div(k,H)),{x:A,y:I}}}function u(v,g,E){if(typeof g!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(A,I){const R=a(A,2,{...E,DST:E.DST,...I}),U=v.fromAffine(g(R[0])),k=v.fromAffine(g(R[1])),H=U.add(k).clearCofactor();return H.assertValidity(),H},encodeToCurve(A,I){const R=a(A,1,{...E,DST:E.encodeDST,...I}),U=v.fromAffine(g(R[0])).clearCofactor();return U.assertValidity(),U},mapToCurve(A){if(!Array.isArray(A))throw new Error("mapToCurve: expected array of bigints");for(const R of A)if(typeof R!="bigint")throw new Error("mapToCurve: expected array of bigints");const I=v.fromAffine(g(A)).clearCofactor();return I.assertValidity(),I}}}return tr}var Bn={},Ha;function al(){if(Ha)return Bn;Ha=1,Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.montgomery=o;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=xn(),e=Br(),r=BigInt(0),i=BigInt(1);function c(p){return(0,e.validateObject)(p,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...p})}function o(p){const d=c(p),{P:a}=d,s=te=>(0,t.mod)(te,a),u=d.montgomeryBits,v=Math.ceil(u/8),g=d.nByteLength,E=d.adjustScalarBytes||(te=>te),A=d.powPminus2||(te=>(0,t.pow)(te,a-BigInt(2),a));function I(te,D,X){const b=s(te*(D-X));return D=s(D-b),X=s(X+b),[D,X]}const R=(d.a-BigInt(2))/BigInt(4);function U(te,D){(0,e.aInRange)("u",te,r,a),(0,e.aInRange)("scalar",D,r,a);const X=D,b=te;let n=i,f=r,l=te,m=i,x=r,M;for(let T=BigInt(u-1);T>=r;T--){const h=X>>T&i;x^=h,M=I(x,n,l),n=M[0],l=M[1],M=I(x,f,m),f=M[0],m=M[1],x=h;const B=n+f,G=s(B*B),ee=n-f,z=s(ee*ee),K=G-z,re=l+m,ie=l-m,Y=s(ie*B),W=s(re*ee),ne=Y+W,ue=Y-W;l=s(ne*ne),m=s(b*s(ue*ue)),n=s(G*z),f=s(K*(G+s(R*K)))}M=I(x,n,l),n=M[0],l=M[1],M=I(x,f,m),f=M[0],m=M[1];const P=A(f);return s(n*P)}function k(te){return(0,e.numberToBytesLE)(s(te),v)}function H(te){const D=(0,e.ensureBytes)("u coordinate",te,v);return g===32&&(D[31]&=127),(0,e.bytesToNumberLE)(D)}function q(te){const D=(0,e.ensureBytes)("scalar",te),X=D.length;if(X!==v&&X!==g){let b=""+v+" or "+g;throw new Error("invalid scalar, expected "+b+" bytes, got "+X)}return(0,e.bytesToNumberLE)(E(D))}function F(te,D){const X=H(D),b=q(te),n=U(X,b);if(n===r)throw new Error("invalid private or public key received");return k(n)}const j=k(d.Gu);function J(te){return F(te,j)}return{scalarMult:F,scalarMultBase:J,getSharedSecret:(te,D)=>F(te,D),getPublicKey:te=>J(te),utils:{randomPrivateKey:()=>d.randomBytes(d.nByteLength)},GuBytes:j}}return Bn}var Ka;function If(){return Ka||(Ka=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=J,t.edwardsToMontgomeryPriv=te;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=nl(),r=Io(),i=Mf(),c=il(),o=ol(),p=xn(),d=al(),a=Br(),s=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),v=BigInt(0),g=BigInt(1),E=BigInt(2),A=BigInt(3),I=BigInt(5),R=BigInt(8);function U(Y){const W=BigInt(10),ne=BigInt(20),ue=BigInt(40),pe=BigInt(80),ae=s,ye=Y*Y%ae*Y%ae,he=(0,p.pow2)(ye,E,ae)*ye%ae,Se=(0,p.pow2)(he,g,ae)*Y%ae,_e=(0,p.pow2)(Se,I,ae)*Se%ae,Te=(0,p.pow2)(_e,W,ae)*_e%ae,Ge=(0,p.pow2)(Te,ne,ae)*Te%ae,Oe=(0,p.pow2)(Ge,ue,ae)*Ge%ae,Ue=(0,p.pow2)(Oe,pe,ae)*Oe%ae,Ze=(0,p.pow2)(Ue,pe,ae)*Oe%ae,He=(0,p.pow2)(Ze,W,ae)*_e%ae;return{pow_p_5_8:(0,p.pow2)(He,E,ae)*Y%ae,b2:ye}}function k(Y){return Y[0]&=248,Y[31]&=127,Y[31]|=64,Y}function H(Y,W){const ne=s,ue=(0,p.mod)(W*W*W,ne),pe=(0,p.mod)(ue*ue*W,ne),ae=U(Y*pe).pow_p_5_8;let be=(0,p.mod)(Y*ue*ae,ne);const ye=(0,p.mod)(W*be*be,ne),he=be,Se=(0,p.mod)(be*u,ne),_e=ye===Y,Te=ye===(0,p.mod)(-Y,ne),Ge=ye===(0,p.mod)(-Y*u,ne);return _e&&(be=he),(Te||Ge)&&(be=Se),(0,p.isNegativeLE)(be,ne)&&(be=(0,p.mod)(-be,ne)),{isValid:_e||Te,value:be}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const q=(0,p.Field)(s,void 0,!0),F={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:q,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:R,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:r.randomBytes,adjustScalarBytes:k,uvRatio:H};t.ed25519=(0,c.twistedEdwards)(F);function j(Y,W,ne){if(W.length>255)throw new Error("Context is too big");return(0,r.concatBytes)((0,r.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([ne?1:0,W.length]),W,Y)}t.ed25519ctx=(0,c.twistedEdwards)({...F,domain:j}),t.ed25519ph=(0,c.twistedEdwards)(Object.assign({},F,{domain:j,prehash:e.sha512})),t.x25519=(0,d.montgomery)({P:s,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Y=>{const W=s,{pow_p_5_8:ne,b2:ue}=U(Y);return(0,p.mod)((0,p.pow2)(ne,A,W)*ue,W)},adjustScalarBytes:k,randomBytes:r.randomBytes});function J(Y){const{y:W}=t.ed25519.ExtendedPoint.fromHex(Y),ne=BigInt(1);return q.toBytes(q.create((ne+W)*q.inv(ne-W)))}t.edwardsToMontgomery=J;function te(Y){const W=F.hash(Y.subarray(0,32));return F.adjustScalarBytes(W).subarray(0,32)}const D=(q.ORDER+A)/R,X=q.pow(E,D),b=q.sqrt(q.neg(q.ONE));function n(Y){const W=(q.ORDER-I)/R,ne=BigInt(486662);let ue=q.sqr(Y);ue=q.mul(ue,E);let pe=q.add(ue,q.ONE),ae=q.neg(ne),be=q.sqr(pe),ye=q.mul(be,pe),he=q.mul(ue,ne);he=q.mul(he,ae),he=q.add(he,be),he=q.mul(he,ae);let Se=q.sqr(ye);be=q.sqr(Se),Se=q.mul(Se,ye),Se=q.mul(Se,he),be=q.mul(be,Se);let _e=q.pow(be,W);_e=q.mul(_e,Se);let Te=q.mul(_e,b);be=q.sqr(_e),be=q.mul(be,ye);let Ge=q.eql(be,he),Oe=q.cmov(Te,_e,Ge),Ue=q.mul(ae,ue),Ze=q.mul(_e,Y);Ze=q.mul(Ze,X);let He=q.mul(Ze,b),We=q.mul(he,ue);be=q.sqr(Ze),be=q.mul(be,ye);let xt=q.eql(be,We),C=q.cmov(He,Ze,xt);be=q.sqr(Oe),be=q.mul(be,ye);let w=q.eql(be,he),_=q.cmov(Ue,ae,w),$=q.cmov(C,Oe,w),Z=q.isOdd($);return $=q.cmov($,q.neg($),w!==Z),{xMn:_,xMd:pe,yMn:$,yMd:g}}const f=(0,p.FpSqrtEven)(q,q.neg(BigInt(486664)));function l(Y){const{xMn:W,xMd:ne,yMn:ue,yMd:pe}=n(Y);let ae=q.mul(W,pe);ae=q.mul(ae,f);let be=q.mul(ne,ue),ye=q.sub(W,ne),he=q.add(W,ne),Se=q.mul(be,he),_e=q.eql(Se,q.ZERO);ae=q.cmov(ae,q.ZERO,_e),be=q.cmov(be,q.ONE,_e),ye=q.cmov(ye,q.ONE,_e),he=q.cmov(he,q.ONE,_e);const Te=q.invertBatch([be,he]);return{x:q.mul(ae,Te[0]),y:q.mul(ye,Te[1])}}const m=(0,o.createHasher)(t.ed25519.ExtendedPoint,Y=>l(Y[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:q.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512});t.hashToCurve=m.hashToCurve,t.encodeToCurve=m.encodeToCurve;function x(Y){if(!(Y instanceof re))throw new Error("RistrettoPoint expected")}const M=u,P=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),T=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),h=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),B=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),G=Y=>H(g,Y),ee=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),z=Y=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Y)&ee);function K(Y){const{d:W}=t.ed25519.CURVE,ne=t.ed25519.CURVE.Fp.ORDER,ue=t.ed25519.CURVE.Fp.create,pe=ue(M*Y*Y),ae=ue((pe+g)*h);let be=BigInt(-1);const ye=ue((be-W*pe)*ue(pe+W));let{isValid:he,value:Se}=H(ae,ye),_e=ue(Se*Y);(0,p.isNegativeLE)(_e,ne)||(_e=ue(-_e)),he||(Se=_e),he||(be=pe);const Te=ue(be*(pe-g)*B-ye),Ge=Se*Se,Oe=ue((Se+Se)*ye),Ue=ue(Te*P),Ze=ue(g-Ge),He=ue(g+Ge);return new t.ed25519.ExtendedPoint(ue(Oe*He),ue(Ze*Ue),ue(Ue*He),ue(Oe*Ze))}class re{constructor(W){this.ep=W}static fromAffine(W){return new re(t.ed25519.ExtendedPoint.fromAffine(W))}static hashToCurve(W){W=(0,a.ensureBytes)("ristrettoHash",W,64);const ne=z(W.slice(0,32)),ue=K(ne),pe=z(W.slice(32,64)),ae=K(pe);return new re(ue.add(ae))}static fromHex(W){W=(0,a.ensureBytes)("ristrettoHex",W,32);const{a:ne,d:ue}=t.ed25519.CURVE,pe=t.ed25519.CURVE.Fp.ORDER,ae=t.ed25519.CURVE.Fp.create,be="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ye=z(W);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ye,32),W)||(0,p.isNegativeLE)(ye,pe))throw new Error(be);const he=ae(ye*ye),Se=ae(g+ne*he),_e=ae(g-ne*he),Te=ae(Se*Se),Ge=ae(_e*_e),Oe=ae(ne*ue*Te-Ge),{isValid:Ue,value:Ze}=G(ae(Oe*Ge)),He=ae(Ze*_e),We=ae(Ze*He*Oe);let xt=ae((ye+ye)*He);(0,p.isNegativeLE)(xt,pe)&&(xt=ae(-xt));const C=ae(Se*We),w=ae(xt*C);if(!Ue||(0,p.isNegativeLE)(w,pe)||C===v)throw new Error(be);return new re(new t.ed25519.ExtendedPoint(xt,C,g,w))}static msm(W,ne){const ue=(0,p.Field)(t.ed25519.CURVE.n,t.ed25519.CURVE.nBitLength);return(0,i.pippenger)(re,ue,W,ne)}toRawBytes(){let{ex:W,ey:ne,ez:ue,et:pe}=this.ep;const ae=t.ed25519.CURVE.Fp.ORDER,be=t.ed25519.CURVE.Fp.create,ye=be(be(ue+ne)*be(ue-ne)),he=be(W*ne),Se=be(he*he),{value:_e}=G(be(ye*Se)),Te=be(_e*ye),Ge=be(_e*he),Oe=be(Te*Ge*pe);let Ue;if((0,p.isNegativeLE)(pe*Oe,ae)){let He=be(ne*M),We=be(W*M);W=He,ne=We,Ue=be(Te*T)}else Ue=Ge;(0,p.isNegativeLE)(W*Oe,ae)&&(ne=be(-ne));let Ze=be((ue-ne)*Ue);return(0,p.isNegativeLE)(Ze,ae)&&(Ze=be(-Ze)),(0,a.numberToBytesLE)(Ze,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(W){x(W);const{ex:ne,ey:ue}=this.ep,{ex:pe,ey:ae}=W.ep,be=t.ed25519.CURVE.Fp.create,ye=be(ne*ae)===be(ue*pe),he=be(ue*ae)===be(ne*pe);return ye||he}add(W){return x(W),new re(this.ep.add(W.ep))}subtract(W){return x(W),new re(this.ep.subtract(W.ep))}multiply(W){return new re(this.ep.multiply(W))}multiplyUnsafe(W){return new re(this.ep.multiplyUnsafe(W))}double(){return new re(this.ep.double())}negate(){return new re(this.ep.negate())}}t.RistrettoPoint=(re.BASE||(re.BASE=new re(t.ed25519.ExtendedPoint.BASE)),re.ZERO||(re.ZERO=new re(t.ed25519.ExtendedPoint.ZERO)),re);const ie=(Y,W)=>{const ne=W.DST,ue=typeof ne=="string"?(0,r.utf8ToBytes)(ne):ne,pe=(0,o.expand_message_xmd)(Y,ue,64,e.sha512);return re.hashToCurve(pe)};t.hashToRistretto255=ie,t.hash_to_ristretto255=t.hashToRistretto255})(vi)),vi}var Rn={exports:{}},Cn={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Wa;function sl(){return Wa||(Wa=1,(function(t,e){var r=Gn(),i=r.Buffer;function c(p,d){for(var a in p)d[a]=p[a]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(c(r,e),e.Buffer=o);function o(p,d,a){return i(p,d,a)}o.prototype=Object.create(i.prototype),c(i,o),o.from=function(p,d,a){if(typeof p=="number")throw new TypeError("Argument must not be a number");return i(p,d,a)},o.alloc=function(p,d,a){if(typeof p!="number")throw new TypeError("Argument must be a number");var s=i(p);return d!==void 0?typeof a=="string"?s.fill(d,a):s.fill(d):s.fill(0),s},o.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return i(p)},o.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(p)}})(Cn,Cn.exports)),Cn.exports}var Va;function Tf(){if(Va)return Rn.exports;Va=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var i=sl().Buffer,c=globalThis.crypto||globalThis.msCrypto;c&&c.getRandomValues?Rn.exports=o:Rn.exports=r;function o(p,d){if(p>e)throw new RangeError("requested too many random bytes");var a=i.allocUnsafe(p);if(p>0)if(p>t)for(var s=0;s<p;s+=t)c.getRandomValues(a.slice(s,s+t));else c.getRandomValues(a);return typeof d=="function"?process.nextTick(function(){d(null,a)}):a}return Rn.exports}var xr={},mi,Ga;function fl(){if(Ga)return mi;Ga=1;const t={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function e(p,d){if(!p)throw new Error(d)}function r(p,d,a){if(e(d instanceof Uint8Array,`Expected ${p} to be an Uint8Array`),a!==void 0)if(Array.isArray(a)){const s=a.join(", "),u=`Expected ${p} to be an Uint8Array with length [${s}]`;e(a.includes(d.length),u)}else{const s=`Expected ${p} to be an Uint8Array with length ${a}`;e(d.length===a,s)}}function i(p){e(o(p)==="Boolean","Expected compressed to be a Boolean")}function c(p=a=>new Uint8Array(a),d){return typeof p=="function"&&(p=p(d)),r("output",p,d),p}function o(p){return Object.prototype.toString.call(p).slice(8,-1)}return mi=p=>({contextRandomize(d){switch(e(d===null||d instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),d!==null&&r("seed",d,32),p.contextRandomize(d)){case 1:throw new Error(t.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(d){return r("private key",d,32),p.privateKeyVerify(d)===0},privateKeyNegate(d){switch(r("private key",d,32),p.privateKeyNegate(d)){case 0:return d;case 1:throw new Error(t.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(d,a){switch(r("private key",d,32),r("tweak",a,32),p.privateKeyTweakAdd(d,a)){case 0:return d;case 1:throw new Error(t.TWEAK_ADD)}},privateKeyTweakMul(d,a){switch(r("private key",d,32),r("tweak",a,32),p.privateKeyTweakMul(d,a)){case 0:return d;case 1:throw new Error(t.TWEAK_MUL)}},publicKeyVerify(d){return r("public key",d,[33,65]),p.publicKeyVerify(d)===0},publicKeyCreate(d,a=!0,s){switch(r("private key",d,32),i(a),s=c(s,a?33:65),p.publicKeyCreate(s,d)){case 0:return s;case 1:throw new Error(t.SECKEY_INVALID);case 2:throw new Error(t.PUBKEY_SERIALIZE)}},publicKeyConvert(d,a=!0,s){switch(r("public key",d,[33,65]),i(a),s=c(s,a?33:65),p.publicKeyConvert(s,d)){case 0:return s;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.PUBKEY_SERIALIZE)}},publicKeyNegate(d,a=!0,s){switch(r("public key",d,[33,65]),i(a),s=c(s,a?33:65),p.publicKeyNegate(s,d)){case 0:return s;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.IMPOSSIBLE_CASE);case 3:throw new Error(t.PUBKEY_SERIALIZE)}},publicKeyCombine(d,a=!0,s){e(Array.isArray(d),"Expected public keys to be an Array"),e(d.length>0,"Expected public keys array will have more than zero items");for(const u of d)r("public key",u,[33,65]);switch(i(a),s=c(s,a?33:65),p.publicKeyCombine(s,d)){case 0:return s;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.PUBKEY_COMBINE);case 3:throw new Error(t.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(d,a,s=!0,u){switch(r("public key",d,[33,65]),r("tweak",a,32),i(s),u=c(u,s?33:65),p.publicKeyTweakAdd(u,d,a)){case 0:return u;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.TWEAK_ADD)}},publicKeyTweakMul(d,a,s=!0,u){switch(r("public key",d,[33,65]),r("tweak",a,32),i(s),u=c(u,s?33:65),p.publicKeyTweakMul(u,d,a)){case 0:return u;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.TWEAK_MUL)}},signatureNormalize(d){switch(r("signature",d,64),p.signatureNormalize(d)){case 0:return d;case 1:throw new Error(t.SIG_PARSE)}},signatureExport(d,a){r("signature",d,64),a=c(a,72);const s={output:a,outputlen:72};switch(p.signatureExport(s,d)){case 0:return a.slice(0,s.outputlen);case 1:throw new Error(t.SIG_PARSE);case 2:throw new Error(t.IMPOSSIBLE_CASE)}},signatureImport(d,a){switch(r("signature",d),a=c(a,64),p.signatureImport(a,d)){case 0:return a;case 1:throw new Error(t.SIG_PARSE);case 2:throw new Error(t.IMPOSSIBLE_CASE)}},ecdsaSign(d,a,s={},u){r("message",d,32),r("private key",a,32),e(o(s)==="Object","Expected options to be an Object"),s.data!==void 0&&r("options.data",s.data),s.noncefn!==void 0&&e(o(s.noncefn)==="Function","Expected options.noncefn to be a Function"),u=c(u,64);const v={signature:u,recid:null};switch(p.ecdsaSign(v,d,a,s.data,s.noncefn)){case 0:return v;case 1:throw new Error(t.SIGN);case 2:throw new Error(t.IMPOSSIBLE_CASE)}},ecdsaVerify(d,a,s){switch(r("signature",d,64),r("message",a,32),r("public key",s,[33,65]),p.ecdsaVerify(d,a,s)){case 0:return!0;case 3:return!1;case 1:throw new Error(t.SIG_PARSE);case 2:throw new Error(t.PUBKEY_PARSE)}},ecdsaRecover(d,a,s,u=!0,v){switch(r("signature",d,64),e(o(a)==="Number"&&a>=0&&a<=3,"Expected recovery id to be a Number within interval [0, 3]"),r("message",s,32),i(u),v=c(v,u?33:65),p.ecdsaRecover(v,d,a,s)){case 0:return v;case 1:throw new Error(t.SIG_PARSE);case 2:throw new Error(t.RECOVER);case 3:throw new Error(t.IMPOSSIBLE_CASE)}},ecdh(d,a,s={},u){switch(r("public key",d,[33,65]),r("private key",a,32),e(o(s)==="Object","Expected options to be an Object"),s.data!==void 0&&r("options.data",s.data),s.hashfn!==void 0?(e(o(s.hashfn)==="Function","Expected options.hashfn to be a Function"),s.xbuf!==void 0&&r("options.xbuf",s.xbuf,32),s.ybuf!==void 0&&r("options.ybuf",s.ybuf,32),r("output",u)):u=c(u,32),p.ecdh(u,d,a,s.data,s.hashfn,s.xbuf,s.ybuf)){case 0:return u;case 1:throw new Error(t.PUBKEY_PARSE);case 2:throw new Error(t.ECDH)}}}),mi}var wi={};const cl="6.6.1",dl={version:cl};var xi={},jn={exports:{}},ul=jn.exports,Ya;function Jt(){return Ya||(Ya=1,(function(t){(function(e,r){function i(b,n){if(!b)throw new Error(n||"Assertion failed")}function c(b,n){b.super_=n;var f=function(){};f.prototype=n.prototype,b.prototype=new f,b.prototype.constructor=b}function o(b,n,f){if(o.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((n==="le"||n==="be")&&(f=n,n=10),this._init(b||0,n||10,f||"be"))}typeof e=="object"?e.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=Gn().Buffer}catch{}o.isBN=function(n){return n instanceof o?!0:n!==null&&typeof n=="object"&&n.constructor.wordSize===o.wordSize&&Array.isArray(n.words)},o.max=function(n,f){return n.cmp(f)>0?n:f},o.min=function(n,f){return n.cmp(f)<0?n:f},o.prototype._init=function(n,f,l){if(typeof n=="number")return this._initNumber(n,f,l);if(typeof n=="object")return this._initArray(n,f,l);f==="hex"&&(f=16),i(f===(f|0)&&f>=2&&f<=36),n=n.toString().replace(/\s+/g,"");var m=0;n[0]==="-"&&(m++,this.negative=1),m<n.length&&(f===16?this._parseHex(n,m,l):(this._parseBase(n,f,m),l==="le"&&this._initArray(this.toArray(),f,l)))},o.prototype._initNumber=function(n,f,l){n<0&&(this.negative=1,n=-n),n<67108864?(this.words=[n&67108863],this.length=1):n<4503599627370496?(this.words=[n&67108863,n/67108864&67108863],this.length=2):(i(n<9007199254740992),this.words=[n&67108863,n/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),f,l)},o.prototype._initArray=function(n,f,l){if(i(typeof n.length=="number"),n.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(n.length/3),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x,M,P=0;if(l==="be")for(m=n.length-1,x=0;m>=0;m-=3)M=n[m]|n[m-1]<<8|n[m-2]<<16,this.words[x]|=M<<P&67108863,this.words[x+1]=M>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);else if(l==="le")for(m=0,x=0;m<n.length;m+=3)M=n[m]|n[m+1]<<8|n[m+2]<<16,this.words[x]|=M<<P&67108863,this.words[x+1]=M>>>26-P&67108863,P+=24,P>=26&&(P-=26,x++);return this.strip()};function d(b,n){var f=b.charCodeAt(n);return f>=65&&f<=70?f-55:f>=97&&f<=102?f-87:f-48&15}function a(b,n,f){var l=d(b,f);return f-1>=n&&(l|=d(b,f-1)<<4),l}o.prototype._parseHex=function(n,f,l){this.length=Math.ceil((n.length-f)/6),this.words=new Array(this.length);for(var m=0;m<this.length;m++)this.words[m]=0;var x=0,M=0,P;if(l==="be")for(m=n.length-1;m>=f;m-=2)P=a(n,f,m)<<x,this.words[M]|=P&67108863,x>=18?(x-=18,M+=1,this.words[M]|=P>>>26):x+=8;else{var T=n.length-f;for(m=T%2===0?f+1:f;m<n.length;m+=2)P=a(n,f,m)<<x,this.words[M]|=P&67108863,x>=18?(x-=18,M+=1,this.words[M]|=P>>>26):x+=8}this.strip()};function s(b,n,f,l){for(var m=0,x=Math.min(b.length,f),M=n;M<x;M++){var P=b.charCodeAt(M)-48;m*=l,P>=49?m+=P-49+10:P>=17?m+=P-17+10:m+=P}return m}o.prototype._parseBase=function(n,f,l){this.words=[0],this.length=1;for(var m=0,x=1;x<=67108863;x*=f)m++;m--,x=x/f|0;for(var M=n.length-l,P=M%m,T=Math.min(M,M-P)+l,h=0,B=l;B<T;B+=m)h=s(n,B,B+m,f),this.imuln(x),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(P!==0){var G=1;for(h=s(n,B,n.length,f),B=0;B<P;B++)G*=f;this.imuln(G),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},o.prototype.copy=function(n){n.words=new Array(this.length);for(var f=0;f<this.length;f++)n.words[f]=this.words[f];n.length=this.length,n.negative=this.negative,n.red=this.red},o.prototype.clone=function(){var n=new o(null);return this.copy(n),n},o.prototype._expand=function(n){for(;this.length<n;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(n,f){n=n||10,f=f|0||1;var l;if(n===16||n==="hex"){l="";for(var m=0,x=0,M=0;M<this.length;M++){var P=this.words[M],T=((P<<m|x)&16777215).toString(16);x=P>>>24-m&16777215,m+=2,m>=26&&(m-=26,M--),x!==0||M!==this.length-1?l=u[6-T.length]+T+l:l=T+l}for(x!==0&&(l=x.toString(16)+l);l.length%f!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(n===(n|0)&&n>=2&&n<=36){var h=v[n],B=g[n];l="";var G=this.clone();for(G.negative=0;!G.isZero();){var ee=G.modn(B).toString(n);G=G.idivn(B),G.isZero()?l=ee+l:l=u[h-ee.length]+ee+l}for(this.isZero()&&(l="0"+l);l.length%f!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}i(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var n=this.words[0];return this.length===2?n+=this.words[1]*67108864:this.length===3&&this.words[2]===1?n+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-n:n},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(n,f){return i(typeof p<"u"),this.toArrayLike(p,n,f)},o.prototype.toArray=function(n,f){return this.toArrayLike(Array,n,f)},o.prototype.toArrayLike=function(n,f,l){var m=this.byteLength(),x=l||Math.max(1,m);i(m<=x,"byte array longer than desired length"),i(x>0,"Requested array length <= 0"),this.strip();var M=f==="le",P=new n(x),T,h,B=this.clone();if(M){for(h=0;!B.isZero();h++)T=B.andln(255),B.iushrn(8),P[h]=T;for(;h<x;h++)P[h]=0}else{for(h=0;h<x-m;h++)P[h]=0;for(h=0;!B.isZero();h++)T=B.andln(255),B.iushrn(8),P[x-h-1]=T}return P},Math.clz32?o.prototype._countBits=function(n){return 32-Math.clz32(n)}:o.prototype._countBits=function(n){var f=n,l=0;return f>=4096&&(l+=13,f>>>=13),f>=64&&(l+=7,f>>>=7),f>=8&&(l+=4,f>>>=4),f>=2&&(l+=2,f>>>=2),l+f},o.prototype._zeroBits=function(n){if(n===0)return 26;var f=n,l=0;return(f&8191)===0&&(l+=13,f>>>=13),(f&127)===0&&(l+=7,f>>>=7),(f&15)===0&&(l+=4,f>>>=4),(f&3)===0&&(l+=2,f>>>=2),(f&1)===0&&l++,l},o.prototype.bitLength=function(){var n=this.words[this.length-1],f=this._countBits(n);return(this.length-1)*26+f};function E(b){for(var n=new Array(b.bitLength()),f=0;f<n.length;f++){var l=f/26|0,m=f%26;n[f]=(b.words[l]&1<<m)>>>m}return n}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var n=0,f=0;f<this.length;f++){var l=this._zeroBits(this.words[f]);if(n+=l,l!==26)break}return n},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(n){return this.negative!==0?this.abs().inotn(n).iaddn(1):this.clone()},o.prototype.fromTwos=function(n){return this.testn(n-1)?this.notn(n).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(n){for(;this.length<n.length;)this.words[this.length++]=0;for(var f=0;f<n.length;f++)this.words[f]=this.words[f]|n.words[f];return this.strip()},o.prototype.ior=function(n){return i((this.negative|n.negative)===0),this.iuor(n)},o.prototype.or=function(n){return this.length>n.length?this.clone().ior(n):n.clone().ior(this)},o.prototype.uor=function(n){return this.length>n.length?this.clone().iuor(n):n.clone().iuor(this)},o.prototype.iuand=function(n){var f;this.length>n.length?f=n:f=this;for(var l=0;l<f.length;l++)this.words[l]=this.words[l]&n.words[l];return this.length=f.length,this.strip()},o.prototype.iand=function(n){return i((this.negative|n.negative)===0),this.iuand(n)},o.prototype.and=function(n){return this.length>n.length?this.clone().iand(n):n.clone().iand(this)},o.prototype.uand=function(n){return this.length>n.length?this.clone().iuand(n):n.clone().iuand(this)},o.prototype.iuxor=function(n){var f,l;this.length>n.length?(f=this,l=n):(f=n,l=this);for(var m=0;m<l.length;m++)this.words[m]=f.words[m]^l.words[m];if(this!==f)for(;m<f.length;m++)this.words[m]=f.words[m];return this.length=f.length,this.strip()},o.prototype.ixor=function(n){return i((this.negative|n.negative)===0),this.iuxor(n)},o.prototype.xor=function(n){return this.length>n.length?this.clone().ixor(n):n.clone().ixor(this)},o.prototype.uxor=function(n){return this.length>n.length?this.clone().iuxor(n):n.clone().iuxor(this)},o.prototype.inotn=function(n){i(typeof n=="number"&&n>=0);var f=Math.ceil(n/26)|0,l=n%26;this._expand(f),l>0&&f--;for(var m=0;m<f;m++)this.words[m]=~this.words[m]&67108863;return l>0&&(this.words[m]=~this.words[m]&67108863>>26-l),this.strip()},o.prototype.notn=function(n){return this.clone().inotn(n)},o.prototype.setn=function(n,f){i(typeof n=="number"&&n>=0);var l=n/26|0,m=n%26;return this._expand(l+1),f?this.words[l]=this.words[l]|1<<m:this.words[l]=this.words[l]&~(1<<m),this.strip()},o.prototype.iadd=function(n){var f;if(this.negative!==0&&n.negative===0)return this.negative=0,f=this.isub(n),this.negative^=1,this._normSign();if(this.negative===0&&n.negative!==0)return n.negative=0,f=this.isub(n),n.negative=1,f._normSign();var l,m;this.length>n.length?(l=this,m=n):(l=n,m=this);for(var x=0,M=0;M<m.length;M++)f=(l.words[M]|0)+(m.words[M]|0)+x,this.words[M]=f&67108863,x=f>>>26;for(;x!==0&&M<l.length;M++)f=(l.words[M]|0)+x,this.words[M]=f&67108863,x=f>>>26;if(this.length=l.length,x!==0)this.words[this.length]=x,this.length++;else if(l!==this)for(;M<l.length;M++)this.words[M]=l.words[M];return this},o.prototype.add=function(n){var f;return n.negative!==0&&this.negative===0?(n.negative=0,f=this.sub(n),n.negative^=1,f):n.negative===0&&this.negative!==0?(this.negative=0,f=n.sub(this),this.negative=1,f):this.length>n.length?this.clone().iadd(n):n.clone().iadd(this)},o.prototype.isub=function(n){if(n.negative!==0){n.negative=0;var f=this.iadd(n);return n.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(n),this.negative=1,this._normSign();var l=this.cmp(n);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var m,x;l>0?(m=this,x=n):(m=n,x=this);for(var M=0,P=0;P<x.length;P++)f=(m.words[P]|0)-(x.words[P]|0)+M,M=f>>26,this.words[P]=f&67108863;for(;M!==0&&P<m.length;P++)f=(m.words[P]|0)+M,M=f>>26,this.words[P]=f&67108863;if(M===0&&P<m.length&&m!==this)for(;P<m.length;P++)this.words[P]=m.words[P];return this.length=Math.max(this.length,P),m!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(n){return this.clone().isub(n)};function A(b,n,f){f.negative=n.negative^b.negative;var l=b.length+n.length|0;f.length=l,l=l-1|0;var m=b.words[0]|0,x=n.words[0]|0,M=m*x,P=M&67108863,T=M/67108864|0;f.words[0]=P;for(var h=1;h<l;h++){for(var B=T>>>26,G=T&67108863,ee=Math.min(h,n.length-1),z=Math.max(0,h-b.length+1);z<=ee;z++){var K=h-z|0;m=b.words[K]|0,x=n.words[z]|0,M=m*x+G,B+=M/67108864|0,G=M&67108863}f.words[h]=G|0,T=B|0}return T!==0?f.words[h]=T|0:f.length--,f.strip()}var I=function(n,f,l){var m=n.words,x=f.words,M=l.words,P=0,T,h,B,G=m[0]|0,ee=G&8191,z=G>>>13,K=m[1]|0,re=K&8191,ie=K>>>13,Y=m[2]|0,W=Y&8191,ne=Y>>>13,ue=m[3]|0,pe=ue&8191,ae=ue>>>13,be=m[4]|0,ye=be&8191,he=be>>>13,Se=m[5]|0,_e=Se&8191,Te=Se>>>13,Ge=m[6]|0,Oe=Ge&8191,Ue=Ge>>>13,Ze=m[7]|0,He=Ze&8191,We=Ze>>>13,xt=m[8]|0,C=xt&8191,w=xt>>>13,_=m[9]|0,$=_&8191,Z=_>>>13,se=x[0]|0,ce=se&8191,Ce=se>>>13,ot=x[1]|0,ke=ot&8191,$e=ot>>>13,rt=x[2]|0,ht=rt&8191,vt=rt>>>13,cr=x[3]|0,mt=cr&8191,At=cr>>>13,jt=x[4]|0,pt=jt&8191,yt=jt>>>13,Cr=x[5]|0,wt=Cr&8191,_t=Cr>>>13,An=x[6]|0,at=An&8191,Et=An>>>13,S=x[7]|0,N=S&8191,O=S>>>13,y=x[8]|0,L=y&8191,Q=y>>>13,oe=x[9]|0,le=oe&8191,me=oe>>>13;l.negative=n.negative^f.negative,l.length=19,T=Math.imul(ee,ce),h=Math.imul(ee,Ce),h=h+Math.imul(z,ce)|0,B=Math.imul(z,Ce);var Pe=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,T=Math.imul(re,ce),h=Math.imul(re,Ce),h=h+Math.imul(ie,ce)|0,B=Math.imul(ie,Ce),T=T+Math.imul(ee,ke)|0,h=h+Math.imul(ee,$e)|0,h=h+Math.imul(z,ke)|0,B=B+Math.imul(z,$e)|0;var Ae=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,T=Math.imul(W,ce),h=Math.imul(W,Ce),h=h+Math.imul(ne,ce)|0,B=Math.imul(ne,Ce),T=T+Math.imul(re,ke)|0,h=h+Math.imul(re,$e)|0,h=h+Math.imul(ie,ke)|0,B=B+Math.imul(ie,$e)|0,T=T+Math.imul(ee,ht)|0,h=h+Math.imul(ee,vt)|0,h=h+Math.imul(z,ht)|0,B=B+Math.imul(z,vt)|0;var it=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(it>>>26)|0,it&=67108863,T=Math.imul(pe,ce),h=Math.imul(pe,Ce),h=h+Math.imul(ae,ce)|0,B=Math.imul(ae,Ce),T=T+Math.imul(W,ke)|0,h=h+Math.imul(W,$e)|0,h=h+Math.imul(ne,ke)|0,B=B+Math.imul(ne,$e)|0,T=T+Math.imul(re,ht)|0,h=h+Math.imul(re,vt)|0,h=h+Math.imul(ie,ht)|0,B=B+Math.imul(ie,vt)|0,T=T+Math.imul(ee,mt)|0,h=h+Math.imul(ee,At)|0,h=h+Math.imul(z,mt)|0,B=B+Math.imul(z,At)|0;var Ie=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,T=Math.imul(ye,ce),h=Math.imul(ye,Ce),h=h+Math.imul(he,ce)|0,B=Math.imul(he,Ce),T=T+Math.imul(pe,ke)|0,h=h+Math.imul(pe,$e)|0,h=h+Math.imul(ae,ke)|0,B=B+Math.imul(ae,$e)|0,T=T+Math.imul(W,ht)|0,h=h+Math.imul(W,vt)|0,h=h+Math.imul(ne,ht)|0,B=B+Math.imul(ne,vt)|0,T=T+Math.imul(re,mt)|0,h=h+Math.imul(re,At)|0,h=h+Math.imul(ie,mt)|0,B=B+Math.imul(ie,At)|0,T=T+Math.imul(ee,pt)|0,h=h+Math.imul(ee,yt)|0,h=h+Math.imul(z,pt)|0,B=B+Math.imul(z,yt)|0;var De=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(De>>>26)|0,De&=67108863,T=Math.imul(_e,ce),h=Math.imul(_e,Ce),h=h+Math.imul(Te,ce)|0,B=Math.imul(Te,Ce),T=T+Math.imul(ye,ke)|0,h=h+Math.imul(ye,$e)|0,h=h+Math.imul(he,ke)|0,B=B+Math.imul(he,$e)|0,T=T+Math.imul(pe,ht)|0,h=h+Math.imul(pe,vt)|0,h=h+Math.imul(ae,ht)|0,B=B+Math.imul(ae,vt)|0,T=T+Math.imul(W,mt)|0,h=h+Math.imul(W,At)|0,h=h+Math.imul(ne,mt)|0,B=B+Math.imul(ne,At)|0,T=T+Math.imul(re,pt)|0,h=h+Math.imul(re,yt)|0,h=h+Math.imul(ie,pt)|0,B=B+Math.imul(ie,yt)|0,T=T+Math.imul(ee,wt)|0,h=h+Math.imul(ee,_t)|0,h=h+Math.imul(z,wt)|0,B=B+Math.imul(z,_t)|0;var Fe=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,T=Math.imul(Oe,ce),h=Math.imul(Oe,Ce),h=h+Math.imul(Ue,ce)|0,B=Math.imul(Ue,Ce),T=T+Math.imul(_e,ke)|0,h=h+Math.imul(_e,$e)|0,h=h+Math.imul(Te,ke)|0,B=B+Math.imul(Te,$e)|0,T=T+Math.imul(ye,ht)|0,h=h+Math.imul(ye,vt)|0,h=h+Math.imul(he,ht)|0,B=B+Math.imul(he,vt)|0,T=T+Math.imul(pe,mt)|0,h=h+Math.imul(pe,At)|0,h=h+Math.imul(ae,mt)|0,B=B+Math.imul(ae,At)|0,T=T+Math.imul(W,pt)|0,h=h+Math.imul(W,yt)|0,h=h+Math.imul(ne,pt)|0,B=B+Math.imul(ne,yt)|0,T=T+Math.imul(re,wt)|0,h=h+Math.imul(re,_t)|0,h=h+Math.imul(ie,wt)|0,B=B+Math.imul(ie,_t)|0,T=T+Math.imul(ee,at)|0,h=h+Math.imul(ee,Et)|0,h=h+Math.imul(z,at)|0,B=B+Math.imul(z,Et)|0;var Ye=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,T=Math.imul(He,ce),h=Math.imul(He,Ce),h=h+Math.imul(We,ce)|0,B=Math.imul(We,Ce),T=T+Math.imul(Oe,ke)|0,h=h+Math.imul(Oe,$e)|0,h=h+Math.imul(Ue,ke)|0,B=B+Math.imul(Ue,$e)|0,T=T+Math.imul(_e,ht)|0,h=h+Math.imul(_e,vt)|0,h=h+Math.imul(Te,ht)|0,B=B+Math.imul(Te,vt)|0,T=T+Math.imul(ye,mt)|0,h=h+Math.imul(ye,At)|0,h=h+Math.imul(he,mt)|0,B=B+Math.imul(he,At)|0,T=T+Math.imul(pe,pt)|0,h=h+Math.imul(pe,yt)|0,h=h+Math.imul(ae,pt)|0,B=B+Math.imul(ae,yt)|0,T=T+Math.imul(W,wt)|0,h=h+Math.imul(W,_t)|0,h=h+Math.imul(ne,wt)|0,B=B+Math.imul(ne,_t)|0,T=T+Math.imul(re,at)|0,h=h+Math.imul(re,Et)|0,h=h+Math.imul(ie,at)|0,B=B+Math.imul(ie,Et)|0,T=T+Math.imul(ee,N)|0,h=h+Math.imul(ee,O)|0,h=h+Math.imul(z,N)|0,B=B+Math.imul(z,O)|0;var Ve=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,T=Math.imul(C,ce),h=Math.imul(C,Ce),h=h+Math.imul(w,ce)|0,B=Math.imul(w,Ce),T=T+Math.imul(He,ke)|0,h=h+Math.imul(He,$e)|0,h=h+Math.imul(We,ke)|0,B=B+Math.imul(We,$e)|0,T=T+Math.imul(Oe,ht)|0,h=h+Math.imul(Oe,vt)|0,h=h+Math.imul(Ue,ht)|0,B=B+Math.imul(Ue,vt)|0,T=T+Math.imul(_e,mt)|0,h=h+Math.imul(_e,At)|0,h=h+Math.imul(Te,mt)|0,B=B+Math.imul(Te,At)|0,T=T+Math.imul(ye,pt)|0,h=h+Math.imul(ye,yt)|0,h=h+Math.imul(he,pt)|0,B=B+Math.imul(he,yt)|0,T=T+Math.imul(pe,wt)|0,h=h+Math.imul(pe,_t)|0,h=h+Math.imul(ae,wt)|0,B=B+Math.imul(ae,_t)|0,T=T+Math.imul(W,at)|0,h=h+Math.imul(W,Et)|0,h=h+Math.imul(ne,at)|0,B=B+Math.imul(ne,Et)|0,T=T+Math.imul(re,N)|0,h=h+Math.imul(re,O)|0,h=h+Math.imul(ie,N)|0,B=B+Math.imul(ie,O)|0,T=T+Math.imul(ee,L)|0,h=h+Math.imul(ee,Q)|0,h=h+Math.imul(z,L)|0,B=B+Math.imul(z,Q)|0;var je=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(je>>>26)|0,je&=67108863,T=Math.imul($,ce),h=Math.imul($,Ce),h=h+Math.imul(Z,ce)|0,B=Math.imul(Z,Ce),T=T+Math.imul(C,ke)|0,h=h+Math.imul(C,$e)|0,h=h+Math.imul(w,ke)|0,B=B+Math.imul(w,$e)|0,T=T+Math.imul(He,ht)|0,h=h+Math.imul(He,vt)|0,h=h+Math.imul(We,ht)|0,B=B+Math.imul(We,vt)|0,T=T+Math.imul(Oe,mt)|0,h=h+Math.imul(Oe,At)|0,h=h+Math.imul(Ue,mt)|0,B=B+Math.imul(Ue,At)|0,T=T+Math.imul(_e,pt)|0,h=h+Math.imul(_e,yt)|0,h=h+Math.imul(Te,pt)|0,B=B+Math.imul(Te,yt)|0,T=T+Math.imul(ye,wt)|0,h=h+Math.imul(ye,_t)|0,h=h+Math.imul(he,wt)|0,B=B+Math.imul(he,_t)|0,T=T+Math.imul(pe,at)|0,h=h+Math.imul(pe,Et)|0,h=h+Math.imul(ae,at)|0,B=B+Math.imul(ae,Et)|0,T=T+Math.imul(W,N)|0,h=h+Math.imul(W,O)|0,h=h+Math.imul(ne,N)|0,B=B+Math.imul(ne,O)|0,T=T+Math.imul(re,L)|0,h=h+Math.imul(re,Q)|0,h=h+Math.imul(ie,L)|0,B=B+Math.imul(ie,Q)|0,T=T+Math.imul(ee,le)|0,h=h+Math.imul(ee,me)|0,h=h+Math.imul(z,le)|0,B=B+Math.imul(z,me)|0;var Ke=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,T=Math.imul($,ke),h=Math.imul($,$e),h=h+Math.imul(Z,ke)|0,B=Math.imul(Z,$e),T=T+Math.imul(C,ht)|0,h=h+Math.imul(C,vt)|0,h=h+Math.imul(w,ht)|0,B=B+Math.imul(w,vt)|0,T=T+Math.imul(He,mt)|0,h=h+Math.imul(He,At)|0,h=h+Math.imul(We,mt)|0,B=B+Math.imul(We,At)|0,T=T+Math.imul(Oe,pt)|0,h=h+Math.imul(Oe,yt)|0,h=h+Math.imul(Ue,pt)|0,B=B+Math.imul(Ue,yt)|0,T=T+Math.imul(_e,wt)|0,h=h+Math.imul(_e,_t)|0,h=h+Math.imul(Te,wt)|0,B=B+Math.imul(Te,_t)|0,T=T+Math.imul(ye,at)|0,h=h+Math.imul(ye,Et)|0,h=h+Math.imul(he,at)|0,B=B+Math.imul(he,Et)|0,T=T+Math.imul(pe,N)|0,h=h+Math.imul(pe,O)|0,h=h+Math.imul(ae,N)|0,B=B+Math.imul(ae,O)|0,T=T+Math.imul(W,L)|0,h=h+Math.imul(W,Q)|0,h=h+Math.imul(ne,L)|0,B=B+Math.imul(ne,Q)|0,T=T+Math.imul(re,le)|0,h=h+Math.imul(re,me)|0,h=h+Math.imul(ie,le)|0,B=B+Math.imul(ie,me)|0;var ze=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(ze>>>26)|0,ze&=67108863,T=Math.imul($,ht),h=Math.imul($,vt),h=h+Math.imul(Z,ht)|0,B=Math.imul(Z,vt),T=T+Math.imul(C,mt)|0,h=h+Math.imul(C,At)|0,h=h+Math.imul(w,mt)|0,B=B+Math.imul(w,At)|0,T=T+Math.imul(He,pt)|0,h=h+Math.imul(He,yt)|0,h=h+Math.imul(We,pt)|0,B=B+Math.imul(We,yt)|0,T=T+Math.imul(Oe,wt)|0,h=h+Math.imul(Oe,_t)|0,h=h+Math.imul(Ue,wt)|0,B=B+Math.imul(Ue,_t)|0,T=T+Math.imul(_e,at)|0,h=h+Math.imul(_e,Et)|0,h=h+Math.imul(Te,at)|0,B=B+Math.imul(Te,Et)|0,T=T+Math.imul(ye,N)|0,h=h+Math.imul(ye,O)|0,h=h+Math.imul(he,N)|0,B=B+Math.imul(he,O)|0,T=T+Math.imul(pe,L)|0,h=h+Math.imul(pe,Q)|0,h=h+Math.imul(ae,L)|0,B=B+Math.imul(ae,Q)|0,T=T+Math.imul(W,le)|0,h=h+Math.imul(W,me)|0,h=h+Math.imul(ne,le)|0,B=B+Math.imul(ne,me)|0;var Be=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Be>>>26)|0,Be&=67108863,T=Math.imul($,mt),h=Math.imul($,At),h=h+Math.imul(Z,mt)|0,B=Math.imul(Z,At),T=T+Math.imul(C,pt)|0,h=h+Math.imul(C,yt)|0,h=h+Math.imul(w,pt)|0,B=B+Math.imul(w,yt)|0,T=T+Math.imul(He,wt)|0,h=h+Math.imul(He,_t)|0,h=h+Math.imul(We,wt)|0,B=B+Math.imul(We,_t)|0,T=T+Math.imul(Oe,at)|0,h=h+Math.imul(Oe,Et)|0,h=h+Math.imul(Ue,at)|0,B=B+Math.imul(Ue,Et)|0,T=T+Math.imul(_e,N)|0,h=h+Math.imul(_e,O)|0,h=h+Math.imul(Te,N)|0,B=B+Math.imul(Te,O)|0,T=T+Math.imul(ye,L)|0,h=h+Math.imul(ye,Q)|0,h=h+Math.imul(he,L)|0,B=B+Math.imul(he,Q)|0,T=T+Math.imul(pe,le)|0,h=h+Math.imul(pe,me)|0,h=h+Math.imul(ae,le)|0,B=B+Math.imul(ae,me)|0;var Le=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Le>>>26)|0,Le&=67108863,T=Math.imul($,pt),h=Math.imul($,yt),h=h+Math.imul(Z,pt)|0,B=Math.imul(Z,yt),T=T+Math.imul(C,wt)|0,h=h+Math.imul(C,_t)|0,h=h+Math.imul(w,wt)|0,B=B+Math.imul(w,_t)|0,T=T+Math.imul(He,at)|0,h=h+Math.imul(He,Et)|0,h=h+Math.imul(We,at)|0,B=B+Math.imul(We,Et)|0,T=T+Math.imul(Oe,N)|0,h=h+Math.imul(Oe,O)|0,h=h+Math.imul(Ue,N)|0,B=B+Math.imul(Ue,O)|0,T=T+Math.imul(_e,L)|0,h=h+Math.imul(_e,Q)|0,h=h+Math.imul(Te,L)|0,B=B+Math.imul(Te,Q)|0,T=T+Math.imul(ye,le)|0,h=h+Math.imul(ye,me)|0,h=h+Math.imul(he,le)|0,B=B+Math.imul(he,me)|0;var Me=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Me>>>26)|0,Me&=67108863,T=Math.imul($,wt),h=Math.imul($,_t),h=h+Math.imul(Z,wt)|0,B=Math.imul(Z,_t),T=T+Math.imul(C,at)|0,h=h+Math.imul(C,Et)|0,h=h+Math.imul(w,at)|0,B=B+Math.imul(w,Et)|0,T=T+Math.imul(He,N)|0,h=h+Math.imul(He,O)|0,h=h+Math.imul(We,N)|0,B=B+Math.imul(We,O)|0,T=T+Math.imul(Oe,L)|0,h=h+Math.imul(Oe,Q)|0,h=h+Math.imul(Ue,L)|0,B=B+Math.imul(Ue,Q)|0,T=T+Math.imul(_e,le)|0,h=h+Math.imul(_e,me)|0,h=h+Math.imul(Te,le)|0,B=B+Math.imul(Te,me)|0;var Re=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Re>>>26)|0,Re&=67108863,T=Math.imul($,at),h=Math.imul($,Et),h=h+Math.imul(Z,at)|0,B=Math.imul(Z,Et),T=T+Math.imul(C,N)|0,h=h+Math.imul(C,O)|0,h=h+Math.imul(w,N)|0,B=B+Math.imul(w,O)|0,T=T+Math.imul(He,L)|0,h=h+Math.imul(He,Q)|0,h=h+Math.imul(We,L)|0,B=B+Math.imul(We,Q)|0,T=T+Math.imul(Oe,le)|0,h=h+Math.imul(Oe,me)|0,h=h+Math.imul(Ue,le)|0,B=B+Math.imul(Ue,me)|0;var Ne=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,T=Math.imul($,N),h=Math.imul($,O),h=h+Math.imul(Z,N)|0,B=Math.imul(Z,O),T=T+Math.imul(C,L)|0,h=h+Math.imul(C,Q)|0,h=h+Math.imul(w,L)|0,B=B+Math.imul(w,Q)|0,T=T+Math.imul(He,le)|0,h=h+Math.imul(He,me)|0,h=h+Math.imul(We,le)|0,B=B+Math.imul(We,me)|0;var Ee=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,T=Math.imul($,L),h=Math.imul($,Q),h=h+Math.imul(Z,L)|0,B=Math.imul(Z,Q),T=T+Math.imul(C,le)|0,h=h+Math.imul(C,me)|0,h=h+Math.imul(w,le)|0,B=B+Math.imul(w,me)|0;var fe=(P+T|0)+((h&8191)<<13)|0;P=(B+(h>>>13)|0)+(fe>>>26)|0,fe&=67108863,T=Math.imul($,le),h=Math.imul($,me),h=h+Math.imul(Z,le)|0,B=Math.imul(Z,me);var de=(P+T|0)+((h&8191)<<13)|0;return P=(B+(h>>>13)|0)+(de>>>26)|0,de&=67108863,M[0]=Pe,M[1]=Ae,M[2]=it,M[3]=Ie,M[4]=De,M[5]=Fe,M[6]=Ye,M[7]=Ve,M[8]=je,M[9]=Ke,M[10]=ze,M[11]=Be,M[12]=Le,M[13]=Me,M[14]=Re,M[15]=Ne,M[16]=Ee,M[17]=fe,M[18]=de,P!==0&&(M[19]=P,l.length++),l};Math.imul||(I=A);function R(b,n,f){f.negative=n.negative^b.negative,f.length=b.length+n.length;for(var l=0,m=0,x=0;x<f.length-1;x++){var M=m;m=0;for(var P=l&67108863,T=Math.min(x,n.length-1),h=Math.max(0,x-b.length+1);h<=T;h++){var B=x-h,G=b.words[B]|0,ee=n.words[h]|0,z=G*ee,K=z&67108863;M=M+(z/67108864|0)|0,K=K+P|0,P=K&67108863,M=M+(K>>>26)|0,m+=M>>>26,M&=67108863}f.words[x]=P,l=M,M=m}return l!==0?f.words[x]=l:f.length--,f.strip()}function U(b,n,f){var l=new k;return l.mulp(b,n,f)}o.prototype.mulTo=function(n,f){var l,m=this.length+n.length;return this.length===10&&n.length===10?l=I(this,n,f):m<63?l=A(this,n,f):m<1024?l=R(this,n,f):l=U(this,n,f),l};function k(b,n){this.x=b,this.y=n}k.prototype.makeRBT=function(n){for(var f=new Array(n),l=o.prototype._countBits(n)-1,m=0;m<n;m++)f[m]=this.revBin(m,l,n);return f},k.prototype.revBin=function(n,f,l){if(n===0||n===l-1)return n;for(var m=0,x=0;x<f;x++)m|=(n&1)<<f-x-1,n>>=1;return m},k.prototype.permute=function(n,f,l,m,x,M){for(var P=0;P<M;P++)m[P]=f[n[P]],x[P]=l[n[P]]},k.prototype.transform=function(n,f,l,m,x,M){this.permute(M,n,f,l,m,x);for(var P=1;P<x;P<<=1)for(var T=P<<1,h=Math.cos(2*Math.PI/T),B=Math.sin(2*Math.PI/T),G=0;G<x;G+=T)for(var ee=h,z=B,K=0;K<P;K++){var re=l[G+K],ie=m[G+K],Y=l[G+K+P],W=m[G+K+P],ne=ee*Y-z*W;W=ee*W+z*Y,Y=ne,l[G+K]=re+Y,m[G+K]=ie+W,l[G+K+P]=re-Y,m[G+K+P]=ie-W,K!==T&&(ne=h*ee-B*z,z=h*z+B*ee,ee=ne)}},k.prototype.guessLen13b=function(n,f){var l=Math.max(f,n)|1,m=l&1,x=0;for(l=l/2|0;l;l=l>>>1)x++;return 1<<x+1+m},k.prototype.conjugate=function(n,f,l){if(!(l<=1))for(var m=0;m<l/2;m++){var x=n[m];n[m]=n[l-m-1],n[l-m-1]=x,x=f[m],f[m]=-f[l-m-1],f[l-m-1]=-x}},k.prototype.normalize13b=function(n,f){for(var l=0,m=0;m<f/2;m++){var x=Math.round(n[2*m+1]/f)*8192+Math.round(n[2*m]/f)+l;n[m]=x&67108863,x<67108864?l=0:l=x/67108864|0}return n},k.prototype.convert13b=function(n,f,l,m){for(var x=0,M=0;M<f;M++)x=x+(n[M]|0),l[2*M]=x&8191,x=x>>>13,l[2*M+1]=x&8191,x=x>>>13;for(M=2*f;M<m;++M)l[M]=0;i(x===0),i((x&-8192)===0)},k.prototype.stub=function(n){for(var f=new Array(n),l=0;l<n;l++)f[l]=0;return f},k.prototype.mulp=function(n,f,l){var m=2*this.guessLen13b(n.length,f.length),x=this.makeRBT(m),M=this.stub(m),P=new Array(m),T=new Array(m),h=new Array(m),B=new Array(m),G=new Array(m),ee=new Array(m),z=l.words;z.length=m,this.convert13b(n.words,n.length,P,m),this.convert13b(f.words,f.length,B,m),this.transform(P,M,T,h,m,x),this.transform(B,M,G,ee,m,x);for(var K=0;K<m;K++){var re=T[K]*G[K]-h[K]*ee[K];h[K]=T[K]*ee[K]+h[K]*G[K],T[K]=re}return this.conjugate(T,h,m),this.transform(T,h,z,M,m,x),this.conjugate(z,M,m),this.normalize13b(z,m),l.negative=n.negative^f.negative,l.length=n.length+f.length,l.strip()},o.prototype.mul=function(n){var f=new o(null);return f.words=new Array(this.length+n.length),this.mulTo(n,f)},o.prototype.mulf=function(n){var f=new o(null);return f.words=new Array(this.length+n.length),U(this,n,f)},o.prototype.imul=function(n){return this.clone().mulTo(n,this)},o.prototype.imuln=function(n){i(typeof n=="number"),i(n<67108864);for(var f=0,l=0;l<this.length;l++){var m=(this.words[l]|0)*n,x=(m&67108863)+(f&67108863);f>>=26,f+=m/67108864|0,f+=x>>>26,this.words[l]=x&67108863}return f!==0&&(this.words[l]=f,this.length++),this.length=n===0?1:this.length,this},o.prototype.muln=function(n){return this.clone().imuln(n)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(n){var f=E(n);if(f.length===0)return new o(1);for(var l=this,m=0;m<f.length&&f[m]===0;m++,l=l.sqr());if(++m<f.length)for(var x=l.sqr();m<f.length;m++,x=x.sqr())f[m]!==0&&(l=l.mul(x));return l},o.prototype.iushln=function(n){i(typeof n=="number"&&n>=0);var f=n%26,l=(n-f)/26,m=67108863>>>26-f<<26-f,x;if(f!==0){var M=0;for(x=0;x<this.length;x++){var P=this.words[x]&m,T=(this.words[x]|0)-P<<f;this.words[x]=T|M,M=P>>>26-f}M&&(this.words[x]=M,this.length++)}if(l!==0){for(x=this.length-1;x>=0;x--)this.words[x+l]=this.words[x];for(x=0;x<l;x++)this.words[x]=0;this.length+=l}return this.strip()},o.prototype.ishln=function(n){return i(this.negative===0),this.iushln(n)},o.prototype.iushrn=function(n,f,l){i(typeof n=="number"&&n>=0);var m;f?m=(f-f%26)/26:m=0;var x=n%26,M=Math.min((n-x)/26,this.length),P=67108863^67108863>>>x<<x,T=l;if(m-=M,m=Math.max(0,m),T){for(var h=0;h<M;h++)T.words[h]=this.words[h];T.length=M}if(M!==0)if(this.length>M)for(this.length-=M,h=0;h<this.length;h++)this.words[h]=this.words[h+M];else this.words[0]=0,this.length=1;var B=0;for(h=this.length-1;h>=0&&(B!==0||h>=m);h--){var G=this.words[h]|0;this.words[h]=B<<26-x|G>>>x,B=G&P}return T&&B!==0&&(T.words[T.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(n,f,l){return i(this.negative===0),this.iushrn(n,f,l)},o.prototype.shln=function(n){return this.clone().ishln(n)},o.prototype.ushln=function(n){return this.clone().iushln(n)},o.prototype.shrn=function(n){return this.clone().ishrn(n)},o.prototype.ushrn=function(n){return this.clone().iushrn(n)},o.prototype.testn=function(n){i(typeof n=="number"&&n>=0);var f=n%26,l=(n-f)/26,m=1<<f;if(this.length<=l)return!1;var x=this.words[l];return!!(x&m)},o.prototype.imaskn=function(n){i(typeof n=="number"&&n>=0);var f=n%26,l=(n-f)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(f!==0&&l++,this.length=Math.min(l,this.length),f!==0){var m=67108863^67108863>>>f<<f;this.words[this.length-1]&=m}return this.strip()},o.prototype.maskn=function(n){return this.clone().imaskn(n)},o.prototype.iaddn=function(n){return i(typeof n=="number"),i(n<67108864),n<0?this.isubn(-n):this.negative!==0?this.length===1&&(this.words[0]|0)<n?(this.words[0]=n-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(n),this.negative=1,this):this._iaddn(n)},o.prototype._iaddn=function(n){this.words[0]+=n;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(n){if(i(typeof n=="number"),i(n<67108864),n<0)return this.iaddn(-n);if(this.negative!==0)return this.negative=0,this.iaddn(n),this.negative=1,this;if(this.words[0]-=n,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},o.prototype.addn=function(n){return this.clone().iaddn(n)},o.prototype.subn=function(n){return this.clone().isubn(n)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(n,f,l){var m=n.length+l,x;this._expand(m);var M,P=0;for(x=0;x<n.length;x++){M=(this.words[x+l]|0)+P;var T=(n.words[x]|0)*f;M-=T&67108863,P=(M>>26)-(T/67108864|0),this.words[x+l]=M&67108863}for(;x<this.length-l;x++)M=(this.words[x+l]|0)+P,P=M>>26,this.words[x+l]=M&67108863;if(P===0)return this.strip();for(i(P===-1),P=0,x=0;x<this.length;x++)M=-(this.words[x]|0)+P,P=M>>26,this.words[x]=M&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(n,f){var l=this.length-n.length,m=this.clone(),x=n,M=x.words[x.length-1]|0,P=this._countBits(M);l=26-P,l!==0&&(x=x.ushln(l),m.iushln(l),M=x.words[x.length-1]|0);var T=m.length-x.length,h;if(f!=="mod"){h=new o(null),h.length=T+1,h.words=new Array(h.length);for(var B=0;B<h.length;B++)h.words[B]=0}var G=m.clone()._ishlnsubmul(x,1,T);G.negative===0&&(m=G,h&&(h.words[T]=1));for(var ee=T-1;ee>=0;ee--){var z=(m.words[x.length+ee]|0)*67108864+(m.words[x.length+ee-1]|0);for(z=Math.min(z/M|0,67108863),m._ishlnsubmul(x,z,ee);m.negative!==0;)z--,m.negative=0,m._ishlnsubmul(x,1,ee),m.isZero()||(m.negative^=1);h&&(h.words[ee]=z)}return h&&h.strip(),m.strip(),f!=="div"&&l!==0&&m.iushrn(l),{div:h||null,mod:m}},o.prototype.divmod=function(n,f,l){if(i(!n.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var m,x,M;return this.negative!==0&&n.negative===0?(M=this.neg().divmod(n,f),f!=="mod"&&(m=M.div.neg()),f!=="div"&&(x=M.mod.neg(),l&&x.negative!==0&&x.iadd(n)),{div:m,mod:x}):this.negative===0&&n.negative!==0?(M=this.divmod(n.neg(),f),f!=="mod"&&(m=M.div.neg()),{div:m,mod:M.mod}):(this.negative&n.negative)!==0?(M=this.neg().divmod(n.neg(),f),f!=="div"&&(x=M.mod.neg(),l&&x.negative!==0&&x.isub(n)),{div:M.div,mod:x}):n.length>this.length||this.cmp(n)<0?{div:new o(0),mod:this}:n.length===1?f==="div"?{div:this.divn(n.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modn(n.words[0]))}:{div:this.divn(n.words[0]),mod:new o(this.modn(n.words[0]))}:this._wordDiv(n,f)},o.prototype.div=function(n){return this.divmod(n,"div",!1).div},o.prototype.mod=function(n){return this.divmod(n,"mod",!1).mod},o.prototype.umod=function(n){return this.divmod(n,"mod",!0).mod},o.prototype.divRound=function(n){var f=this.divmod(n);if(f.mod.isZero())return f.div;var l=f.div.negative!==0?f.mod.isub(n):f.mod,m=n.ushrn(1),x=n.andln(1),M=l.cmp(m);return M<0||x===1&&M===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modn=function(n){i(n<=67108863);for(var f=(1<<26)%n,l=0,m=this.length-1;m>=0;m--)l=(f*l+(this.words[m]|0))%n;return l},o.prototype.idivn=function(n){i(n<=67108863);for(var f=0,l=this.length-1;l>=0;l--){var m=(this.words[l]|0)+f*67108864;this.words[l]=m/n|0,f=m%n}return this.strip()},o.prototype.divn=function(n){return this.clone().idivn(n)},o.prototype.egcd=function(n){i(n.negative===0),i(!n.isZero());var f=this,l=n.clone();f.negative!==0?f=f.umod(n):f=f.clone();for(var m=new o(1),x=new o(0),M=new o(0),P=new o(1),T=0;f.isEven()&&l.isEven();)f.iushrn(1),l.iushrn(1),++T;for(var h=l.clone(),B=f.clone();!f.isZero();){for(var G=0,ee=1;(f.words[0]&ee)===0&&G<26;++G,ee<<=1);if(G>0)for(f.iushrn(G);G-- >0;)(m.isOdd()||x.isOdd())&&(m.iadd(h),x.isub(B)),m.iushrn(1),x.iushrn(1);for(var z=0,K=1;(l.words[0]&K)===0&&z<26;++z,K<<=1);if(z>0)for(l.iushrn(z);z-- >0;)(M.isOdd()||P.isOdd())&&(M.iadd(h),P.isub(B)),M.iushrn(1),P.iushrn(1);f.cmp(l)>=0?(f.isub(l),m.isub(M),x.isub(P)):(l.isub(f),M.isub(m),P.isub(x))}return{a:M,b:P,gcd:l.iushln(T)}},o.prototype._invmp=function(n){i(n.negative===0),i(!n.isZero());var f=this,l=n.clone();f.negative!==0?f=f.umod(n):f=f.clone();for(var m=new o(1),x=new o(0),M=l.clone();f.cmpn(1)>0&&l.cmpn(1)>0;){for(var P=0,T=1;(f.words[0]&T)===0&&P<26;++P,T<<=1);if(P>0)for(f.iushrn(P);P-- >0;)m.isOdd()&&m.iadd(M),m.iushrn(1);for(var h=0,B=1;(l.words[0]&B)===0&&h<26;++h,B<<=1);if(h>0)for(l.iushrn(h);h-- >0;)x.isOdd()&&x.iadd(M),x.iushrn(1);f.cmp(l)>=0?(f.isub(l),m.isub(x)):(l.isub(f),x.isub(m))}var G;return f.cmpn(1)===0?G=m:G=x,G.cmpn(0)<0&&G.iadd(n),G},o.prototype.gcd=function(n){if(this.isZero())return n.abs();if(n.isZero())return this.abs();var f=this.clone(),l=n.clone();f.negative=0,l.negative=0;for(var m=0;f.isEven()&&l.isEven();m++)f.iushrn(1),l.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;l.isEven();)l.iushrn(1);var x=f.cmp(l);if(x<0){var M=f;f=l,l=M}else if(x===0||l.cmpn(1)===0)break;f.isub(l)}while(!0);return l.iushln(m)},o.prototype.invm=function(n){return this.egcd(n).a.umod(n)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(n){return this.words[0]&n},o.prototype.bincn=function(n){i(typeof n=="number");var f=n%26,l=(n-f)/26,m=1<<f;if(this.length<=l)return this._expand(l+1),this.words[l]|=m,this;for(var x=m,M=l;x!==0&&M<this.length;M++){var P=this.words[M]|0;P+=x,x=P>>>26,P&=67108863,this.words[M]=P}return x!==0&&(this.words[M]=x,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(n){var f=n<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var l;if(this.length>1)l=1;else{f&&(n=-n),i(n<=67108863,"Number is too big");var m=this.words[0]|0;l=m===n?0:m<n?-1:1}return this.negative!==0?-l|0:l},o.prototype.cmp=function(n){if(this.negative!==0&&n.negative===0)return-1;if(this.negative===0&&n.negative!==0)return 1;var f=this.ucmp(n);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(n){if(this.length>n.length)return 1;if(this.length<n.length)return-1;for(var f=0,l=this.length-1;l>=0;l--){var m=this.words[l]|0,x=n.words[l]|0;if(m!==x){m<x?f=-1:m>x&&(f=1);break}}return f},o.prototype.gtn=function(n){return this.cmpn(n)===1},o.prototype.gt=function(n){return this.cmp(n)===1},o.prototype.gten=function(n){return this.cmpn(n)>=0},o.prototype.gte=function(n){return this.cmp(n)>=0},o.prototype.ltn=function(n){return this.cmpn(n)===-1},o.prototype.lt=function(n){return this.cmp(n)===-1},o.prototype.lten=function(n){return this.cmpn(n)<=0},o.prototype.lte=function(n){return this.cmp(n)<=0},o.prototype.eqn=function(n){return this.cmpn(n)===0},o.prototype.eq=function(n){return this.cmp(n)===0},o.red=function(n){return new D(n)},o.prototype.toRed=function(n){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),n.convertTo(this)._forceRed(n)},o.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(n){return this.red=n,this},o.prototype.forceRed=function(n){return i(!this.red,"Already a number in reduction context"),this._forceRed(n)},o.prototype.redAdd=function(n){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,n)},o.prototype.redIAdd=function(n){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,n)},o.prototype.redSub=function(n){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,n)},o.prototype.redISub=function(n){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,n)},o.prototype.redShl=function(n){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,n)},o.prototype.redMul=function(n){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.mul(this,n)},o.prototype.redIMul=function(n){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,n),this.red.imul(this,n)},o.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(n){return i(this.red&&!n.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,n)};var H={k256:null,p224:null,p192:null,p25519:null};function q(b,n){this.name=b,this.p=new o(n,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var n=new o(null);return n.words=new Array(Math.ceil(this.n/13)),n},q.prototype.ireduce=function(n){var f=n,l;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),l=f.bitLength();while(l>this.n);var m=l<this.n?-1:f.ucmp(this.p);return m===0?(f.words[0]=0,f.length=1):m>0?f.isub(this.p):f.strip!==void 0?f.strip():f._strip(),f},q.prototype.split=function(n,f){n.iushrn(this.n,0,f)},q.prototype.imulK=function(n){return n.imul(this.k)};function F(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}c(F,q),F.prototype.split=function(n,f){for(var l=4194303,m=Math.min(n.length,9),x=0;x<m;x++)f.words[x]=n.words[x];if(f.length=m,n.length<=9){n.words[0]=0,n.length=1;return}var M=n.words[9];for(f.words[f.length++]=M&l,x=10;x<n.length;x++){var P=n.words[x]|0;n.words[x-10]=(P&l)<<4|M>>>22,M=P}M>>>=22,n.words[x-10]=M,M===0&&n.length>10?n.length-=10:n.length-=9},F.prototype.imulK=function(n){n.words[n.length]=0,n.words[n.length+1]=0,n.length+=2;for(var f=0,l=0;l<n.length;l++){var m=n.words[l]|0;f+=m*977,n.words[l]=f&67108863,f=m*64+(f/67108864|0)}return n.words[n.length-1]===0&&(n.length--,n.words[n.length-1]===0&&n.length--),n};function j(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}c(j,q);function J(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}c(J,q);function te(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}c(te,q),te.prototype.imulK=function(n){for(var f=0,l=0;l<n.length;l++){var m=(n.words[l]|0)*19+f,x=m&67108863;m>>>=26,n.words[l]=x,f=m}return f!==0&&(n.words[n.length++]=f),n},o._prime=function(n){if(H[n])return H[n];var f;if(n==="k256")f=new F;else if(n==="p224")f=new j;else if(n==="p192")f=new J;else if(n==="p25519")f=new te;else throw new Error("Unknown prime "+n);return H[n]=f,f};function D(b){if(typeof b=="string"){var n=o._prime(b);this.m=n.p,this.prime=n}else i(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}D.prototype._verify1=function(n){i(n.negative===0,"red works only with positives"),i(n.red,"red works only with red numbers")},D.prototype._verify2=function(n,f){i((n.negative|f.negative)===0,"red works only with positives"),i(n.red&&n.red===f.red,"red works only with red numbers")},D.prototype.imod=function(n){return this.prime?this.prime.ireduce(n)._forceRed(this):n.umod(this.m)._forceRed(this)},D.prototype.neg=function(n){return n.isZero()?n.clone():this.m.sub(n)._forceRed(this)},D.prototype.add=function(n,f){this._verify2(n,f);var l=n.add(f);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},D.prototype.iadd=function(n,f){this._verify2(n,f);var l=n.iadd(f);return l.cmp(this.m)>=0&&l.isub(this.m),l},D.prototype.sub=function(n,f){this._verify2(n,f);var l=n.sub(f);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},D.prototype.isub=function(n,f){this._verify2(n,f);var l=n.isub(f);return l.cmpn(0)<0&&l.iadd(this.m),l},D.prototype.shl=function(n,f){return this._verify1(n),this.imod(n.ushln(f))},D.prototype.imul=function(n,f){return this._verify2(n,f),this.imod(n.imul(f))},D.prototype.mul=function(n,f){return this._verify2(n,f),this.imod(n.mul(f))},D.prototype.isqr=function(n){return this.imul(n,n.clone())},D.prototype.sqr=function(n){return this.mul(n,n)},D.prototype.sqrt=function(n){if(n.isZero())return n.clone();var f=this.m.andln(3);if(i(f%2===1),f===3){var l=this.m.add(new o(1)).iushrn(2);return this.pow(n,l)}for(var m=this.m.subn(1),x=0;!m.isZero()&&m.andln(1)===0;)x++,m.iushrn(1);i(!m.isZero());var M=new o(1).toRed(this),P=M.redNeg(),T=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new o(2*h*h).toRed(this);this.pow(h,T).cmp(P)!==0;)h.redIAdd(P);for(var B=this.pow(h,m),G=this.pow(n,m.addn(1).iushrn(1)),ee=this.pow(n,m),z=x;ee.cmp(M)!==0;){for(var K=ee,re=0;K.cmp(M)!==0;re++)K=K.redSqr();i(re<z);var ie=this.pow(B,new o(1).iushln(z-re-1));G=G.redMul(ie),B=ie.redSqr(),ee=ee.redMul(B),z=re}return G},D.prototype.invm=function(n){var f=n._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},D.prototype.pow=function(n,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return n.clone();var l=4,m=new Array(1<<l);m[0]=new o(1).toRed(this),m[1]=n;for(var x=2;x<m.length;x++)m[x]=this.mul(m[x-1],n);var M=m[0],P=0,T=0,h=f.bitLength()%26;for(h===0&&(h=26),x=f.length-1;x>=0;x--){for(var B=f.words[x],G=h-1;G>=0;G--){var ee=B>>G&1;if(M!==m[0]&&(M=this.sqr(M)),ee===0&&P===0){T=0;continue}P<<=1,P|=ee,T++,!(T!==l&&(x!==0||G!==0))&&(M=this.mul(M,m[P]),T=0,P=0)}h=26}return M},D.prototype.convertTo=function(n){var f=n.umod(this.m);return f===n?f.clone():f},D.prototype.convertFrom=function(n){var f=n.clone();return f.red=null,f},o.mont=function(n){return new X(n)};function X(b){D.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}c(X,D),X.prototype.convertTo=function(n){return this.imod(n.ushln(this.shift))},X.prototype.convertFrom=function(n){var f=this.imod(n.mul(this.rinv));return f.red=null,f},X.prototype.imul=function(n,f){if(n.isZero()||f.isZero())return n.words[0]=0,n.length=1,n;var l=n.imul(f),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=l.isub(m).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},X.prototype.mul=function(n,f){if(n.isZero()||f.isZero())return new o(0)._forceRed(this);var l=n.mul(f),m=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=l.isub(m).iushrn(this.shift),M=x;return x.cmp(this.m)>=0?M=x.isub(this.m):x.cmpn(0)<0&&(M=x.iadd(this.m)),M._forceRed(this)},X.prototype.invm=function(n){var f=this.imod(n._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(t,ul)})(jn)),jn.exports}var _i,Xa;function Rr(){if(Xa)return _i;Xa=1,_i=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,i,c){if(r!=i)throw new Error(c||"Assertion failed: "+r+" != "+i)},_i}var Ei={},Za;function Bf(){return Za||(Za=1,(function(t){var e=t;function r(o,p){if(Array.isArray(o))return o.slice();if(!o)return[];var d=[];if(typeof o!="string"){for(var a=0;a<o.length;a++)d[a]=o[a]|0;return d}if(p==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var a=0;a<o.length;a+=2)d.push(parseInt(o[a]+o[a+1],16))}else for(var a=0;a<o.length;a++){var s=o.charCodeAt(a),u=s>>8,v=s&255;u?d.push(u,v):d.push(v)}return d}e.toArray=r;function i(o){return o.length===1?"0"+o:o}e.zero2=i;function c(o){for(var p="",d=0;d<o.length;d++)p+=i(o[d].toString(16));return p}e.toHex=c,e.encode=function(p,d){return d==="hex"?c(p):p}})(Ei)),Ei}var Ja;function zt(){return Ja||(Ja=1,(function(t){var e=t,r=Jt(),i=Rr(),c=Bf();e.assert=i,e.toArray=c.toArray,e.zero2=c.zero2,e.toHex=c.toHex,e.encode=c.encode;function o(u,v,g){var E=new Array(Math.max(u.bitLength(),g)+1),A;for(A=0;A<E.length;A+=1)E[A]=0;var I=1<<v+1,R=u.clone();for(A=0;A<E.length;A++){var U,k=R.andln(I-1);R.isOdd()?(k>(I>>1)-1?U=(I>>1)-k:U=k,R.isubn(U)):U=0,E[A]=U,R.iushrn(1)}return E}e.getNAF=o;function p(u,v){var g=[[],[]];u=u.clone(),v=v.clone();for(var E=0,A=0,I;u.cmpn(-E)>0||v.cmpn(-A)>0;){var R=u.andln(3)+E&3,U=v.andln(3)+A&3;R===3&&(R=-1),U===3&&(U=-1);var k;(R&1)===0?k=0:(I=u.andln(7)+E&7,(I===3||I===5)&&U===2?k=-R:k=R),g[0].push(k);var H;(U&1)===0?H=0:(I=v.andln(7)+A&7,(I===3||I===5)&&R===2?H=-U:H=U),g[1].push(H),2*E===k+1&&(E=1-E),2*A===H+1&&(A=1-A),u.iushrn(1),v.iushrn(1)}return g}e.getJSF=p;function d(u,v,g){var E="_"+v;u.prototype[v]=function(){return this[E]!==void 0?this[E]:this[E]=g.call(this)}}e.cachedProperty=d;function a(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=a;function s(u){return new r(u,"hex","le")}e.intFromLE=s})(xi)),xi}var On={exports:{}},Qa;function Rf(){if(Qa)return On.exports;Qa=1;var t;On.exports=function(c){return t||(t=new e(null)),t.generate(c)};function e(i){this.rand=i}if(On.exports.Rand=e,e.prototype.generate=function(c){return this._rand(c)},e.prototype._rand=function(c){if(this.rand.getBytes)return this.rand.getBytes(c);for(var o=new Uint8Array(c),p=0;p<o.length;p++)o[p]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(c){var o=new Uint8Array(c);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(c){var o=new Uint8Array(c);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=Ao;if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(c){return r.randomBytes(c)}}catch{}return On.exports}var Ai={},Si,es;function ti(){if(es)return Si;es=1;var t=Jt(),e=zt(),r=e.getNAF,i=e.getJSF,c=e.assert;function o(d,a){this.type=d,this.p=new t(a.p,16),this.red=a.prime?t.red(a.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=a.n&&new t(a.n,16),this.g=a.g&&this.pointFromJSON(a.g,a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var s=this.n&&this.p.div(this.n);!s||s.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Si=o,o.prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(a,s){c(a.precomputed);var u=a._getDoubles(),v=r(s,1,this._bitLength),g=(1<<u.step+1)-(u.step%2===0?2:1);g/=3;var E=[],A,I;for(A=0;A<v.length;A+=u.step){I=0;for(var R=A+u.step-1;R>=A;R--)I=(I<<1)+v[R];E.push(I)}for(var U=this.jpoint(null,null,null),k=this.jpoint(null,null,null),H=g;H>0;H--){for(A=0;A<E.length;A++)I=E[A],I===H?k=k.mixedAdd(u.points[A]):I===-H&&(k=k.mixedAdd(u.points[A].neg()));U=U.add(k)}return U.toP()},o.prototype._wnafMul=function(a,s){var u=4,v=a._getNAFPoints(u);u=v.wnd;for(var g=v.points,E=r(s,u,this._bitLength),A=this.jpoint(null,null,null),I=E.length-1;I>=0;I--){for(var R=0;I>=0&&E[I]===0;I--)R++;if(I>=0&&R++,A=A.dblp(R),I<0)break;var U=E[I];c(U!==0),a.type==="affine"?U>0?A=A.mixedAdd(g[U-1>>1]):A=A.mixedAdd(g[-U-1>>1].neg()):U>0?A=A.add(g[U-1>>1]):A=A.add(g[-U-1>>1].neg())}return a.type==="affine"?A.toP():A},o.prototype._wnafMulAdd=function(a,s,u,v,g){var E=this._wnafT1,A=this._wnafT2,I=this._wnafT3,R=0,U,k,H;for(U=0;U<v;U++){H=s[U];var q=H._getNAFPoints(a);E[U]=q.wnd,A[U]=q.points}for(U=v-1;U>=1;U-=2){var F=U-1,j=U;if(E[F]!==1||E[j]!==1){I[F]=r(u[F],E[F],this._bitLength),I[j]=r(u[j],E[j],this._bitLength),R=Math.max(I[F].length,R),R=Math.max(I[j].length,R);continue}var J=[s[F],null,null,s[j]];s[F].y.cmp(s[j].y)===0?(J[1]=s[F].add(s[j]),J[2]=s[F].toJ().mixedAdd(s[j].neg())):s[F].y.cmp(s[j].y.redNeg())===0?(J[1]=s[F].toJ().mixedAdd(s[j]),J[2]=s[F].add(s[j].neg())):(J[1]=s[F].toJ().mixedAdd(s[j]),J[2]=s[F].toJ().mixedAdd(s[j].neg()));var te=[-3,-1,-5,-7,0,7,5,1,3],D=i(u[F],u[j]);for(R=Math.max(D[0].length,R),I[F]=new Array(R),I[j]=new Array(R),k=0;k<R;k++){var X=D[0][k]|0,b=D[1][k]|0;I[F][k]=te[(X+1)*3+(b+1)],I[j][k]=0,A[F]=J}}var n=this.jpoint(null,null,null),f=this._wnafT4;for(U=R;U>=0;U--){for(var l=0;U>=0;){var m=!0;for(k=0;k<v;k++)f[k]=I[k][U]|0,f[k]!==0&&(m=!1);if(!m)break;l++,U--}if(U>=0&&l++,n=n.dblp(l),U<0)break;for(k=0;k<v;k++){var x=f[k];x!==0&&(x>0?H=A[k][x-1>>1]:x<0&&(H=A[k][-x-1>>1].neg()),H.type==="affine"?n=n.mixedAdd(H):n=n.add(H))}}for(U=0;U<v;U++)A[U]=null;return g?n:n.toP()};function p(d,a){this.curve=d,this.type=a,this.precomputed=null}return o.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(a,s){a=e.toArray(a,s);var u=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*u){a[0]===6?c(a[a.length-1]%2===0):a[0]===7&&c(a[a.length-1]%2===1);var v=this.point(a.slice(1,1+u),a.slice(1+u,1+2*u));return v}else if((a[0]===2||a[0]===3)&&a.length-1===u)return this.pointFromX(a.slice(1,1+u),a[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(a){return this.encode(a,!0)},p.prototype._encode=function(a){var s=this.curve.p.byteLength(),u=this.getX().toArray("be",s);return a?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",s))},p.prototype.encode=function(a,s){return e.encode(this._encode(s),a)},p.prototype.precompute=function(a){if(this.precomputed)return this;var s={doubles:null,naf:null,beta:null};return s.naf=this._getNAFPoints(8),s.doubles=this._getDoubles(4,a),s.beta=this._getBeta(),this.precomputed=s,this},p.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var s=this.precomputed.doubles;return s?s.points.length>=Math.ceil((a.bitLength()+1)/s.step):!1},p.prototype._getDoubles=function(a,s){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],v=this,g=0;g<s;g+=a){for(var E=0;E<a;E++)v=v.dbl();u.push(v)}return{step:a,points:u}},p.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var s=[this],u=(1<<a)-1,v=u===1?null:this.dbl(),g=1;g<u;g++)s[g]=s[g-1].add(v);return{wnd:a,points:s}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(a){for(var s=this,u=0;u<a;u++)s=s.dbl();return s},Si}var Nn={exports:{}},ts;function ri(){return ts||(ts=1,typeof Object.create=="function"?Nn.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Nn.exports=function(e,r){if(r){e.super_=r;var i=function(){};i.prototype=r.prototype,e.prototype=new i,e.prototype.constructor=e}}),Nn.exports}var Mi,rs;function ll(){if(rs)return Mi;rs=1;var t=zt(),e=Jt(),r=ri(),i=ti(),c=t.assert;function o(a){i.call(this,"short",a),this.a=new e(a.a,16).toRed(this.red),this.b=new e(a.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(a),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}r(o,i),Mi=o,o.prototype._getEndomorphism=function(s){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,v;if(s.beta)u=new e(s.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);u=g[0].cmp(g[1])<0?g[0]:g[1],u=u.toRed(this.red)}if(s.lambda)v=new e(s.lambda,16);else{var E=this._getEndoRoots(this.n);this.g.mul(E[0]).x.cmp(this.g.x.redMul(u))===0?v=E[0]:(v=E[1],c(this.g.mul(v).x.cmp(this.g.x.redMul(u))===0))}var A;return s.basis?A=s.basis.map(function(I){return{a:new e(I.a,16),b:new e(I.b,16)}}):A=this._getEndoBasis(v),{beta:u,lambda:v,basis:A}}},o.prototype._getEndoRoots=function(s){var u=s===this.p?this.red:e.mont(s),v=new e(2).toRed(u).redInvm(),g=v.redNeg(),E=new e(3).toRed(u).redNeg().redSqrt().redMul(v),A=g.redAdd(E).fromRed(),I=g.redSub(E).fromRed();return[A,I]},o.prototype._getEndoBasis=function(s){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),v=s,g=this.n.clone(),E=new e(1),A=new e(0),I=new e(0),R=new e(1),U,k,H,q,F,j,J,te=0,D,X;v.cmpn(0)!==0;){var b=g.div(v);D=g.sub(b.mul(v)),X=I.sub(b.mul(E));var n=R.sub(b.mul(A));if(!H&&D.cmp(u)<0)U=J.neg(),k=E,H=D.neg(),q=X;else if(H&&++te===2)break;J=D,g=v,v=D,I=E,E=X,R=A,A=n}F=D.neg(),j=X;var f=H.sqr().add(q.sqr()),l=F.sqr().add(j.sqr());return l.cmp(f)>=0&&(F=U,j=k),H.negative&&(H=H.neg(),q=q.neg()),F.negative&&(F=F.neg(),j=j.neg()),[{a:H,b:q},{a:F,b:j}]},o.prototype._endoSplit=function(s){var u=this.endo.basis,v=u[0],g=u[1],E=g.b.mul(s).divRound(this.n),A=v.b.neg().mul(s).divRound(this.n),I=E.mul(v.a),R=A.mul(g.a),U=E.mul(v.b),k=A.mul(g.b),H=s.sub(I).sub(R),q=U.add(k).neg();return{k1:H,k2:q}},o.prototype.pointFromX=function(s,u){s=new e(s,16),s.red||(s=s.toRed(this.red));var v=s.redSqr().redMul(s).redIAdd(s.redMul(this.a)).redIAdd(this.b),g=v.redSqrt();if(g.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var E=g.fromRed().isOdd();return(u&&!E||!u&&E)&&(g=g.redNeg()),this.point(s,g)},o.prototype.validate=function(s){if(s.inf)return!0;var u=s.x,v=s.y,g=this.a.redMul(u),E=u.redSqr().redMul(u).redIAdd(g).redIAdd(this.b);return v.redSqr().redISub(E).cmpn(0)===0},o.prototype._endoWnafMulAdd=function(s,u,v){for(var g=this._endoWnafT1,E=this._endoWnafT2,A=0;A<s.length;A++){var I=this._endoSplit(u[A]),R=s[A],U=R._getBeta();I.k1.negative&&(I.k1.ineg(),R=R.neg(!0)),I.k2.negative&&(I.k2.ineg(),U=U.neg(!0)),g[A*2]=R,g[A*2+1]=U,E[A*2]=I.k1,E[A*2+1]=I.k2}for(var k=this._wnafMulAdd(1,g,E,A*2,v),H=0;H<A*2;H++)g[H]=null,E[H]=null;return k};function p(a,s,u,v){i.BasePoint.call(this,a,"affine"),s===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(s,16),this.y=new e(u,16),v&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}r(p,i.BasePoint),o.prototype.point=function(s,u,v){return new p(this,s,u,v)},o.prototype.pointFromJSON=function(s,u){return p.fromJSON(this,s,u)},p.prototype._getBeta=function(){if(this.curve.endo){var s=this.precomputed;if(s&&s.beta)return s.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(s){var v=this.curve,g=function(E){return v.point(E.x.redMul(v.endo.beta),E.y)};s.beta=u,u.precomputed={beta:null,naf:s.naf&&{wnd:s.naf.wnd,points:s.naf.points.map(g)},doubles:s.doubles&&{step:s.doubles.step,points:s.doubles.points.map(g)}}}return u}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(s,u,v){typeof u=="string"&&(u=JSON.parse(u));var g=s.point(u[0],u[1],v);if(!u[2])return g;function E(I){return s.point(I[0],I[1],v)}var A=u[2];return g.precomputed={beta:null,doubles:A.doubles&&{step:A.doubles.step,points:[g].concat(A.doubles.points.map(E))},naf:A.naf&&{wnd:A.naf.wnd,points:[g].concat(A.naf.points.map(E))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(s){if(this.inf)return s;if(s.inf)return this;if(this.eq(s))return this.dbl();if(this.neg().eq(s))return this.curve.point(null,null);if(this.x.cmp(s.x)===0)return this.curve.point(null,null);var u=this.y.redSub(s.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(s.x).redInvm()));var v=u.redSqr().redISub(this.x).redISub(s.x),g=u.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,g)},p.prototype.dbl=function(){if(this.inf)return this;var s=this.y.redAdd(this.y);if(s.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,v=this.x.redSqr(),g=s.redInvm(),E=v.redAdd(v).redIAdd(v).redIAdd(u).redMul(g),A=E.redSqr().redISub(this.x.redAdd(this.x)),I=E.redMul(this.x.redSub(A)).redISub(this.y);return this.curve.point(A,I)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(s){return s=new e(s,16),this.isInfinity()?this:this._hasDoubles(s)?this.curve._fixedNafMul(this,s):this.curve.endo?this.curve._endoWnafMulAdd([this],[s]):this.curve._wnafMul(this,s)},p.prototype.mulAdd=function(s,u,v){var g=[this,u],E=[s,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,E):this.curve._wnafMulAdd(1,g,E,2)},p.prototype.jmulAdd=function(s,u,v){var g=[this,u],E=[s,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,E,!0):this.curve._wnafMulAdd(1,g,E,2,!0)},p.prototype.eq=function(s){return this===s||this.inf===s.inf&&(this.inf||this.x.cmp(s.x)===0&&this.y.cmp(s.y)===0)},p.prototype.neg=function(s){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(s&&this.precomputed){var v=this.precomputed,g=function(E){return E.neg()};u.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(g)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(g)}}}return u},p.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var s=this.curve.jpoint(this.x,this.y,this.curve.one);return s};function d(a,s,u,v){i.BasePoint.call(this,a,"jacobian"),s===null&&u===null&&v===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(s,16),this.y=new e(u,16),this.z=new e(v,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return r(d,i.BasePoint),o.prototype.jpoint=function(s,u,v){return new d(this,s,u,v)},d.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var s=this.z.redInvm(),u=s.redSqr(),v=this.x.redMul(u),g=this.y.redMul(u).redMul(s);return this.curve.point(v,g)},d.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},d.prototype.add=function(s){if(this.isInfinity())return s;if(s.isInfinity())return this;var u=s.z.redSqr(),v=this.z.redSqr(),g=this.x.redMul(u),E=s.x.redMul(v),A=this.y.redMul(u.redMul(s.z)),I=s.y.redMul(v.redMul(this.z)),R=g.redSub(E),U=A.redSub(I);if(R.cmpn(0)===0)return U.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var k=R.redSqr(),H=k.redMul(R),q=g.redMul(k),F=U.redSqr().redIAdd(H).redISub(q).redISub(q),j=U.redMul(q.redISub(F)).redISub(A.redMul(H)),J=this.z.redMul(s.z).redMul(R);return this.curve.jpoint(F,j,J)},d.prototype.mixedAdd=function(s){if(this.isInfinity())return s.toJ();if(s.isInfinity())return this;var u=this.z.redSqr(),v=this.x,g=s.x.redMul(u),E=this.y,A=s.y.redMul(u).redMul(this.z),I=v.redSub(g),R=E.redSub(A);if(I.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var U=I.redSqr(),k=U.redMul(I),H=v.redMul(U),q=R.redSqr().redIAdd(k).redISub(H).redISub(H),F=R.redMul(H.redISub(q)).redISub(E.redMul(k)),j=this.z.redMul(I);return this.curve.jpoint(q,F,j)},d.prototype.dblp=function(s){if(s===0)return this;if(this.isInfinity())return this;if(!s)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var v=this;for(u=0;u<s;u++)v=v.dbl();return v}var g=this.curve.a,E=this.curve.tinv,A=this.x,I=this.y,R=this.z,U=R.redSqr().redSqr(),k=I.redAdd(I);for(u=0;u<s;u++){var H=A.redSqr(),q=k.redSqr(),F=q.redSqr(),j=H.redAdd(H).redIAdd(H).redIAdd(g.redMul(U)),J=A.redMul(q),te=j.redSqr().redISub(J.redAdd(J)),D=J.redISub(te),X=j.redMul(D);X=X.redIAdd(X).redISub(F);var b=k.redMul(R);u+1<s&&(U=U.redMul(F)),A=te,R=b,k=X}return this.curve.jpoint(A,k.redMul(E),R)},d.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},d.prototype._zeroDbl=function(){var s,u,v;if(this.zOne){var g=this.x.redSqr(),E=this.y.redSqr(),A=E.redSqr(),I=this.x.redAdd(E).redSqr().redISub(g).redISub(A);I=I.redIAdd(I);var R=g.redAdd(g).redIAdd(g),U=R.redSqr().redISub(I).redISub(I),k=A.redIAdd(A);k=k.redIAdd(k),k=k.redIAdd(k),s=U,u=R.redMul(I.redISub(U)).redISub(k),v=this.y.redAdd(this.y)}else{var H=this.x.redSqr(),q=this.y.redSqr(),F=q.redSqr(),j=this.x.redAdd(q).redSqr().redISub(H).redISub(F);j=j.redIAdd(j);var J=H.redAdd(H).redIAdd(H),te=J.redSqr(),D=F.redIAdd(F);D=D.redIAdd(D),D=D.redIAdd(D),s=te.redISub(j).redISub(j),u=J.redMul(j.redISub(s)).redISub(D),v=this.y.redMul(this.z),v=v.redIAdd(v)}return this.curve.jpoint(s,u,v)},d.prototype._threeDbl=function(){var s,u,v;if(this.zOne){var g=this.x.redSqr(),E=this.y.redSqr(),A=E.redSqr(),I=this.x.redAdd(E).redSqr().redISub(g).redISub(A);I=I.redIAdd(I);var R=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),U=R.redSqr().redISub(I).redISub(I);s=U;var k=A.redIAdd(A);k=k.redIAdd(k),k=k.redIAdd(k),u=R.redMul(I.redISub(U)).redISub(k),v=this.y.redAdd(this.y)}else{var H=this.z.redSqr(),q=this.y.redSqr(),F=this.x.redMul(q),j=this.x.redSub(H).redMul(this.x.redAdd(H));j=j.redAdd(j).redIAdd(j);var J=F.redIAdd(F);J=J.redIAdd(J);var te=J.redAdd(J);s=j.redSqr().redISub(te),v=this.y.redAdd(this.z).redSqr().redISub(q).redISub(H);var D=q.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),u=j.redMul(J.redISub(s)).redISub(D)}return this.curve.jpoint(s,u,v)},d.prototype._dbl=function(){var s=this.curve.a,u=this.x,v=this.y,g=this.z,E=g.redSqr().redSqr(),A=u.redSqr(),I=v.redSqr(),R=A.redAdd(A).redIAdd(A).redIAdd(s.redMul(E)),U=u.redAdd(u);U=U.redIAdd(U);var k=U.redMul(I),H=R.redSqr().redISub(k.redAdd(k)),q=k.redISub(H),F=I.redSqr();F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var j=R.redMul(q).redISub(F),J=v.redAdd(v).redMul(g);return this.curve.jpoint(H,j,J)},d.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var s=this.x.redSqr(),u=this.y.redSqr(),v=this.z.redSqr(),g=u.redSqr(),E=s.redAdd(s).redIAdd(s),A=E.redSqr(),I=this.x.redAdd(u).redSqr().redISub(s).redISub(g);I=I.redIAdd(I),I=I.redAdd(I).redIAdd(I),I=I.redISub(A);var R=I.redSqr(),U=g.redIAdd(g);U=U.redIAdd(U),U=U.redIAdd(U),U=U.redIAdd(U);var k=E.redIAdd(I).redSqr().redISub(A).redISub(R).redISub(U),H=u.redMul(k);H=H.redIAdd(H),H=H.redIAdd(H);var q=this.x.redMul(R).redISub(H);q=q.redIAdd(q),q=q.redIAdd(q);var F=this.y.redMul(k.redMul(U.redISub(k)).redISub(I.redMul(R)));F=F.redIAdd(F),F=F.redIAdd(F),F=F.redIAdd(F);var j=this.z.redAdd(I).redSqr().redISub(v).redISub(R);return this.curve.jpoint(q,F,j)},d.prototype.mul=function(s,u){return s=new e(s,u),this.curve._wnafMul(this,s)},d.prototype.eq=function(s){if(s.type==="affine")return this.eq(s.toJ());if(this===s)return!0;var u=this.z.redSqr(),v=s.z.redSqr();if(this.x.redMul(v).redISub(s.x.redMul(u)).cmpn(0)!==0)return!1;var g=u.redMul(this.z),E=v.redMul(s.z);return this.y.redMul(E).redISub(s.y.redMul(g)).cmpn(0)===0},d.prototype.eqXToP=function(s){var u=this.z.redSqr(),v=s.toRed(this.curve.red).redMul(u);if(this.x.cmp(v)===0)return!0;for(var g=s.clone(),E=this.curve.redN.redMul(u);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(E),this.x.cmp(v)===0)return!0}},d.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},d.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Mi}var Ii,ns;function hl(){if(ns)return Ii;ns=1;var t=Jt(),e=ri(),r=ti(),i=zt();function c(p){r.call(this,"mont",p),this.a=new t(p.a,16).toRed(this.red),this.b=new t(p.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(c,r),Ii=c,c.prototype.validate=function(d){var a=d.normalize().x,s=a.redSqr(),u=s.redMul(a).redAdd(s.redMul(this.a)).redAdd(a),v=u.redSqrt();return v.redSqr().cmp(u)===0};function o(p,d,a){r.BasePoint.call(this,p,"projective"),d===null&&a===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(d,16),this.z=new t(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(o,r.BasePoint),c.prototype.decodePoint=function(d,a){return this.point(i.toArray(d,a),1)},c.prototype.point=function(d,a){return new o(this,d,a)},c.prototype.pointFromJSON=function(d){return o.fromJSON(this,d)},o.prototype.precompute=function(){},o.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},o.fromJSON=function(d,a){return new o(d,a[0],a[1]||d.one)},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.z.cmpn(0)===0},o.prototype.dbl=function(){var d=this.x.redAdd(this.z),a=d.redSqr(),s=this.x.redSub(this.z),u=s.redSqr(),v=a.redSub(u),g=a.redMul(u),E=v.redMul(u.redAdd(this.curve.a24.redMul(v)));return this.curve.point(g,E)},o.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.diffAdd=function(d,a){var s=this.x.redAdd(this.z),u=this.x.redSub(this.z),v=d.x.redAdd(d.z),g=d.x.redSub(d.z),E=g.redMul(s),A=v.redMul(u),I=a.z.redMul(E.redAdd(A).redSqr()),R=a.x.redMul(E.redISub(A).redSqr());return this.curve.point(I,R)},o.prototype.mul=function(d){for(var a=d.clone(),s=this,u=this.curve.point(null,null),v=this,g=[];a.cmpn(0)!==0;a.iushrn(1))g.push(a.andln(1));for(var E=g.length-1;E>=0;E--)g[E]===0?(s=s.diffAdd(u,v),u=u.dbl()):(u=s.diffAdd(u,v),s=s.dbl());return u},o.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},o.prototype.eq=function(d){return this.getX().cmp(d.getX())===0},o.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Ii}var Ti,is;function pl(){if(is)return Ti;is=1;var t=zt(),e=Jt(),r=ri(),i=ti(),c=t.assert;function o(d){this.twisted=(d.a|0)!==1,this.mOneA=this.twisted&&(d.a|0)===-1,this.extended=this.mOneA,i.call(this,"edwards",d),this.a=new e(d.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(d.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(d.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(d.c|0)===1}r(o,i),Ti=o,o.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)},o.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)},o.prototype.jpoint=function(a,s,u,v){return this.point(a,s,u,v)},o.prototype.pointFromX=function(a,s){a=new e(a,16),a.red||(a=a.toRed(this.red));var u=a.redSqr(),v=this.c2.redSub(this.a.redMul(u)),g=this.one.redSub(this.c2.redMul(this.d).redMul(u)),E=v.redMul(g.redInvm()),A=E.redSqrt();if(A.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");var I=A.fromRed().isOdd();return(s&&!I||!s&&I)&&(A=A.redNeg()),this.point(a,A)},o.prototype.pointFromY=function(a,s){a=new e(a,16),a.red||(a=a.toRed(this.red));var u=a.redSqr(),v=u.redSub(this.c2),g=u.redMul(this.d).redMul(this.c2).redSub(this.a),E=v.redMul(g.redInvm());if(E.cmp(this.zero)===0){if(s)throw new Error("invalid point");return this.point(this.zero,a)}var A=E.redSqrt();if(A.redSqr().redSub(E).cmp(this.zero)!==0)throw new Error("invalid point");return A.fromRed().isOdd()!==s&&(A=A.redNeg()),this.point(A,a)},o.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var s=a.x.redSqr(),u=a.y.redSqr(),v=s.redMul(this.a).redAdd(u),g=this.c2.redMul(this.one.redAdd(this.d.redMul(s).redMul(u)));return v.cmp(g)===0};function p(d,a,s,u,v){i.BasePoint.call(this,d,"projective"),a===null&&s===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(a,16),this.y=new e(s,16),this.z=u?new e(u,16):this.curve.one,this.t=v&&new e(v,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return r(p,i.BasePoint),o.prototype.pointFromJSON=function(a){return p.fromJSON(this,a)},o.prototype.point=function(a,s,u,v){return new p(this,a,s,u,v)},p.fromJSON=function(a,s){return new p(a,s[0],s[1],s[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var a=this.x.redSqr(),s=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var v=this.curve._mulA(a),g=this.x.redAdd(this.y).redSqr().redISub(a).redISub(s),E=v.redAdd(s),A=E.redSub(u),I=v.redSub(s),R=g.redMul(A),U=E.redMul(I),k=g.redMul(I),H=A.redMul(E);return this.curve.point(R,U,H,k)},p.prototype._projDbl=function(){var a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),u=this.y.redSqr(),v,g,E,A,I,R;if(this.curve.twisted){A=this.curve._mulA(s);var U=A.redAdd(u);this.zOne?(v=a.redSub(s).redSub(u).redMul(U.redSub(this.curve.two)),g=U.redMul(A.redSub(u)),E=U.redSqr().redSub(U).redSub(U)):(I=this.z.redSqr(),R=U.redSub(I).redISub(I),v=a.redSub(s).redISub(u).redMul(R),g=U.redMul(A.redSub(u)),E=U.redMul(R))}else A=s.redAdd(u),I=this.curve._mulC(this.z).redSqr(),R=A.redSub(I).redSub(I),v=this.curve._mulC(a.redISub(A)).redMul(R),g=this.curve._mulC(A).redMul(s.redISub(u)),E=A.redMul(R);return this.curve.point(v,g,E)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(a){var s=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),u=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),v=this.t.redMul(this.curve.dd).redMul(a.t),g=this.z.redMul(a.z.redAdd(a.z)),E=u.redSub(s),A=g.redSub(v),I=g.redAdd(v),R=u.redAdd(s),U=E.redMul(A),k=I.redMul(R),H=E.redMul(R),q=A.redMul(I);return this.curve.point(U,k,q,H)},p.prototype._projAdd=function(a){var s=this.z.redMul(a.z),u=s.redSqr(),v=this.x.redMul(a.x),g=this.y.redMul(a.y),E=this.curve.d.redMul(v).redMul(g),A=u.redSub(E),I=u.redAdd(E),R=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub(v).redISub(g),U=s.redMul(A).redMul(R),k,H;return this.curve.twisted?(k=s.redMul(I).redMul(g.redSub(this.curve._mulA(v))),H=A.redMul(I)):(k=s.redMul(I).redMul(g.redSub(v)),H=this.curve._mulC(A).redMul(I)),this.curve.point(U,k,H)},p.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)},p.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)},p.prototype.mulAdd=function(a,s,u){return this.curve._wnafMulAdd(1,[this,s],[a,u],2,!1)},p.prototype.jmulAdd=function(a,s,u){return this.curve._wnafMulAdd(1,[this,s],[a,u],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0},p.prototype.eqXToP=function(a){var s=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(s)===0)return!0;for(var u=a.clone(),v=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(s.redIAdd(v),this.x.cmp(s)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add,Ti}var os;function Cf(){return os||(os=1,(function(t){var e=t;e.base=ti(),e.short=ll(),e.mont=hl(),e.edwards=pl()})(Ai)),Ai}var Bi={},Ri={},bt={},as;function Xt(){if(as)return bt;as=1;var t=Rr(),e=ri();bt.inherits=e;function r(n,f){return(n.charCodeAt(f)&64512)!==55296||f<0||f+1>=n.length?!1:(n.charCodeAt(f+1)&64512)===56320}function i(n,f){if(Array.isArray(n))return n.slice();if(!n)return[];var l=[];if(typeof n=="string")if(f){if(f==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),x=0;x<n.length;x+=2)l.push(parseInt(n[x]+n[x+1],16))}else for(var m=0,x=0;x<n.length;x++){var M=n.charCodeAt(x);M<128?l[m++]=M:M<2048?(l[m++]=M>>6|192,l[m++]=M&63|128):r(n,x)?(M=65536+((M&1023)<<10)+(n.charCodeAt(++x)&1023),l[m++]=M>>18|240,l[m++]=M>>12&63|128,l[m++]=M>>6&63|128,l[m++]=M&63|128):(l[m++]=M>>12|224,l[m++]=M>>6&63|128,l[m++]=M&63|128)}else for(x=0;x<n.length;x++)l[x]=n[x]|0;return l}bt.toArray=i;function c(n){for(var f="",l=0;l<n.length;l++)f+=d(n[l].toString(16));return f}bt.toHex=c;function o(n){var f=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return f>>>0}bt.htonl=o;function p(n,f){for(var l="",m=0;m<n.length;m++){var x=n[m];f==="little"&&(x=o(x)),l+=a(x.toString(16))}return l}bt.toHex32=p;function d(n){return n.length===1?"0"+n:n}bt.zero2=d;function a(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}bt.zero8=a;function s(n,f,l,m){var x=l-f;t(x%4===0);for(var M=new Array(x/4),P=0,T=f;P<M.length;P++,T+=4){var h;m==="big"?h=n[T]<<24|n[T+1]<<16|n[T+2]<<8|n[T+3]:h=n[T+3]<<24|n[T+2]<<16|n[T+1]<<8|n[T],M[P]=h>>>0}return M}bt.join32=s;function u(n,f){for(var l=new Array(n.length*4),m=0,x=0;m<n.length;m++,x+=4){var M=n[m];f==="big"?(l[x]=M>>>24,l[x+1]=M>>>16&255,l[x+2]=M>>>8&255,l[x+3]=M&255):(l[x+3]=M>>>24,l[x+2]=M>>>16&255,l[x+1]=M>>>8&255,l[x]=M&255)}return l}bt.split32=u;function v(n,f){return n>>>f|n<<32-f}bt.rotr32=v;function g(n,f){return n<<f|n>>>32-f}bt.rotl32=g;function E(n,f){return n+f>>>0}bt.sum32=E;function A(n,f,l){return n+f+l>>>0}bt.sum32_3=A;function I(n,f,l,m){return n+f+l+m>>>0}bt.sum32_4=I;function R(n,f,l,m,x){return n+f+l+m+x>>>0}bt.sum32_5=R;function U(n,f,l,m){var x=n[f],M=n[f+1],P=m+M>>>0,T=(P<m?1:0)+l+x;n[f]=T>>>0,n[f+1]=P}bt.sum64=U;function k(n,f,l,m){var x=f+m>>>0,M=(x<f?1:0)+n+l;return M>>>0}bt.sum64_hi=k;function H(n,f,l,m){var x=f+m;return x>>>0}bt.sum64_lo=H;function q(n,f,l,m,x,M,P,T){var h=0,B=f;B=B+m>>>0,h+=B<f?1:0,B=B+M>>>0,h+=B<M?1:0,B=B+T>>>0,h+=B<T?1:0;var G=n+l+x+P+h;return G>>>0}bt.sum64_4_hi=q;function F(n,f,l,m,x,M,P,T){var h=f+m+M+T;return h>>>0}bt.sum64_4_lo=F;function j(n,f,l,m,x,M,P,T,h,B){var G=0,ee=f;ee=ee+m>>>0,G+=ee<f?1:0,ee=ee+M>>>0,G+=ee<M?1:0,ee=ee+T>>>0,G+=ee<T?1:0,ee=ee+B>>>0,G+=ee<B?1:0;var z=n+l+x+P+h+G;return z>>>0}bt.sum64_5_hi=j;function J(n,f,l,m,x,M,P,T,h,B){var G=f+m+M+T+B;return G>>>0}bt.sum64_5_lo=J;function te(n,f,l){var m=f<<32-l|n>>>l;return m>>>0}bt.rotr64_hi=te;function D(n,f,l){var m=n<<32-l|f>>>l;return m>>>0}bt.rotr64_lo=D;function X(n,f,l){return n>>>l}bt.shr64_hi=X;function b(n,f,l){var m=n<<32-l|f>>>l;return m>>>0}return bt.shr64_lo=b,bt}var Ci={},ss;function _n(){if(ss)return Ci;ss=1;var t=Xt(),e=Rr();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Ci.BlockHash=r,r.prototype.update=function(c,o){if(c=t.toArray(c,o),this.pending?this.pending=this.pending.concat(c):this.pending=c,this.pendingTotal+=c.length,this.pending.length>=this._delta8){c=this.pending;var p=c.length%this._delta8;this.pending=c.slice(c.length-p,c.length),this.pending.length===0&&(this.pending=null),c=t.join32(c,0,c.length-p,this.endian);for(var d=0;d<c.length;d+=this._delta32)this._update(c,d,d+this._delta32)}return this},r.prototype.digest=function(c){return this.update(this._pad()),e(this.pending===null),this._digest(c)},r.prototype._pad=function(){var c=this.pendingTotal,o=this._delta8,p=o-(c+this.padLength)%o,d=new Array(p+this.padLength);d[0]=128;for(var a=1;a<p;a++)d[a]=0;if(c<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)d[a++]=0;d[a++]=0,d[a++]=0,d[a++]=0,d[a++]=0,d[a++]=c>>>24&255,d[a++]=c>>>16&255,d[a++]=c>>>8&255,d[a++]=c&255}else for(d[a++]=c&255,d[a++]=c>>>8&255,d[a++]=c>>>16&255,d[a++]=c>>>24&255,d[a++]=0,d[a++]=0,d[a++]=0,d[a++]=0,s=8;s<this.padLength;s++)d[a++]=0;return d},Ci}var _r={},Vt={},fs;function Of(){if(fs)return Vt;fs=1;var t=Xt(),e=t.rotr32;function r(u,v,g,E){if(u===0)return i(v,g,E);if(u===1||u===3)return o(v,g,E);if(u===2)return c(v,g,E)}Vt.ft_1=r;function i(u,v,g){return u&v^~u&g}Vt.ch32=i;function c(u,v,g){return u&v^u&g^v&g}Vt.maj32=c;function o(u,v,g){return u^v^g}Vt.p32=o;function p(u){return e(u,2)^e(u,13)^e(u,22)}Vt.s0_256=p;function d(u){return e(u,6)^e(u,11)^e(u,25)}Vt.s1_256=d;function a(u){return e(u,7)^e(u,18)^u>>>3}Vt.g0_256=a;function s(u){return e(u,17)^e(u,19)^u>>>10}return Vt.g1_256=s,Vt}var Oi,cs;function bl(){if(cs)return Oi;cs=1;var t=Xt(),e=_n(),r=Of(),i=t.rotl32,c=t.sum32,o=t.sum32_5,p=r.ft_1,d=e.BlockHash,a=[1518500249,1859775393,2400959708,3395469782];function s(){if(!(this instanceof s))return new s;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(s,d),Oi=s,s.blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(v,g){for(var E=this.W,A=0;A<16;A++)E[A]=v[g+A];for(;A<E.length;A++)E[A]=i(E[A-3]^E[A-8]^E[A-14]^E[A-16],1);var I=this.h[0],R=this.h[1],U=this.h[2],k=this.h[3],H=this.h[4];for(A=0;A<E.length;A++){var q=~~(A/20),F=o(i(I,5),p(q,R,U,k),H,E[A],a[q]);H=k,k=U,U=i(R,30),R=I,I=F}this.h[0]=c(this.h[0],I),this.h[1]=c(this.h[1],R),this.h[2]=c(this.h[2],U),this.h[3]=c(this.h[3],k),this.h[4]=c(this.h[4],H)},s.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Oi}var Ni,ds;function Nf(){if(ds)return Ni;ds=1;var t=Xt(),e=_n(),r=Of(),i=Rr(),c=t.sum32,o=t.sum32_4,p=t.sum32_5,d=r.ch32,a=r.maj32,s=r.s0_256,u=r.s1_256,v=r.g0_256,g=r.g1_256,E=e.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function I(){if(!(this instanceof I))return new I;E.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=new Array(64)}return t.inherits(I,E),Ni=I,I.blockSize=512,I.outSize=256,I.hmacStrength=192,I.padLength=64,I.prototype._update=function(U,k){for(var H=this.W,q=0;q<16;q++)H[q]=U[k+q];for(;q<H.length;q++)H[q]=o(g(H[q-2]),H[q-7],v(H[q-15]),H[q-16]);var F=this.h[0],j=this.h[1],J=this.h[2],te=this.h[3],D=this.h[4],X=this.h[5],b=this.h[6],n=this.h[7];for(i(this.k.length===H.length),q=0;q<H.length;q++){var f=p(n,u(D),d(D,X,b),this.k[q],H[q]),l=c(s(F),a(F,j,J));n=b,b=X,X=D,D=c(te,f),te=J,J=j,j=F,F=c(f,l)}this.h[0]=c(this.h[0],F),this.h[1]=c(this.h[1],j),this.h[2]=c(this.h[2],J),this.h[3]=c(this.h[3],te),this.h[4]=c(this.h[4],D),this.h[5]=c(this.h[5],X),this.h[6]=c(this.h[6],b),this.h[7]=c(this.h[7],n)},I.prototype._digest=function(U){return U==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Ni}var Pi,us;function yl(){if(us)return Pi;us=1;var t=Xt(),e=Nf();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Pi=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(c){return c==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Pi}var Ui,ls;function Pf(){if(ls)return Ui;ls=1;var t=Xt(),e=_n(),r=Rr(),i=t.rotr64_hi,c=t.rotr64_lo,o=t.shr64_hi,p=t.shr64_lo,d=t.sum64,a=t.sum64_hi,s=t.sum64_lo,u=t.sum64_4_hi,v=t.sum64_4_lo,g=t.sum64_5_hi,E=t.sum64_5_lo,A=e.BlockHash,I=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=I,this.W=new Array(160)}t.inherits(R,A),Ui=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(l,m){for(var x=this.W,M=0;M<32;M++)x[M]=l[m+M];for(;M<x.length;M+=2){var P=b(x[M-4],x[M-3]),T=n(x[M-4],x[M-3]),h=x[M-14],B=x[M-13],G=D(x[M-30],x[M-29]),ee=X(x[M-30],x[M-29]),z=x[M-32],K=x[M-31];x[M]=u(P,T,h,B,G,ee,z,K),x[M+1]=v(P,T,h,B,G,ee,z,K)}},R.prototype._update=function(l,m){this._prepareBlock(l,m);var x=this.W,M=this.h[0],P=this.h[1],T=this.h[2],h=this.h[3],B=this.h[4],G=this.h[5],ee=this.h[6],z=this.h[7],K=this.h[8],re=this.h[9],ie=this.h[10],Y=this.h[11],W=this.h[12],ne=this.h[13],ue=this.h[14],pe=this.h[15];r(this.k.length===x.length);for(var ae=0;ae<x.length;ae+=2){var be=ue,ye=pe,he=J(K,re),Se=te(K,re),_e=U(K,re,ie,Y,W),Te=k(K,re,ie,Y,W,ne),Ge=this.k[ae],Oe=this.k[ae+1],Ue=x[ae],Ze=x[ae+1],He=g(be,ye,he,Se,_e,Te,Ge,Oe,Ue,Ze),We=E(be,ye,he,Se,_e,Te,Ge,Oe,Ue,Ze);be=F(M,P),ye=j(M,P),he=H(M,P,T,h,B),Se=q(M,P,T,h,B,G);var xt=a(be,ye,he,Se),C=s(be,ye,he,Se);ue=W,pe=ne,W=ie,ne=Y,ie=K,Y=re,K=a(ee,z,He,We),re=s(z,z,He,We),ee=B,z=G,B=T,G=h,T=M,h=P,M=a(He,We,xt,C),P=s(He,We,xt,C)}d(this.h,0,M,P),d(this.h,2,T,h),d(this.h,4,B,G),d(this.h,6,ee,z),d(this.h,8,K,re),d(this.h,10,ie,Y),d(this.h,12,W,ne),d(this.h,14,ue,pe)},R.prototype._digest=function(l){return l==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function U(f,l,m,x,M){var P=f&m^~f&M;return P<0&&(P+=4294967296),P}function k(f,l,m,x,M,P){var T=l&x^~l&P;return T<0&&(T+=4294967296),T}function H(f,l,m,x,M){var P=f&m^f&M^m&M;return P<0&&(P+=4294967296),P}function q(f,l,m,x,M,P){var T=l&x^l&P^x&P;return T<0&&(T+=4294967296),T}function F(f,l){var m=i(f,l,28),x=i(l,f,2),M=i(l,f,7),P=m^x^M;return P<0&&(P+=4294967296),P}function j(f,l){var m=c(f,l,28),x=c(l,f,2),M=c(l,f,7),P=m^x^M;return P<0&&(P+=4294967296),P}function J(f,l){var m=i(f,l,14),x=i(f,l,18),M=i(l,f,9),P=m^x^M;return P<0&&(P+=4294967296),P}function te(f,l){var m=c(f,l,14),x=c(f,l,18),M=c(l,f,9),P=m^x^M;return P<0&&(P+=4294967296),P}function D(f,l){var m=i(f,l,1),x=i(f,l,8),M=o(f,l,7),P=m^x^M;return P<0&&(P+=4294967296),P}function X(f,l){var m=c(f,l,1),x=c(f,l,8),M=p(f,l,7),P=m^x^M;return P<0&&(P+=4294967296),P}function b(f,l){var m=i(f,l,19),x=i(l,f,29),M=o(f,l,6),P=m^x^M;return P<0&&(P+=4294967296),P}function n(f,l){var m=c(f,l,19),x=c(l,f,29),M=p(f,l,6),P=m^x^M;return P<0&&(P+=4294967296),P}return Ui}var Li,hs;function vl(){if(hs)return Li;hs=1;var t=Xt(),e=Pf();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Li=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(c){return c==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Li}var ps;function gl(){return ps||(ps=1,_r.sha1=bl(),_r.sha224=yl(),_r.sha256=Nf(),_r.sha384=vl(),_r.sha512=Pf()),_r}var ki={},bs;function ml(){if(bs)return ki;bs=1;var t=Xt(),e=_n(),r=t.rotl32,i=t.sum32,c=t.sum32_3,o=t.sum32_4,p=e.BlockHash;function d(){if(!(this instanceof d))return new d;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(d,p),ki.ripemd160=d,d.blockSize=512,d.outSize=160,d.hmacStrength=192,d.padLength=64,d.prototype._update=function(R,U){for(var k=this.h[0],H=this.h[1],q=this.h[2],F=this.h[3],j=this.h[4],J=k,te=H,D=q,X=F,b=j,n=0;n<80;n++){var f=i(r(o(k,a(n,H,q,F),R[v[n]+U],s(n)),E[n]),j);k=j,j=F,F=r(q,10),q=H,H=f,f=i(r(o(J,a(79-n,te,D,X),R[g[n]+U],u(n)),A[n]),b),J=b,b=X,X=r(D,10),D=te,te=f}f=c(this.h[1],q,X),this.h[1]=c(this.h[2],F,b),this.h[2]=c(this.h[3],j,J),this.h[3]=c(this.h[4],k,te),this.h[4]=c(this.h[0],H,D),this.h[0]=f},d.prototype._digest=function(R){return R==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function a(I,R,U,k){return I<=15?R^U^k:I<=31?R&U|~R&k:I<=47?(R|~U)^k:I<=63?R&k|U&~k:R^(U|~k)}function s(I){return I<=15?0:I<=31?1518500249:I<=47?1859775393:I<=63?2400959708:2840853838}function u(I){return I<=15?1352829926:I<=31?1548603684:I<=47?1836072691:I<=63?2053994217:0}var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],E=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ki}var qi,ys;function wl(){if(ys)return qi;ys=1;var t=Xt(),e=Rr();function r(i,c,o){if(!(this instanceof r))return new r(i,c,o);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(c,o))}return qi=r,r.prototype._init=function(c){c.length>this.blockSize&&(c=new this.Hash().update(c).digest()),e(c.length<=this.blockSize);for(var o=c.length;o<this.blockSize;o++)c.push(0);for(o=0;o<c.length;o++)c[o]^=54;for(this.inner=new this.Hash().update(c),o=0;o<c.length;o++)c[o]^=106;this.outer=new this.Hash().update(c)},r.prototype.update=function(c,o){return this.inner.update(c,o),this},r.prototype.digest=function(c){return this.outer.update(this.inner.digest()),this.outer.digest(c)},qi}var vs;function To(){return vs||(vs=1,(function(t){var e=t;e.utils=Xt(),e.common=_n(),e.sha=gl(),e.ripemd=ml(),e.hmac=wl(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ri)),Ri}var $i,gs;function xl(){return gs||(gs=1,$i={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),$i}var ms;function Bo(){return ms||(ms=1,(function(t){var e=t,r=To(),i=Cf(),c=zt(),o=c.assert;function p(s){s.type==="short"?this.curve=new i.short(s):s.type==="edwards"?this.curve=new i.edwards(s):this.curve=new i.mont(s),this.g=this.curve.g,this.n=this.curve.n,this.hash=s.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=p;function d(s,u){Object.defineProperty(e,s,{configurable:!0,enumerable:!0,get:function(){var v=new p(u);return Object.defineProperty(e,s,{configurable:!0,enumerable:!0,value:v}),v}})}d("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),d("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),d("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),d("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),d("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),d("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),d("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=xl()}catch{a=void 0}d("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})})(Bi)),Bi}var Di,ws;function _l(){if(ws)return Di;ws=1;var t=To(),e=Bf(),r=Rr();function i(c){if(!(this instanceof i))return new i(c);this.hash=c.hash,this.predResist=!!c.predResist,this.outLen=this.hash.outSize,this.minEntropy=c.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var o=e.toArray(c.entropy,c.entropyEnc||"hex"),p=e.toArray(c.nonce,c.nonceEnc||"hex"),d=e.toArray(c.pers,c.persEnc||"hex");r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(o,p,d)}return Di=i,i.prototype._init=function(o,p,d){var a=o.concat(p).concat(d);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(a),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},i.prototype._update=function(o){var p=this._hmac().update(this.V).update([0]);o&&(p=p.update(o)),this.K=p.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(o,p,d,a){typeof p!="string"&&(a=d,d=p,p=null),o=e.toArray(o,p),d=e.toArray(d,a),r(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(d||[])),this._reseed=1},i.prototype.generate=function(o,p,d,a){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof p!="string"&&(a=d,d=p,p=null),d&&(d=e.toArray(d,a||"hex"),this._update(d));for(var s=[];s.length<o;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var u=s.slice(0,o);return this._update(d),this._reseed++,e.encode(u,p)},Di}var Fi,xs;function El(){if(xs)return Fi;xs=1;var t=Jt(),e=zt(),r=e.assert;function i(c,o){this.ec=c,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}return Fi=i,i.fromPublic=function(o,p,d){return p instanceof i?p:new i(o,{pub:p,pubEnc:d})},i.fromPrivate=function(o,p,d){return p instanceof i?p:new i(o,{priv:p,privEnc:d})},i.prototype.validate=function(){var o=this.getPublic();return o.isInfinity()?{result:!1,reason:"Invalid public key"}:o.validate()?o.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(o,p){return typeof o=="string"&&(p=o,o=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),p?this.pub.encode(p,o):this.pub},i.prototype.getPrivate=function(o){return o==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(o,p){this.priv=new t(o,p||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(o,p){if(o.x||o.y){this.ec.curve.type==="mont"?r(o.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&r(o.x&&o.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(o.x,o.y);return}this.pub=this.ec.curve.decodePoint(o,p)},i.prototype.derive=function(o){return o.validate()||r(o.validate(),"public point not validated"),o.mul(this.priv).getX()},i.prototype.sign=function(o,p,d){return this.ec.sign(o,this,p,d)},i.prototype.verify=function(o,p,d){return this.ec.verify(o,p,this,void 0,d)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},Fi}var ji,_s;function Al(){if(_s)return ji;_s=1;var t=Jt(),e=zt(),r=e.assert;function i(a,s){if(a instanceof i)return a;this._importDER(a,s)||(r(a.r&&a.s,"Signature without r or s"),this.r=new t(a.r,16),this.s=new t(a.s,16),a.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=a.recoveryParam)}ji=i;function c(){this.place=0}function o(a,s){var u=a[s.place++];if(!(u&128))return u;var v=u&15;if(v===0||v>4||a[s.place]===0)return!1;for(var g=0,E=0,A=s.place;E<v;E++,A++)g<<=8,g|=a[A],g>>>=0;return g<=127?!1:(s.place=A,g)}function p(a){for(var s=0,u=a.length-1;!a[s]&&!(a[s+1]&128)&&s<u;)s++;return s===0?a:a.slice(s)}i.prototype._importDER=function(s,u){s=e.toArray(s,u);var v=new c;if(s[v.place++]!==48)return!1;var g=o(s,v);if(g===!1||g+v.place!==s.length||s[v.place++]!==2)return!1;var E=o(s,v);if(E===!1||(s[v.place]&128)!==0)return!1;var A=s.slice(v.place,E+v.place);if(v.place+=E,s[v.place++]!==2)return!1;var I=o(s,v);if(I===!1||s.length!==I+v.place||(s[v.place]&128)!==0)return!1;var R=s.slice(v.place,I+v.place);if(A[0]===0)if(A[1]&128)A=A.slice(1);else return!1;if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;return this.r=new t(A),this.s=new t(R),this.recoveryParam=null,!0};function d(a,s){if(s<128){a.push(s);return}var u=1+(Math.log(s)/Math.LN2>>>3);for(a.push(u|128);--u;)a.push(s>>>(u<<3)&255);a.push(s)}return i.prototype.toDER=function(s){var u=this.r.toArray(),v=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),v[0]&128&&(v=[0].concat(v)),u=p(u),v=p(v);!v[0]&&!(v[1]&128);)v=v.slice(1);var g=[2];d(g,u.length),g=g.concat(u),g.push(2),d(g,v.length);var E=g.concat(v),A=[48];return d(A,E.length),A=A.concat(E),e.encode(A,s)},ji}var zi,Es;function Sl(){if(Es)return zi;Es=1;var t=Jt(),e=_l(),r=zt(),i=Bo(),c=Rf(),o=r.assert,p=El(),d=Al();function a(s){if(!(this instanceof a))return new a(s);typeof s=="string"&&(o(Object.prototype.hasOwnProperty.call(i,s),"Unknown curve "+s),s=i[s]),s instanceof i.PresetCurve&&(s={curve:s}),this.curve=s.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=s.curve.g,this.g.precompute(s.curve.n.bitLength()+1),this.hash=s.hash||s.curve.hash}return zi=a,a.prototype.keyPair=function(u){return new p(this,u)},a.prototype.keyFromPrivate=function(u,v){return p.fromPrivate(this,u,v)},a.prototype.keyFromPublic=function(u,v){return p.fromPublic(this,u,v)},a.prototype.genKeyPair=function(u){u||(u={});for(var v=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||c(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),E=this.n.sub(new t(2));;){var A=new t(v.generate(g));if(!(A.cmp(E)>0))return A.iaddn(1),this.keyFromPrivate(A)}},a.prototype._truncateToN=function(u,v,g){var E;if(t.isBN(u)||typeof u=="number")u=new t(u,16),E=u.byteLength();else if(typeof u=="object")E=u.length,u=new t(u,16);else{var A=u.toString();E=A.length+1>>>1,u=new t(A,16)}typeof g!="number"&&(g=E*8);var I=g-this.n.bitLength();return I>0&&(u=u.ushrn(I)),!v&&u.cmp(this.n)>=0?u.sub(this.n):u},a.prototype.sign=function(u,v,g,E){if(typeof g=="object"&&(E=g,g=null),E||(E={}),typeof u!="string"&&typeof u!="number"&&!t.isBN(u)){o(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o(u.length>>>0===u.length);for(var A=0;A<u.length;A++)o((u[A]&255)===u[A])}v=this.keyFromPrivate(v,g),u=this._truncateToN(u,!1,E.msgBitLength),o(!u.isNeg(),"Can not sign a negative message");var I=this.n.byteLength(),R=v.getPrivate().toArray("be",I),U=u.toArray("be",I);o(new t(U).eq(u),"Can not sign message");for(var k=new e({hash:this.hash,entropy:R,nonce:U,pers:E.pers,persEnc:E.persEnc||"utf8"}),H=this.n.sub(new t(1)),q=0;;q++){var F=E.k?E.k(q):new t(k.generate(this.n.byteLength()));if(F=this._truncateToN(F,!0),!(F.cmpn(1)<=0||F.cmp(H)>=0)){var j=this.g.mul(F);if(!j.isInfinity()){var J=j.getX(),te=J.umod(this.n);if(te.cmpn(0)!==0){var D=F.invm(this.n).mul(te.mul(v.getPrivate()).iadd(u));if(D=D.umod(this.n),D.cmpn(0)!==0){var X=(j.getY().isOdd()?1:0)|(J.cmp(te)!==0?2:0);return E.canonical&&D.cmp(this.nh)>0&&(D=this.n.sub(D),X^=1),new d({r:te,s:D,recoveryParam:X})}}}}}},a.prototype.verify=function(u,v,g,E,A){A||(A={}),u=this._truncateToN(u,!1,A.msgBitLength),g=this.keyFromPublic(g,E),v=new d(v,"hex");var I=v.r,R=v.s;if(I.cmpn(1)<0||I.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var U=R.invm(this.n),k=U.mul(u).umod(this.n),H=U.mul(I).umod(this.n),q;return this.curve._maxwellTrick?(q=this.g.jmulAdd(k,g.getPublic(),H),q.isInfinity()?!1:q.eqXToP(I)):(q=this.g.mulAdd(k,g.getPublic(),H),q.isInfinity()?!1:q.getX().umod(this.n).cmp(I)===0)},a.prototype.recoverPubKey=function(s,u,v,g){o((3&v)===v,"The recovery param is more than two bits"),u=new d(u,g);var E=this.n,A=new t(s),I=u.r,R=u.s,U=v&1,k=v>>1;if(I.cmp(this.curve.p.umod(this.curve.n))>=0&&k)throw new Error("Unable to find sencond key candinate");k?I=this.curve.pointFromX(I.add(this.curve.n),U):I=this.curve.pointFromX(I,U);var H=u.r.invm(E),q=E.sub(A).mul(H).umod(E),F=R.mul(H).umod(E);return this.g.mulAdd(q,I,F)},a.prototype.getKeyRecoveryParam=function(s,u,v,g){if(u=new d(u,g),u.recoveryParam!==null)return u.recoveryParam;for(var E=0;E<4;E++){var A;try{A=this.recoverPubKey(s,u,E)}catch{continue}if(A.eq(v))return E}throw new Error("Unable to find valid recovery factor")},zi}var Hi,As;function Ml(){if(As)return Hi;As=1;var t=zt(),e=t.assert,r=t.parseBytes,i=t.cachedProperty;function c(o,p){this.eddsa=o,this._secret=r(p.secret),o.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=r(p.pub)}return c.fromPublic=function(p,d){return d instanceof c?d:new c(p,{pub:d})},c.fromSecret=function(p,d){return d instanceof c?d:new c(p,{secret:d})},c.prototype.secret=function(){return this._secret},i(c,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(c,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(c,"privBytes",function(){var p=this.eddsa,d=this.hash(),a=p.encodingLength-1,s=d.slice(0,p.encodingLength);return s[0]&=248,s[a]&=127,s[a]|=64,s}),i(c,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(c,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(c,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),c.prototype.sign=function(p){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(p,this)},c.prototype.verify=function(p,d){return this.eddsa.verify(p,d,this)},c.prototype.getSecret=function(p){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),p)},c.prototype.getPublic=function(p){return t.encode(this.pubBytes(),p)},Hi=c,Hi}var Ki,Ss;function Il(){if(Ss)return Ki;Ss=1;var t=Jt(),e=zt(),r=e.assert,i=e.cachedProperty,c=e.parseBytes;function o(p,d){this.eddsa=p,typeof d!="object"&&(d=c(d)),Array.isArray(d)&&(r(d.length===p.encodingLength*2,"Signature has invalid size"),d={R:d.slice(0,p.encodingLength),S:d.slice(p.encodingLength)}),r(d.R&&d.S,"Signature without R or S"),p.isPoint(d.R)&&(this._R=d.R),d.S instanceof t&&(this._S=d.S),this._Rencoded=Array.isArray(d.R)?d.R:d.Rencoded,this._Sencoded=Array.isArray(d.S)?d.S:d.Sencoded}return i(o,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(o,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(o,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(o,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),o.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},o.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},Ki=o,Ki}var Wi,Ms;function Tl(){if(Ms)return Wi;Ms=1;var t=To(),e=Bo(),r=zt(),i=r.assert,c=r.parseBytes,o=Ml(),p=Il();function d(a){if(i(a==="ed25519","only tested with ed25519 so far"),!(this instanceof d))return new d(a);a=e[a].curve,this.curve=a,this.g=a.g,this.g.precompute(a.n.bitLength()+1),this.pointClass=a.point().constructor,this.encodingLength=Math.ceil(a.n.bitLength()/8),this.hash=t.sha512}return Wi=d,d.prototype.sign=function(s,u){s=c(s);var v=this.keyFromSecret(u),g=this.hashInt(v.messagePrefix(),s),E=this.g.mul(g),A=this.encodePoint(E),I=this.hashInt(A,v.pubBytes(),s).mul(v.priv()),R=g.add(I).umod(this.curve.n);return this.makeSignature({R:E,S:R,Rencoded:A})},d.prototype.verify=function(s,u,v){if(s=c(s),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var g=this.keyFromPublic(v),E=this.hashInt(u.Rencoded(),g.pubBytes(),s),A=this.g.mul(u.S()),I=u.R().add(g.pub().mul(E));return I.eq(A)},d.prototype.hashInt=function(){for(var s=this.hash(),u=0;u<arguments.length;u++)s.update(arguments[u]);return r.intFromLE(s.digest()).umod(this.curve.n)},d.prototype.keyFromPublic=function(s){return o.fromPublic(this,s)},d.prototype.keyFromSecret=function(s){return o.fromSecret(this,s)},d.prototype.makeSignature=function(s){return s instanceof p?s:new p(this,s)},d.prototype.encodePoint=function(s){var u=s.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=s.getX().isOdd()?128:0,u},d.prototype.decodePoint=function(s){s=r.parseBytes(s);var u=s.length-1,v=s.slice(0,u).concat(s[u]&-129),g=(s[u]&128)!==0,E=r.intFromLE(v);return this.curve.pointFromY(E,g)},d.prototype.encodeInt=function(s){return s.toArray("le",this.encodingLength)},d.prototype.decodeInt=function(s){return r.intFromLE(s)},d.prototype.isPoint=function(s){return s instanceof this.pointClass},Wi}var Is;function Bl(){return Is||(Is=1,(function(t){var e=t;e.version=dl.version,e.utils=zt(),e.rand=Rf(),e.curve=Cf(),e.curves=Bo(),e.ec=Sl(),e.eddsa=Tl()})(wi)),wi}var Vi,Ts;function Rl(){if(Ts)return Vi;Ts=1;const t=Bl().ec,e=new t("secp256k1"),r=e.curve,i=r.n.constructor;function c(a,s){let u=new i(s);if(u.cmp(r.p)>=0)return null;u=u.toRed(r.red);let v=u.redSqr().redIMul(u).redIAdd(r.b).redSqrt();a===3!==v.isOdd()&&(v=v.redNeg());const g=u.redSqr().redIMul(u);return v.redSqr().redISub(g.redIAdd(r.b)).isZero()?e.keyPair({pub:{x:u,y:v}}):null}function o(a,s,u){let v=new i(s),g=new i(u);if(v.cmp(r.p)>=0||g.cmp(r.p)>=0||(v=v.toRed(r.red),g=g.toRed(r.red),(a===6||a===7)&&g.isOdd()!==(a===7)))return null;const E=v.redSqr().redIMul(v);return g.redSqr().redISub(E.redIAdd(r.b)).isZero()?e.keyPair({pub:{x:v,y:g}}):null}function p(a){const s=a[0];switch(s){case 2:case 3:return a.length!==33?null:c(s,a.subarray(1,33));case 4:case 6:case 7:return a.length!==65?null:o(s,a.subarray(1,33),a.subarray(33,65));default:return null}}function d(a,s){const u=s.encode(null,a.length===33);for(let v=0;v<a.length;++v)a[v]=u[v]}return Vi={contextRandomize(){return 0},privateKeyVerify(a){const s=new i(a);return s.cmp(r.n)<0&&!s.isZero()?0:1},privateKeyNegate(a){const s=new i(a),u=r.n.sub(s).umod(r.n).toArrayLike(Uint8Array,"be",32);return a.set(u),0},privateKeyTweakAdd(a,s){const u=new i(s);if(u.cmp(r.n)>=0||(u.iadd(new i(a)),u.cmp(r.n)>=0&&u.isub(r.n),u.isZero()))return 1;const v=u.toArrayLike(Uint8Array,"be",32);return a.set(v),0},privateKeyTweakMul(a,s){let u=new i(s);if(u.cmp(r.n)>=0||u.isZero())return 1;u.imul(new i(a)),u.cmp(r.n)>=0&&(u=u.umod(r.n));const v=u.toArrayLike(Uint8Array,"be",32);return a.set(v),0},publicKeyVerify(a){return p(a)===null?1:0},publicKeyCreate(a,s){const u=new i(s);if(u.cmp(r.n)>=0||u.isZero())return 1;const v=e.keyFromPrivate(s).getPublic();return d(a,v),0},publicKeyConvert(a,s){const u=p(s);if(u===null)return 1;const v=u.getPublic();return d(a,v),0},publicKeyNegate(a,s){const u=p(s);if(u===null)return 1;const v=u.getPublic();return v.y=v.y.redNeg(),d(a,v),0},publicKeyCombine(a,s){const u=new Array(s.length);for(let g=0;g<s.length;++g)if(u[g]=p(s[g]),u[g]===null)return 1;let v=u[0].getPublic();for(let g=1;g<u.length;++g)v=v.add(u[g].pub);return v.isInfinity()?2:(d(a,v),0)},publicKeyTweakAdd(a,s,u){const v=p(s);if(v===null)return 1;if(u=new i(u),u.cmp(r.n)>=0)return 2;const g=v.getPublic().add(r.g.mul(u));return g.isInfinity()?2:(d(a,g),0)},publicKeyTweakMul(a,s,u){const v=p(s);if(v===null)return 1;if(u=new i(u),u.cmp(r.n)>=0||u.isZero())return 2;const g=v.getPublic().mul(u);return d(a,g),0},signatureNormalize(a){const s=new i(a.subarray(0,32)),u=new i(a.subarray(32,64));return s.cmp(r.n)>=0||u.cmp(r.n)>=0?1:(u.cmp(e.nh)===1&&a.set(r.n.sub(u).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(a,s){const u=s.subarray(0,32),v=s.subarray(32,64);if(new i(u).cmp(r.n)>=0||new i(v).cmp(r.n)>=0)return 1;const{output:g}=a;let E=g.subarray(4,37);E[0]=0,E.set(u,1);let A=33,I=0;for(;A>1&&E[I]===0&&!(E[I+1]&128);--A,++I);if(E=E.subarray(I),E[0]&128||A>1&&E[0]===0&&!(E[1]&128))return 1;let R=g.subarray(39,72);R[0]=0,R.set(v,1);let U=33,k=0;for(;U>1&&R[k]===0&&!(R[k+1]&128);--U,++k);return R=R.subarray(k),R[0]&128||U>1&&R[0]===0&&!(R[1]&128)?1:(a.outputlen=6+A+U,g[0]=48,g[1]=a.outputlen-2,g[2]=2,g[3]=E.length,g.set(E,4),g[4+A]=2,g[5+A]=R.length,g.set(R,6+A),0)},signatureImport(a,s){if(s.length<8||s.length>72||s[0]!==48||s[1]!==s.length-2||s[2]!==2)return 1;const u=s[3];if(u===0||5+u>=s.length||s[4+u]!==2)return 1;const v=s[5+u];if(v===0||6+u+v!==s.length||s[4]&128||u>1&&s[4]===0&&!(s[5]&128)||s[u+6]&128||v>1&&s[u+6]===0&&!(s[u+7]&128))return 1;let g=s.subarray(4,4+u);if(g.length===33&&g[0]===0&&(g=g.subarray(1)),g.length>32)return 1;let E=s.subarray(6+u);if(E.length===33&&E[0]===0&&(E=E.slice(1)),E.length>32)throw new Error("S length is too long");let A=new i(g);A.cmp(r.n)>=0&&(A=new i(0));let I=new i(s.subarray(6+u));return I.cmp(r.n)>=0&&(I=new i(0)),a.set(A.toArrayLike(Uint8Array,"be",32),0),a.set(I.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(a,s,u,v,g){if(g){const I=g;g=R=>{const U=I(s,u,null,v,R);if(!(U instanceof Uint8Array&&U.length===32))throw new Error("This is the way");return new i(U)}}const E=new i(u);if(E.cmp(r.n)>=0||E.isZero())return 1;let A;try{A=e.sign(s,u,{canonical:!0,k:g,pers:v})}catch{return 1}return a.signature.set(A.r.toArrayLike(Uint8Array,"be",32),0),a.signature.set(A.s.toArrayLike(Uint8Array,"be",32),32),a.recid=A.recoveryParam,0},ecdsaVerify(a,s,u){const v={r:a.subarray(0,32),s:a.subarray(32,64)},g=new i(v.r),E=new i(v.s);if(g.cmp(r.n)>=0||E.cmp(r.n)>=0)return 1;if(E.cmp(e.nh)===1||g.isZero()||E.isZero())return 3;const A=p(u);if(A===null)return 2;const I=A.getPublic();return e.verify(s,v,I)?0:3},ecdsaRecover(a,s,u,v){const g={r:s.slice(0,32),s:s.slice(32,64)},E=new i(g.r),A=new i(g.s);if(E.cmp(r.n)>=0||A.cmp(r.n)>=0)return 1;if(E.isZero()||A.isZero())return 2;let I;try{I=e.recoverPubKey(v,g,u)}catch{return 2}return d(a,I),0},ecdh(a,s,u,v,g,E,A){const I=p(s);if(I===null)return 1;const R=new i(u);if(R.cmp(r.n)>=0||R.isZero())return 2;const U=I.getPublic().mul(R);if(g===void 0){const k=U.encode(null,!0),H=e.hash().update(k).digest();for(let q=0;q<32;++q)a[q]=H[q]}else{E||(E=new Uint8Array(32));const k=U.getX().toArray("be",32);for(let j=0;j<32;++j)E[j]=k[j];A||(A=new Uint8Array(32));const H=U.getY().toArray("be",32);for(let j=0;j<32;++j)A[j]=H[j];const q=g(E,A,v);if(!(q instanceof Uint8Array&&q.length===a.length))return 2;a.set(q)}return 0}},Vi}var Gi,Bs;function Uf(){return Bs||(Bs=1,Gi=fl()(Rl())),Gi}var Rs;function Ro(){if(Rs)return xr;Rs=1;var t=xr&&xr.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xr,"__esModule",{value:!0}),xr.PublicKey=void 0;const e=wn(),r=If(),i=t(Uf()),c=ei();function o(u){switch(u){case c.KeyType.ED25519:return"ed25519";case c.KeyType.SECP256K1:return"secp256k1";default:throw new Error(`Unknown key type ${u}`)}}function p(u){switch(u.toLowerCase()){case"ed25519":return c.KeyType.ED25519;case"secp256k1":return c.KeyType.SECP256K1;default:throw new Error(`Unknown key type ${u}`)}}function d(u){switch(u){case c.KeyType.ED25519:return"ed25519Key";case c.KeyType.SECP256K1:return"secp256k1Key";default:throw Error(`unknown type ${u}`)}}class a{constructor(v){if(Object.keys(v).length!==1)throw new Error("Enum can only take single value");Object.keys(v).map(g=>{this[g]=v[g]})}}class s extends a{enum;ed25519Key;secp256k1Key;constructor(v){const g=d(v.keyType);super({[g]:v}),this[g]=v,this.enum=g}static from(v){return typeof v=="string"?s.fromString(v):v}static fromString(v){const g=v.split(":");let E,A;if(g.length===1)E=g[0];else if(g.length===2)E=g[1],A=p(g[0]);else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");const I=(0,e.baseDecode)(E);A||(A=I.length===c.KeySize.SECP256k1_PUBLIC_KEY?c.KeyType.SECP256K1:c.KeyType.ED25519);const R=A===c.KeyType.ED25519?c.KeySize.ED25519_PUBLIC_KEY:c.KeySize.SECP256k1_PUBLIC_KEY;if(I.length!==R)throw new Error(`Invalid public key size (${I.length}), must be ${R}`);return new s({keyType:A,data:I})}toString(){const v=(0,e.baseEncode)(this.data);return`${o(this.keyType)}:${v}`}verify(v,g){const E=this.keyType,A=this.data;switch(E){case c.KeyType.ED25519:return r.ed25519.verify(g,v,A);case c.KeyType.SECP256K1:return i.default.ecdsaVerify(g.subarray(0,64),v,new Uint8Array([4,...A]));default:throw new Error(`Unknown key type: ${E}`)}}get keyPair(){return this.ed25519Key||this.secp256k1Key}get keyType(){return this.keyPair.keyType}get data(){return this.keyPair.data}}return xr.PublicKey=s,xr}var Cs;function Lf(){if(Cs)return pr;Cs=1;var t=pr&&pr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pr,"__esModule",{value:!0}),pr.KeyPairEd25519=void 0;const e=wn(),r=If(),i=t(Tf()),c=ei(),o=Mo(),p=Ro();class d extends o.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(s){super();const u=(0,e.baseDecode)(s),v=new Uint8Array(u.slice(0,c.KeySize.SECRET_KEY)),g=r.ed25519.getPublicKey(new Uint8Array(v));this.publicKey=new p.PublicKey({keyType:c.KeyType.ED25519,data:g}),this.secretKey=(0,e.baseEncode)(v),this.extendedSecretKey=s}static fromRandom(){const s=(0,i.default)(c.KeySize.SECRET_KEY),u=r.ed25519.getPublicKey(new Uint8Array(s)),v=new Uint8Array([...s,...u]);return new d((0,e.baseEncode)(v))}sign(s){return{signature:r.ed25519.sign(s,(0,e.baseDecode)(this.secretKey)),publicKey:this.publicKey}}verify(s,u){return this.publicKey.verify(s,u)}toString(){return`ed25519:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return pr.KeyPairEd25519=d,pr}var Er={},Os;function kf(){if(Os)return Er;Os=1;var t=Er&&Er.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.KeyPairSecp256k1=void 0;const e=wn(),r=t(Tf()),i=t(Uf()),c=ei(),o=Mo(),p=Ro();class d extends o.KeyPairBase{publicKey;secretKey;extendedSecretKey;constructor(s){super();const u=(0,e.baseDecode)(s),v=new Uint8Array(u.slice(0,c.KeySize.SECRET_KEY)),g=i.default.publicKeyCreate(new Uint8Array(v),!1),E=g.subarray(1,g.length);this.publicKey=new p.PublicKey({keyType:c.KeyType.SECP256K1,data:E}),this.secretKey=(0,e.baseEncode)(v),this.extendedSecretKey=s}static fromRandom(){const s=(0,r.default)(c.KeySize.SECRET_KEY),u=i.default.publicKeyCreate(new Uint8Array(s),!1),v=u.subarray(1,u.length),g=new Uint8Array([...s,...v]);return new d((0,e.baseEncode)(g))}sign(s){const{signature:u,recid:v}=i.default.ecdsaSign(s,(0,e.baseDecode)(this.secretKey));return{signature:new Uint8Array([...u,v]),publicKey:this.publicKey}}verify(s,u){return this.publicKey.verify(s,u)}toString(){return`secp256k1:${this.extendedSecretKey}`}getPublicKey(){return this.publicKey}}return Er.KeyPairSecp256k1=d,Er}var Ns;function Cl(){if(Ns)return Kr;Ns=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.KeyPair=void 0;const t=Mo(),e=Lf(),r=kf();class i extends t.KeyPairBase{static fromRandom(o){switch(o.toUpperCase()){case"ED25519":return e.KeyPairEd25519.fromRandom();case"SECP256K1":return r.KeyPairSecp256k1.fromRandom();default:throw new Error(`Unknown curve ${o}`)}}static fromString(o){const p=o.split(":");if(p.length===2)switch(p[0].toUpperCase()){case"ED25519":return new e.KeyPairEd25519(p[1]);case"SECP256K1":return new r.KeyPairSecp256k1(p[1]);default:throw new Error(`Unknown curve: ${p[0]}`)}else throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}}return Kr.KeyPair=i,Kr}var Ps;function Ol(){return Ps||(Ps=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=t.KeyPairSecp256k1=t.KeyPairEd25519=t.KeyPair=t.KeyType=void 0;var e=ei();Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return e.KeyType}});var r=Cl();Object.defineProperty(t,"KeyPair",{enumerable:!0,get:function(){return r.KeyPair}});var i=Lf();Object.defineProperty(t,"KeyPairEd25519",{enumerable:!0,get:function(){return i.KeyPairEd25519}});var c=kf();Object.defineProperty(t,"KeyPairSecp256k1",{enumerable:!0,get:function(){return c.KeyPairSecp256k1}});var o=Ro();Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return o.PublicKey}})})(di)),di}var Us;function Nl(){return Us||(Us=1,(function(t){var e=Ht&&Ht.__createBinding||(Object.create?(function(u,v,g,E){E===void 0&&(E=g);var A=Object.getOwnPropertyDescriptor(v,g);(!A||("get"in A?!v.__esModule:A.writable||A.configurable))&&(A={enumerable:!0,get:function(){return v[g]}}),Object.defineProperty(u,E,A)}):(function(u,v,g,E){E===void 0&&(E=g),u[E]=v[g]})),r=Ht&&Ht.__setModuleDefault||(Object.create?(function(u,v){Object.defineProperty(u,"default",{enumerable:!0,value:v})}):function(u,v){u.default=v}),i=Ht&&Ht.__importStar||function(u){if(u&&u.__esModule)return u;var v={};if(u!=null)for(var g in u)g!=="default"&&Object.prototype.hasOwnProperty.call(u,g)&&e(v,u,g);return r(v,u),v},c=Ht&&Ht.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(t,"__esModule",{value:!0}),t.authPayloadSchema=t.AuthPayload=void 0,t.verifySignature=s;const o=i(mu()),p=c(wu()),d=Ol();class a{message;recipient;nonce;callbackUrl;tag;constructor({message:v,nonce:g,recipient:E}){this.tag=2147484061,this.message=v,this.nonce=g,this.recipient=E}}t.AuthPayload=a,t.authPayloadSchema={struct:{tag:"u32",message:"string",nonce:{array:{type:"u8",len:32}},recipient:"string",callbackUrl:{option:"string"}}};function s(u,v){const g=new a(u),E=o.serialize(t.authPayloadSchema,g),A=Uint8Array.from(p.default.sha256.array(E));let I=new Uint8Array(Buffer.from(v.signature,"base64"));return d.PublicKey.from(v.publicKey).verify(A,I)}})(Ht)),Ht}var rn={};const Pl=/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;function qf(t){return Pl.test(t)}function ao(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.split(/[:\/]/g).pop().toLowerCase()}ao.valid=qf;const Ul=Object.freeze(Object.defineProperty({__proto__:null,default:ao,uuid4:ao,valid:qf},Symbol.toStringTag,{value:"Module"})),$f=Hs(Ul);var nn={},Yi={exports:{}},Xi={exports:{}},Ls;function Ll(){return Ls||(Ls=1,(function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(r,i){return r<<i|r>>>32-i},rotr:function(r,i){return r<<32-i|r>>>i},endian:function(r){if(r.constructor==Number)return e.rotl(r,8)&16711935|e.rotl(r,24)&4278255360;for(var i=0;i<r.length;i++)r[i]=e.endian(r[i]);return r},randomBytes:function(r){for(var i=[];r>0;r--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(r){for(var i=[],c=0,o=0;c<r.length;c++,o+=8)i[o>>>5]|=r[c]<<24-o%32;return i},wordsToBytes:function(r){for(var i=[],c=0;c<r.length*32;c+=8)i.push(r[c>>>5]>>>24-c%32&255);return i},bytesToHex:function(r){for(var i=[],c=0;c<r.length;c++)i.push((r[c]>>>4).toString(16)),i.push((r[c]&15).toString(16));return i.join("")},hexToBytes:function(r){for(var i=[],c=0;c<r.length;c+=2)i.push(parseInt(r.substr(c,2),16));return i},bytesToBase64:function(r){for(var i=[],c=0;c<r.length;c+=3)for(var o=r[c]<<16|r[c+1]<<8|r[c+2],p=0;p<4;p++)c*8+p*6<=r.length*8?i.push(t.charAt(o>>>6*(3-p)&63)):i.push("=");return i.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],c=0,o=0;c<r.length;o=++c%4)o!=0&&i.push((t.indexOf(r.charAt(c-1))&Math.pow(2,-2*o+8)-1)<<o*2|t.indexOf(r.charAt(c))>>>6-o*2);return i}};Xi.exports=e})()),Xi.exports}var Zi,ks;function qs(){if(ks)return Zi;ks=1;var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var r=[],i=0;i<e.length;i++)r.push(e.charCodeAt(i)&255);return r},bytesToString:function(e){for(var r=[],i=0;i<e.length;i++)r.push(String.fromCharCode(e[i]));return r.join("")}}};return Zi=t,Zi}var $s;function kl(){return $s||($s=1,(function(){var t=Ll(),e=qs().utf8,r=qs().bin,i=function(o){o.constructor==String?o=e.stringToBytes(o):typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(o)?o=Array.prototype.slice.call(o,0):Array.isArray(o)||(o=o.toString());var p=t.bytesToWords(o),d=o.length*8,a=[],s=1732584193,u=-271733879,v=-1732584194,g=271733878,E=-1009589776;p[d>>5]|=128<<24-d%32,p[(d+64>>>9<<4)+15]=d;for(var A=0;A<p.length;A+=16){for(var I=s,R=u,U=v,k=g,H=E,q=0;q<80;q++){if(q<16)a[q]=p[A+q];else{var F=a[q-3]^a[q-8]^a[q-14]^a[q-16];a[q]=F<<1|F>>>31}var j=(s<<5|s>>>27)+E+(a[q]>>>0)+(q<20?(u&v|~u&g)+1518500249:q<40?(u^v^g)+1859775393:q<60?(u&v|u&g|v&g)-1894007588:(u^v^g)-899497514);E=g,g=v,v=u<<30|u>>>2,u=s,s=j}s+=I,u+=R,v+=U,g+=k,E+=H}return[s,u,v,g,E]},c=function(o,p){var d=t.wordsToBytes(i(o));return p&&p.asBytes?d:p&&p.asString?r.bytesToString(d):t.bytesToHex(d)};c._blocksize=16,c._digestsize=20,Yi.exports=c})()),Yi.exports}var Ds;function ql(){return Ds||(Ds=1,(function(t){var e=nn&&nn.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.createRequest=t.computeRequestId=t.deleteRequest=t.getResponse=t.proxyApi=void 0;const r=e(kl()),i=e($f),c=wn();t.proxyApi="https://h4n.app";const o=async s=>{const u=await fetch(`${t.proxyApi}/${s}/response`,{headers:{"content-type":"application/json"},method:"GET"});if(u.ok===!1)throw Error(await u.text());const{data:v}=await u.json();return JSON.parse(v)};t.getResponse=o;const p=async s=>{const u=await fetch(`${t.proxyApi}/${s}`,{headers:{"content-type":"application/json"},method:"DELETE"});if(u.ok===!1)throw Error(await u.text())};t.deleteRequest=p;const d=async s=>{const u=(0,c.baseEncode)(JSON.stringify({...s,_id:(0,i.default)()})),v=(0,r.default)(u);return{requestId:Buffer.from(v,"hex").toString("base64").replaceAll("/","_").replaceAll("-","+").slice(0,13),query:u}};t.computeRequestId=d;const a=async(s,u)=>{const{query:v,requestId:g}=await(0,t.computeRequestId)(s),E=await fetch(`${t.proxyApi}/${g}/request`,{body:JSON.stringify({data:v}),headers:{"content-type":"application/json"},method:"POST",signal:u});if(E.ok===!1)throw Error(await E.text());return g};t.createRequest=a})(nn)),nn}var Fs;function $l(){return Fs||(Fs=1,(function(t){var e=rn&&rn.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(t,"__esModule",{value:!0}),t.getExtension=t.RequestFailed=t.wait=void 0;const r=e($f),i=wn(),c=ql(),o=v=>new Promise(g=>setTimeout(g,v));t.wait=o;class p extends Error{payload;name="RequestFailed";constructor(g){super(),this.payload=g}}t.RequestFailed=p;const d=()=>typeof window>"u"?null:window.hotExtension;t.getExtension=d;let a;typeof window<"u"&&window.addEventListener("message",v=>{v.data==="hot-close"&&(a?.remove(),a=void 0)});const s=v=>{a?.remove(),a=document.createElement("div");const g=document.createElement("iframe");return a?.appendChild(g),g.src=v,g.allow="usb",g.style.border="none",g.style.borderRadius="16px",g.style.background="#fff",g.style.overflow="hidden",g.style.background="#1D1F20",g.style.border="1px solid #2C3034",g.style.width="375px",g.style.height="560px",g.onclick=E=>E.stopPropagation(),a.style.padding="16px",a.style.zIndex="100000000000000",a.style.position="fixed",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.background="rgba(0, 0, 0, 0.1)",a.style.backdropFilter="blur(24px)",a.onclick=()=>{a?.remove(),a=void 0},document.body.appendChild(a),a};class u{walletId="https://t.me/herewalletbot/app";ancestorOrigins=["http://localhost:1234","https://my.herewallet.app","https://tgapp-dev.herewallet.app","https://tgapp.herewallet.app","https://beta.herewallet.app"];connection=new Promise(g=>{if(typeof window>"u"||window?.self===window?.top)return g(null);this.injectedRequest("initialized",{}).then(g).catch(()=>g(null))});get isInjected(){return typeof window>"u"?!1:window.hotExtension!=null?window.hotExtension.autoRun:this.ancestorOrigins.includes(window.location.ancestorOrigins?.[0])}openInHotBrowserUrl=null;toggleOpenInHotBrowser(g){this.openInHotBrowserUrl=g}customProvider;setupEthProvider(g){this.customProvider=g}async injectedRequest(g,E){const A=(0,r.default)();return new Promise((I,R)=>{const U=k=>{if(k.data.id===A)return window?.removeEventListener("message",U),k.data.success?I(k.data.payload):R(k.data.payload)};window?.parent.postMessage({$hot:!0,method:g,request:E,id:A},"*"),window?.addEventListener("message",U)})}subscribe(g,E){return window.hotExtension?window.hotExtension.subscribe(g,E):()=>{}}async request(g,E){if(window.hotExtension!=null)return window.hotExtension.request(g,E);if(this.isInjected)return this.injectedRequest(g,E);const A=(0,r.default)(),I=window?.Telegram?.WebApp,R=await(0,c.createRequest)({inside:!!this.openInHotBrowserUrl||g==="ethereum"&&this.customProvider==null,origin:typeof this.openInHotBrowserUrl=="string"?this.openInHotBrowserUrl:location.href,$hot:!0,method:g,request:E,id:A}),U=`${this.walletId}?startapp=hotconnect-${(0,i.baseEncode)(R)}`;I?I?.openTelegramLink(U):s(`https://hot-labs.org/hot-widget/index.html?hotconnect-${(0,i.baseEncode)(R)}`);const k=async()=>{await(0,t.wait)(3e3);const q=await(0,c.getResponse)(R).catch(()=>null);if(q==null)return await k();if(q.success)return q.payload;throw new p(q.payload)},H=await k();return a?.remove(),H}}t.default=new u})(rn)),rn}var js;function Dl(){return js||(js=1,(function(t){var e=jr&&jr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.RequestFailed=t.HOT=t.authPayloadSchema=t.AuthPayload=t.verifySignature=void 0;var r=Nl();Object.defineProperty(t,"verifySignature",{enumerable:!0,get:function(){return r.verifySignature}}),Object.defineProperty(t,"AuthPayload",{enumerable:!0,get:function(){return r.AuthPayload}}),Object.defineProperty(t,"authPayloadSchema",{enumerable:!0,get:function(){return r.authPayloadSchema}});var i=$l();Object.defineProperty(t,"HOT",{enumerable:!0,get:function(){return e(i).default}}),Object.defineProperty(t,"RequestFailed",{enumerable:!0,get:function(){return i.RequestFailed}})})(jr)),jr}Dl();function on(t){return{code:t?.error?.code||t?.code||-1,message:t?.error?.message||t?.message||typeof t=="string"&&t||"Unhandled error from the wallet",ext:t?.error?.ext||t?.ext}}typeof window<"u"&&(window.Buffer=Ji.Buffer);const nr=document.getElementById("connect-btn"),so=document.getElementById("disconnect-btn"),ir=document.getElementById("status-text"),zs=document.getElementById("wallet-info"),Pn=document.getElementById("public-key"),En=new URLSearchParams(window.location.search),Vn=En.get("message"),Df=En.get("network"),pn=En.get("cid"),bn=En.get("pid"),Ff=En.get("gamerTag"),jf=!Df||!pn||!bn||!Ff;(async function(){if(jf){Fl();return}const e=new Xc({network:zf(),selectedWalletId:yf,modules:[new su]});await jl(e),zl(e)})();function Fl(){nr.disabled=!0,nr.classList.add("hidden"),ir.textContent="Missing required URL parameters"}function zf(){switch(Df){case"public":return an.PUBLIC;case"testnet":return an.TESTNET;default:return an.TESTNET}}async function jl(t){if(jf)return;const e=localStorage.getItem("stellarAddress"),r=localStorage.getItem("walletId");if(!e||!r){cn(null);return}cn(e),Vn&&r&&(t.setWallet(r),await Hf(t,Vn))}function cn(t){if(t){zs.classList.remove("hidden"),ir.innerHTML="Connected.<br>Please go back to the game.",nr.classList.add("hidden"),so.classList.remove("hidden");const e=`${t.substring(0,8)}...${t.substring(t.length-8)}`;Pn.textContent=e,Pn.title=t}else console.log("Wallet disconnected, updating UI"),nr.disabled=!1,ir.textContent="Not Connected",zs.classList.add("hidden"),ir.classList.remove("hidden"),nr.classList.remove("hidden"),so.classList.add("hidden"),Pn.textContent="",Pn.title=""}async function Hf(t,e){try{const r=await t.getAddress(),{signedMessage:i}=await t.signMessage(e,{address:r.address,networkPassphrase:zf()});await Kl(r.address,e,i),ir.innerHTML="Message signed successfully.<br>Please go back to the game."}catch(r){console.error("Signing error:",r),ir.textContent="Failed to sign message"}}function zl(t){nr.addEventListener("click",async()=>{try{ir.textContent="Connecting...",nr.disabled=!0,await t.openModal({onWalletSelected:async e=>{t.setWallet(e.id);const{address:r}=await t.getAddress();cn(r),localStorage.setItem("stellarAddress",r),localStorage.setItem("walletId",e.id),r&&await Hl(r),Vn&&await Hf(t,Vn)},onClosed:()=>cn(null)})}catch(e){console.error(e),ir.textContent="Connection failed.",nr.disabled=!1}}),so.addEventListener("click",async()=>{await t.disconnect(),cn(null),localStorage.removeItem("stellarAddress"),localStorage.removeItem("walletId")})}async function Hl(t){try{await fetch(`https://api.beamable.com/basic/${pn}.${bn}.micro_StellarFederation/ExternalAddress`,{method:"POST",headers:{"Content-Type":"application/json","x-de-scope":`${pn}.${bn}`},body:JSON.stringify({address:t,gamerTag:Ff})})}catch(e){console.error("postSignature error:",e)}}async function Kl(t,e,r){try{await fetch(`https://api.beamable.com/basic/${pn}.${bn}.micro_StellarFederation/ExternalSignature`,{method:"POST",headers:{"Content-Type":"application/json","x-de-scope":`${pn}.${bn}`},body:JSON.stringify({address:t,message:e,signature:r})})}catch(i){console.error("postSignature error:",i)}}
